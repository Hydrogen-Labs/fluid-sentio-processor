import { createRequire as createRequireShim } from 'module'; const require = createRequireShim(import.meta.url);
var SZ=Object.create;var om=Object.defineProperty;var _Z=Object.getOwnPropertyDescriptor;var EZ=Object.getOwnPropertyNames;var TZ=Object.getPrototypeOf,AZ=Object.prototype.hasOwnProperty;var CZ=(t,e,r)=>e in t?om(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ve=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var ae=(t,e)=>()=>(t&&(e=t(t=0)),e);var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vl=(t,e)=>{for(var r in e)om(t,r,{get:e[r],enumerable:!0})},Yw=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of EZ(e))!AZ.call(t,i)&&i!==r&&om(t,i,{get:()=>e[i],enumerable:!(n=_Z(e,i))||n.enumerable});return t};var tr=(t,e,r)=>(r=t!=null?SZ(TZ(t)):{},Yw(e||!t||!t.__esModule?om(r,"default",{value:t,enumerable:!0}):r,t)),Hr=t=>Yw(om({},"__esModule",{value:!0}),t);var Yi=(t,e,r)=>(CZ(t,typeof e!="symbol"?e+"":e,r),r),gC=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var vo=(t,e,r)=>(gC(t,e,"read from private field"),r?r.call(t):e.get(t)),js=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},bo=(t,e,r,n)=>(gC(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var eu=(t,e,r)=>(gC(t,e,"access private method"),r);var bC=h((bBe,uP)=>{"use strict";uP.exports=IZ;function IZ(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,u){r[n]=function(c){if(a)if(a=!1,c)u(c);else{for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f++]=arguments[f];s.apply(null,d)}};try{t.apply(e||null,r)}catch(l){a&&(a=!1,u(l))}})}});var fP=h(dP=>{"use strict";var N0=dP;N0.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var _l=new Array(64),cP=new Array(123);for(ai=0;ai<64;)cP[_l[ai]=ai<26?ai+65:ai<52?ai+71:ai<62?ai-4:ai-59|43]=ai++;var ai;N0.encode=function(e,r,n){for(var i=null,a=[],o=0,s=0,u;r<n;){var l=e[r++];switch(s){case 0:a[o++]=_l[l>>2],u=(l&3)<<4,s=1;break;case 1:a[o++]=_l[u|l>>4],u=(l&15)<<2,s=2;break;case 2:a[o++]=_l[u|l>>6],a[o++]=_l[l&63],s=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0)}return s&&(a[o++]=_l[u],a[o++]=61,s===1&&(a[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var lP="invalid encoding";N0.decode=function(e,r,n){for(var i=n,a=0,o,s=0;s<e.length;){var u=e.charCodeAt(s++);if(u===61&&a>1)break;if((u=cP[u])===void 0)throw Error(lP);switch(a){case 0:o=u,a=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,a=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,a=3;break;case 3:r[n++]=(o&3)<<6|u,a=0;break}}if(a===1)throw Error(lP);return n-i};N0.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var pP=h((_Be,hP)=>{"use strict";hP.exports=R0;function R0(){this._listeners={}}R0.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};R0.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};R0.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var _P=h((EBe,SP)=>{"use strict";SP.exports=mP(mP);function mP(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,l,c){e[0]=u,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3]}function a(u,l,c){e[0]=u,l[c]=r[3],l[c+1]=r[2],l[c+2]=r[1],l[c+3]=r[0]}t.writeFloatLE=n?i:a,t.writeFloatBE=n?a:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],e[0]}function s(u,l){return r[3]=u[l],r[2]=u[l+1],r[1]=u[l+2],r[0]=u[l+3],e[0]}t.readFloatLE=n?o:s,t.readFloatBE=n?s:o}():function(){function e(n,i,a,o){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,a,o);else if(isNaN(i))n(2143289344,a,o);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,a,o);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,a,o);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((s<<31|u+127<<23|l)>>>0,a,o)}}t.writeFloatLE=e.bind(null,gP),t.writeFloatBE=e.bind(null,yP);function r(n,i,a){var o=n(i,a),s=(o>>31)*2+1,u=o>>>23&255,l=o&8388607;return u===255?l?NaN:s*(1/0):u===0?s*1401298464324817e-60*l:s*Math.pow(2,u-150)*(l+8388608)}t.readFloatLE=r.bind(null,vP),t.readFloatBE=r.bind(null,bP)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,l,c){e[0]=u,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3],l[c+4]=r[4],l[c+5]=r[5],l[c+6]=r[6],l[c+7]=r[7]}function a(u,l,c){e[0]=u,l[c]=r[7],l[c+1]=r[6],l[c+2]=r[5],l[c+3]=r[4],l[c+4]=r[3],l[c+5]=r[2],l[c+6]=r[1],l[c+7]=r[0]}t.writeDoubleLE=n?i:a,t.writeDoubleBE=n?a:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],r[4]=u[l+4],r[5]=u[l+5],r[6]=u[l+6],r[7]=u[l+7],e[0]}function s(u,l){return r[7]=u[l],r[6]=u[l+1],r[5]=u[l+2],r[4]=u[l+3],r[3]=u[l+4],r[2]=u[l+5],r[1]=u[l+6],r[0]=u[l+7],e[0]}t.readDoubleLE=n?o:s,t.readDoubleBE=n?s:o}():function(){function e(n,i,a,o,s,u){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,s,u+i),n(1/o>0?0:2147483648,s,u+a);else if(isNaN(o))n(0,s,u+i),n(2146959360,s,u+a);else if(o>17976931348623157e292)n(0,s,u+i),n((l<<31|2146435072)>>>0,s,u+a);else{var c;if(o<22250738585072014e-324)c=o/5e-324,n(c>>>0,s,u+i),n((l<<31|c/4294967296)>>>0,s,u+a);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),c=o*Math.pow(2,-d),n(c*4503599627370496>>>0,s,u+i),n((l<<31|d+1023<<20|c*1048576&1048575)>>>0,s,u+a)}}}t.writeDoubleLE=e.bind(null,gP,0,4),t.writeDoubleBE=e.bind(null,yP,4,0);function r(n,i,a,o,s){var u=n(o,s+i),l=n(o,s+a),c=(l>>31)*2+1,d=l>>>20&2047,f=4294967296*(l&1048575)+u;return d===2047?f?NaN:c*(1/0):d===0?c*5e-324*f:c*Math.pow(2,d-1075)*(f+4503599627370496)}t.readDoubleLE=r.bind(null,vP,0,4),t.readDoubleBE=r.bind(null,bP,4,0)}(),t}function gP(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function yP(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function vP(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function bP(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var SC=h((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var TP=h(EP=>{"use strict";var _C=EP;_C.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};_C.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var a=null,o=[],s=0,u;r<n;)u=e[r++],u<128?o[s++]=u:u>191&&u<224?o[s++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[s++]=55296+(u>>10),o[s++]=56320+(u&1023)):o[s++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};_C.write=function(e,r,n){for(var i=n,a,o,s=0;s<e.length;++s)a=e.charCodeAt(s),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((o=e.charCodeAt(s+1))&64512)===56320?(a=65536+((a&1023)<<10)+(o&1023),++s,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-i}});var CP=h((ABe,AP)=>{"use strict";AP.exports=OZ;function OZ(t,e,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(a=t(n),o=0);var l=e.call(a,o,o+=u);return o&7&&(o=(o|7)+1),l}}});var IP=h((CBe,kP)=>{"use strict";kP.exports=Kt;var sm=$i();function Kt(t,e){this.lo=t>>>0,this.hi=e>>>0}var ru=Kt.zero=new Kt(0,0);ru.toNumber=function(){return 0};ru.zzEncode=ru.zzDecode=function(){return this};ru.length=function(){return 1};var NZ=Kt.zeroHash="\0\0\0\0\0\0\0\0";Kt.fromNumber=function(e){if(e===0)return ru;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(n,i)};Kt.from=function(e){if(typeof e=="number")return Kt.fromNumber(e);if(sm.isString(e))if(sm.Long)e=sm.Long.fromString(e);else return Kt.fromNumber(parseInt(e,10));return e.low||e.high?new Kt(e.low>>>0,e.high>>>0):ru};Kt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Kt.prototype.toLong=function(e){return sm.Long?new sm.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var So=String.prototype.charCodeAt;Kt.fromHash=function(e){return e===NZ?ru:new Kt((So.call(e,0)|So.call(e,1)<<8|So.call(e,2)<<16|So.call(e,3)<<24)>>>0,(So.call(e,4)|So.call(e,5)<<8|So.call(e,6)<<16|So.call(e,7)<<24)>>>0)};Kt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Kt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Kt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Kt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var $i=h(EC=>{"use strict";var le=EC;le.asPromise=bC();le.base64=fP();le.EventEmitter=pP();le.float=_P();le.inquire=SC();le.utf8=TP();le.pool=CP();le.LongBits=IP();le.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);le.global=le.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||EC;le.emptyArray=Object.freeze?Object.freeze([]):[];le.emptyObject=Object.freeze?Object.freeze({}):{};le.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};le.isString=function(e){return typeof e=="string"||e instanceof String};le.isObject=function(e){return e&&typeof e=="object"};le.isset=le.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};le.Buffer=function(){try{var t=le.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();le._Buffer_from=null;le._Buffer_allocUnsafe=null;le.newBuffer=function(e){return typeof e=="number"?le.Buffer?le._Buffer_allocUnsafe(e):new le.Array(e):le.Buffer?le._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};le.Array=typeof Uint8Array<"u"?Uint8Array:Array;le.Long=le.global.dcodeIO&&le.global.dcodeIO.Long||le.global.Long||le.inquire("long");le.key2Re=/^true|false|0|1$/;le.key32Re=/^-?(?:0|[1-9][0-9]*)$/;le.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;le.longToHash=function(e){return e?le.LongBits.from(e).toHash():le.LongBits.zeroHash};le.longFromHash=function(e,r){var n=le.LongBits.fromHash(e);return le.Long?le.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function OP(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}le.merge=OP;le.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function NP(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&OP(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}le.newError=NP;le.ProtocolError=NP("ProtocolError");le.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),a=i.length-1;a>-1;--a)if(r[i[a]]===1&&this[i[a]]!==void 0&&this[i[a]]!==null)return i[a]}};le.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};le.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};le._configure=function(){var t=le.Buffer;if(!t){le._Buffer_from=le._Buffer_allocUnsafe=null;return}le._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},le._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var P0=h((IBe,xP)=>{"use strict";xP.exports=De;var Dn=$i(),TC,w0=Dn.LongBits,RP=Dn.base64,wP=Dn.utf8;function um(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function CC(){}function RZ(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function De(){this.len=0,this.head=new um(CC,0,0),this.tail=this.head,this.states=null}var PP=function(){return Dn.Buffer?function(){return(De.create=function(){return new TC})()}:function(){return new De}};De.create=PP();De.alloc=function(e){return new Dn.Array(e)};Dn.Array!==Array&&(De.alloc=Dn.pool(De.alloc,Dn.Array.prototype.subarray));De.prototype._push=function(e,r,n){return this.tail=this.tail.next=new um(e,r,n),this.len+=r,this};function kC(t,e,r){e[r]=t&255}function wZ(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function IC(t,e){this.len=t,this.next=void 0,this.val=e}IC.prototype=Object.create(um.prototype);IC.prototype.fn=wZ;De.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new IC((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};De.prototype.int32=function(e){return e<0?this._push(OC,10,w0.fromNumber(e)):this.uint32(e)};De.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function OC(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}De.prototype.uint64=function(e){var r=w0.from(e);return this._push(OC,r.length(),r)};De.prototype.int64=De.prototype.uint64;De.prototype.sint64=function(e){var r=w0.from(e).zzEncode();return this._push(OC,r.length(),r)};De.prototype.bool=function(e){return this._push(kC,1,e?1:0)};function AC(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}De.prototype.fixed32=function(e){return this._push(AC,4,e>>>0)};De.prototype.sfixed32=De.prototype.fixed32;De.prototype.fixed64=function(e){var r=w0.from(e);return this._push(AC,4,r.lo)._push(AC,4,r.hi)};De.prototype.sfixed64=De.prototype.fixed64;De.prototype.float=function(e){return this._push(Dn.float.writeFloatLE,4,e)};De.prototype.double=function(e){return this._push(Dn.float.writeDoubleLE,8,e)};var PZ=Dn.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};De.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(kC,1,0);if(Dn.isString(e)){var n=De.alloc(r=RP.length(e));RP.decode(e,n,0),e=n}return this.uint32(r)._push(PZ,r,e)};De.prototype.string=function(e){var r=wP.length(e);return r?this.uint32(r)._push(wP.write,r,e):this._push(kC,1,0)};De.prototype.fork=function(){return this.states=new RZ(this),this.head=this.tail=new um(CC,0,0),this.len=0,this};De.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new um(CC,0,0),this.len=0),this};De.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};De.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};De._configure=function(t){TC=t,De.create=PP(),TC._configure()}});var MP=h((OBe,DP)=>{"use strict";DP.exports=ji;var BP=P0();(ji.prototype=Object.create(BP.prototype)).constructor=ji;var _o=$i();function ji(){BP.call(this)}ji._configure=function(){ji.alloc=_o._Buffer_allocUnsafe,ji.writeBytesBuffer=_o.Buffer&&_o.Buffer.prototype instanceof Uint8Array&&_o.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};ji.prototype.bytes=function(e){_o.isString(e)&&(e=_o._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ji.writeBytesBuffer,r,e),this};function xZ(t,e,r){t.length<40?_o.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ji.prototype.string=function(e){var r=_o.Buffer.byteLength(e);return this.uint32(r),r&&this._push(xZ,r,e),this};ji._configure()});var B0=h((NBe,VP)=>{"use strict";VP.exports=Ct;var oi=$i(),RC,qP=oi.LongBits,BZ=oi.utf8;function si(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ct(t){this.buf=t,this.pos=0,this.len=t.length}var LP=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ct(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ct(e);throw Error("illegal buffer")},UP=function(){return oi.Buffer?function(r){return(Ct.create=function(i){return oi.Buffer.isBuffer(i)?new RC(i):LP(i)})(r)}:LP};Ct.create=UP();Ct.prototype._slice=oi.Array.prototype.subarray||oi.Array.prototype.slice;Ct.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,si(this,10);return e}}();Ct.prototype.int32=function(){return this.uint32()|0};Ct.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function NC(){var t=new qP(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw si(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw si(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ct.prototype.bool=function(){return this.uint32()!==0};function x0(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ct.prototype.fixed32=function(){if(this.pos+4>this.len)throw si(this,4);return x0(this.buf,this.pos+=4)};Ct.prototype.sfixed32=function(){if(this.pos+4>this.len)throw si(this,4);return x0(this.buf,this.pos+=4)|0};function FP(){if(this.pos+8>this.len)throw si(this,8);return new qP(x0(this.buf,this.pos+=4),x0(this.buf,this.pos+=4))}Ct.prototype.float=function(){if(this.pos+4>this.len)throw si(this,4);var e=oi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ct.prototype.double=function(){if(this.pos+8>this.len)throw si(this,4);var e=oi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ct.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw si(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=oi.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};Ct.prototype.string=function(){var e=this.bytes();return BZ.read(e,0,e.length)};Ct.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw si(this,e);this.pos+=e}else do if(this.pos>=this.len)throw si(this);while(this.buf[this.pos++]&128);return this};Ct.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ct._configure=function(t){RC=t,Ct.create=UP(),RC._configure();var e=oi.Long?"toLong":"toNumber";oi.merge(Ct.prototype,{int64:function(){return NC.call(this)[e](!1)},uint64:function(){return NC.call(this)[e](!0)},sint64:function(){return NC.call(this).zzDecode()[e](!1)},fixed64:function(){return FP.call(this)[e](!0)},sfixed64:function(){return FP.call(this)[e](!1)}})}});var HP=h((RBe,GP)=>{"use strict";GP.exports=nu;var WP=B0();(nu.prototype=Object.create(WP.prototype)).constructor=nu;var JP=$i();function nu(t){WP.call(this,t)}nu._configure=function(){JP.Buffer&&(nu.prototype._slice=JP.Buffer.prototype.slice)};nu.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};nu._configure()});var QP=h((wBe,zP)=>{"use strict";zP.exports=lm;var wC=$i();(lm.prototype=Object.create(wC.EventEmitter.prototype)).constructor=lm;function lm(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");wC.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}lm.prototype.rpcCall=function t(e,r,n,i,a){if(!i)throw TypeError("request must be specified");var o=this;if(!a)return wC.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,l){if(u)return o.emit("error",u,e),a(u);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return o.emit("error",c,e),a(c)}return o.emit("data",l,e),a(null,l)})}catch(s){o.emit("error",s,e),setTimeout(function(){a(s)},0);return}};lm.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var PC=h(KP=>{"use strict";var DZ=KP;DZ.Service=QP()});var xC=h((xBe,ZP)=>{"use strict";ZP.exports={}});var BC=h(YP=>{"use strict";var Qr=YP;Qr.build="minimal";Qr.Writer=P0();Qr.BufferWriter=MP();Qr.Reader=B0();Qr.BufferReader=HP();Qr.util=$i();Qr.rpc=PC();Qr.roots=xC();Qr.configure=XP;function XP(){Qr.util._configure(),Qr.Writer._configure(Qr.BufferWriter),Qr.Reader._configure(Qr.BufferReader)}XP()});var Rr=h((DBe,$P)=>{"use strict";$P.exports=BC()});var Me=h(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Ln.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Ln.Propagate=Ln.LogVerbosity=Ln.Status=void 0;var SL;(function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(SL||(Ln.Status=SL={}));var _L;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE"})(_L||(Ln.LogVerbosity=_L={}));var EL;(function(t){t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS"})(EL||(Ln.Propagate=EL={}));Ln.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Ln.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var ek=h((BDe,NX)=>{NX.exports={name:"@grpc/grpc-js",version:"1.10.10",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var yt=h(xr=>{"use strict";var tk,rk,nk,ik;Object.defineProperty(xr,"__esModule",{value:!0});xr.isTracerEnabled=xr.trace=xr.log=xr.setLoggerVerbosity=xr.setLogger=xr.getLogger=void 0;var ko=Me(),RX=Ve("process"),wX=ek().version,PX={error:(t,...e)=>{console.error("E "+t,...e)},info:(t,...e)=>{console.error("I "+t,...e)},debug:(t,...e)=>{console.error("D "+t,...e)}},cu=PX,Md=ko.LogVerbosity.ERROR,xX=(rk=(tk=process.env.GRPC_NODE_VERBOSITY)!==null&&tk!==void 0?tk:process.env.GRPC_VERBOSITY)!==null&&rk!==void 0?rk:"";switch(xX.toUpperCase()){case"DEBUG":Md=ko.LogVerbosity.DEBUG;break;case"INFO":Md=ko.LogVerbosity.INFO;break;case"ERROR":Md=ko.LogVerbosity.ERROR;break;case"NONE":Md=ko.LogVerbosity.NONE;break;default:}var BX=()=>cu;xr.getLogger=BX;var DX=t=>{cu=t};xr.setLogger=DX;var MX=t=>{Md=t};xr.setLoggerVerbosity=MX;var LX=(t,...e)=>{let r;if(t>=Md){switch(t){case ko.LogVerbosity.DEBUG:r=cu.debug;break;case ko.LogVerbosity.INFO:r=cu.info;break;case ko.LogVerbosity.ERROR:r=cu.error;break}r||(r=cu.error),r&&r.bind(cu)(...e)}};xr.log=LX;var FX=(ik=(nk=process.env.GRPC_NODE_TRACE)!==null&&nk!==void 0?nk:process.env.GRPC_TRACE)!==null&&ik!==void 0?ik:"",ak=new Set,TL=new Set;for(let t of FX.split(","))t.startsWith("-")?TL.add(t.substring(1)):ak.add(t);var qX=ak.has("all");function UX(t,e,r){AL(e)&&(0,xr.log)(t,new Date().toISOString()+" | v"+wX+" "+RX.pid+" | "+e+" | "+r)}xr.trace=UX;function AL(t){return!TL.has(t)&&(qX||ak.has(t))}xr.isTracerEnabled=AL});var F0=h(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.getErrorCode=Ld.getErrorMessage=void 0;function VX(t){return t instanceof Error?t.message:String(t)}Ld.getErrorMessage=VX;function JX(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}Ld.getErrorCode=JX});var Br=h(U0=>{"use strict";Object.defineProperty(U0,"__esModule",{value:!0});U0.Metadata=void 0;var WX=yt(),GX=Me(),HX=F0(),zX=/^[0-9a-z_.-]+$/,QX=/^[ -~]*$/;function KX(t){return zX.test(t)}function ZX(t){return QX.test(t)}function kL(t){return t.endsWith("-bin")}function XX(t){return!t.startsWith("grpc-")}function q0(t){return t.toLowerCase()}function CL(t,e){if(!KX(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(kL(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!ZX(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var Fd=class{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,r){e=q0(e),CL(e,r),this.internalRepr.set(e,[r])}add(e,r){e=q0(e),CL(e,r);let n=this.internalRepr.get(e);n===void 0?this.internalRepr.set(e,[r]):n.push(r)}remove(e){e=q0(e),this.internalRepr.delete(e)}get(e){return e=q0(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[r,n]of this.internalRepr)if(n.length>0){let i=n[0];e[r]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new Fd(this.options),r=e.internalRepr;for(let[n,i]of this.internalRepr){let a=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);r.set(n,a)}return e}merge(e){for(let[r,n]of e.internalRepr){let i=(this.internalRepr.get(r)||[]).concat(n);this.internalRepr.set(r,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[r,n]of this.internalRepr)e[r]=n.map(YX);return e}toJSON(){let e={};for(let[r,n]of this.internalRepr)e[r]=n;return e}static fromHttp2Headers(e){let r=new Fd;for(let n of Object.keys(e)){if(n.charAt(0)===":")continue;let i=e[n];try{kL(n)?Array.isArray(i)?i.forEach(a=>{r.add(n,Buffer.from(a,"base64"))}):i!==void 0&&(XX(n)?i.split(",").forEach(a=>{r.add(n,Buffer.from(a.trim(),"base64"))}):r.add(n,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(a=>{r.add(n,a)}):i!==void 0&&r.add(n,i)}catch(a){let o=`Failed to add metadata entry ${n}: ${i}. ${(0,HX.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,WX.log)(GX.LogVerbosity.ERROR,o)}}return r}};U0.Metadata=Fd;var YX=t=>Buffer.isBuffer(t)?t.toString("base64"):t});var sk=h(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.CallCredentials=void 0;var ok=Br();function $X(t){return"getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var Io=class{static createFromMetadataGenerator(e){return new fm(e)}static createFromGoogleCredential(e){return Io.createFromMetadataGenerator((r,n)=>{let i;$X(e)?i=e.getRequestHeaders(r.service_url):i=new Promise((a,o)=>{e.getRequestMetadata(r.service_url,(s,u)=>{if(s){o(s);return}if(!u){o(new Error("Headers not set by metadata plugin"));return}a(u)})}),i.then(a=>{let o=new ok.Metadata;for(let s of Object.keys(a))o.add(s,a[s]);n(null,o)},a=>{n(a)})})}static createEmpty(){return new hm}};V0.CallCredentials=Io;var qd=class extends Io{constructor(e){super(),this.creds=e}async generateMetadata(e){let r=new ok.Metadata,n=await Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of n)r.merge(i);return r}compose(e){return new qd(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof qd?this.creds.every((r,n)=>r._equals(e.creds[n])):!1}},fm=class extends Io{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((r,n)=>{this.metadataGenerator(e,(i,a)=>{a!==void 0?r(a):n(i)})})}compose(e){return new qd([this,e])}_equals(e){return this===e?!0:e instanceof fm?this.metadataGenerator===e.metadataGenerator:!1}},hm=class extends Io{generateMetadata(e){return Promise.resolve(new ok.Metadata)}compose(e){return e}_equals(e){return e instanceof hm}}});var lk=h(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.getDefaultRootsData=Ud.CIPHER_SUITES=void 0;var jX=Ve("fs");Ud.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var IL=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,uk=null;function eY(){return IL?(uk===null&&(uk=jX.readFileSync(IL)),uk):null}Ud.getDefaultRootsData=eY});var W0=h(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.ChannelCredentials=void 0;var tY=Ve("tls"),rY=sk(),OL=lk();function ck(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Vd=class{constructor(e){this.callCredentials=e||rY.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,r,n,i){var a;if(ck(e,"Root certificate"),ck(r,"Private key"),ck(n,"Certificate chain"),r&&!n)throw new Error("Private key must be given with accompanying certificate chain");if(!r&&n)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,tY.createSecureContext)({ca:(a=e??(0,OL.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:r??void 0,cert:n??void 0,ciphers:OL.CIPHER_SUITES});return new Jd(o,i??{})}static createFromSecureContext(e,r){return new Jd(e,r??{})}static createInsecure(){return new pm}};J0.ChannelCredentials=Vd;var pm=class extends Vd{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof pm}},Jd=class extends Vd{constructor(e,r){super(),this.secureContext=e,this.verifyOptions=r,this.connectionOptions={secureContext:e},r?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=r.checkServerIdentity)}compose(e){let r=this.callCredentials.compose(e);return new Wd(this,r)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof Jd?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},Wd=class extends Vd{constructor(e,r){super(r),this.channelCredentials=e}compose(e){let r=this.callCredentials.compose(e);return new Wd(this.channelCredentials,r)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof Wd?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var du=h(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.selectLbConfigFromList=Xt.getDefaultConfig=Xt.parseLoadBalancingConfig=Xt.isLoadBalancerNameRegistered=Xt.createLoadBalancer=Xt.registerDefaultLoadBalancerType=Xt.registerLoadBalancerType=Xt.createChildChannelControlHelper=void 0;var nY=yt(),iY=Me();function aY(t,e){var r,n,i,a,o,s,u,l,c,d;return{createSubchannel:(n=(r=e.createSubchannel)===null||r===void 0?void 0:r.bind(e))!==null&&n!==void 0?n:t.createSubchannel.bind(t),updateState:(a=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&a!==void 0?a:t.updateState.bind(t),requestReresolution:(s=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&s!==void 0?s:t.requestReresolution.bind(t),addChannelzChild:(l=(u=e.addChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&l!==void 0?l:t.addChannelzChild.bind(t),removeChannelzChild:(d=(c=e.removeChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&d!==void 0?d:t.removeChannelzChild.bind(t)}}Xt.createChildChannelControlHelper=aY;var Oo={},mm=null;function oY(t,e,r){Oo[t]={LoadBalancer:e,LoadBalancingConfig:r}}Xt.registerLoadBalancerType=oY;function sY(t){mm=t}Xt.registerDefaultLoadBalancerType=sY;function uY(t,e,r){let n=t.getLoadBalancerName();return n in Oo?new Oo[n].LoadBalancer(e,r):null}Xt.createLoadBalancer=uY;function lY(t){return t in Oo}Xt.isLoadBalancerNameRegistered=lY;function NL(t){let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let r=e[0];if(r in Oo)try{return Oo[r].LoadBalancingConfig.createFromJson(t[r])}catch(n){throw new Error(`${r}: ${n.message}`)}else throw new Error(`Unrecognized load balancing config name ${r}`)}Xt.parseLoadBalancingConfig=NL;function cY(){if(!mm)throw new Error("No default load balancer type registered");return new Oo[mm].LoadBalancingConfig}Xt.getDefaultConfig=cY;function dY(t,e=!1){for(let r of t)try{return NL(r)}catch(n){(0,nY.log)(iY.LogVerbosity.DEBUG,"Config parsing failed with error",n.message);continue}return e&&mm?new Oo[mm].LoadBalancingConfig:null}Xt.selectLbConfigFromList=dY});var dk=h(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.extractAndSelectServiceConfig=No.validateServiceConfig=No.validateRetryThrottling=void 0;var fY=Ve("os"),G0=Me(),H0=/^\d+(\.\d{1,9})?s$/,hY="node";function pY(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return{service:t.service,method:t.method}}else return{service:t.service}}else{if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function mY(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!H0.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!H0.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(G0.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(G0.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function gY(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!H0.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let r of t.nonFatalStatusCodes)if(typeof r=="number"){if(!Object.values(G0.Status).includes(r))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof r=="string"){if(!Object.values(G0.Status).includes(r.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function yY(t){var e;let r={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let n of t.name)r.name.push(pY(n));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=t.waitForReady}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=t.timeout}else if(typeof t.timeout=="string"&&H0.test(t.timeout)){let n=t.timeout.substring(0,t.timeout.length-1).split(".");r.timeout={seconds:n[0]|0,nanos:((e=n[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=t.maxRequestBytes}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=t.maxResponseBytes}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=mY(t.retryPolicy)}else"hedgingPolicy"in t&&(r.hedgingPolicy=gY(t.hedgingPolicy));return r}function RL(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}No.validateRetryThrottling=RL;function vY(t){if(!(typeof t=="object"&&t!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof t}`);let e=Object.keys(t);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:t[e[0]]}}function wL(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let n of t.loadBalancingConfig)e.loadBalancingConfig.push(vY(n));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let n of t.methodConfig)e.methodConfig.push(yY(n));"retryThrottling"in t&&(e.retryThrottling=RL(t.retryThrottling));let r=[];for(let n of e.methodConfig)for(let i of n.name){for(let a of r)if(i.service===a.service&&i.method===a.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);r.push(i)}return e}No.validateServiceConfig=wL;function bY(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:wL(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let n of t.clientLanguage)if(typeof n=="string")e.clientLanguage.push(n);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let n of t.clientHostname)if(typeof n=="string")e.clientHostname.push(n);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let n in t)if(!r.includes(n))throw new Error(`Invalid service config choice: unexpected field ${n}`);return e}function SY(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let r of t){let n=bY(r);if(!(typeof n.percentage=="number"&&e>n.percentage)){if(Array.isArray(n.clientHostname)){let i=!1;for(let a of n.clientHostname)a===fY.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(n.clientLanguage)){let i=!1;for(let a of n.clientLanguage)a===hY&&(i=!0);if(!i)continue}return n.serviceConfig}}throw new Error("No matching service config found")}function _Y(t,e){for(let r of t)if(r.length>0&&r[0].startsWith("grpc_config=")){let n=r.join("").substring(12),i=JSON.parse(n);return SY(i,e)}return null}No.extractAndSelectServiceConfig=_Y});var Fn=h(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});z0.ConnectivityState=void 0;var PL;(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN"})(PL||(z0.ConnectivityState=PL={}))});var yn=h(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.uriToString=na.combineHostPort=na.splitHostPort=na.parseUri=void 0;var EY=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function TY(t){let e=EY.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}na.parseUri=TY;var xL=/^\d+$/;function AY(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let r=t.substring(1,e);if(r.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let n=t.substring(e+2);return xL.test(n)?{host:r,port:+n}:null}else return null;else return{host:r}}else{let e=t.split(":");return e.length===2?xL.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}na.splitHostPort=AY;function CY(t){return t.port===void 0?t.host:t.host.includes(":")?`[${t.host}]:${t.port}`:`${t.host}:${t.port}`}na.combineHostPort=CY;function kY(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}na.uriToString=kY});var ia=h(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.mapUriDefaultScheme=qn.getDefaultAuthority=qn.createResolver=qn.registerDefaultScheme=qn.registerResolver=void 0;var hk=yn(),Gd={},fk=null;function IY(t,e){Gd[t]=e}qn.registerResolver=IY;function OY(t){fk=t}qn.registerDefaultScheme=OY;function NY(t,e,r){if(t.scheme!==void 0&&t.scheme in Gd)return new Gd[t.scheme](t,e,r);throw new Error(`No resolver could be created for target ${(0,hk.uriToString)(t)}`)}qn.createResolver=NY;function RY(t){if(t.scheme!==void 0&&t.scheme in Gd)return Gd[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0,hk.uriToString)(t)}`)}qn.getDefaultAuthority=RY;function wY(t){return t.scheme===void 0||!(t.scheme in Gd)?fk!==null?{scheme:fk,authority:void 0,path:(0,hk.uriToString)(t)}:null:t}qn.mapUriDefaultScheme=wY});var wo=h(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.QueuePicker=Ro.UnavailablePicker=Ro.PickResultType=void 0;var PY=Br(),xY=Me(),Q0;(function(t){t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP"})(Q0||(Ro.PickResultType=Q0={}));var pk=class{constructor(e){this.status=Object.assign({code:xY.Status.UNAVAILABLE,details:"No connection established",metadata:new PY.Metadata},e)}pick(e){return{pickResultType:Q0.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ro.UnavailablePicker=pk;var mk=class{constructor(e,r){this.loadBalancer=e,this.childPicker=r,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:Q0.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ro.QueuePicker=mk});var gm=h(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.BackoffTimeout=void 0;var BY=1e3,DY=1.6,MY=12e4,LY=.2;function FY(t,e){return Math.random()*(e-t)+t}var gk=class{constructor(e,r){this.callback=e,this.initialDelay=BY,this.multiplier=DY,this.maxDelay=MY,this.jitter=LY,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var r,n;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(n=(r=this.timerId).unref)===null||n===void 0||n.call(r)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=e*this.jitter;this.nextDelay=e+FY(-r,r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,r=this.startTime;r.setMilliseconds(r.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<r?this.runTimer(r.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,r;this.hasRef=!0,(r=(e=this.timerId).ref)===null||r===void 0||r.call(e)}unref(){var e,r;this.hasRef=!1,(r=(e=this.timerId).unref)===null||r===void 0||r.call(e)}getEndTime(){return this.endTime}};K0.BackoffTimeout=gk});var X0=h(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});Z0.ChildLoadBalancerHandler=void 0;var qY=du(),UY=Fn(),VY="child_load_balancer_helper",yk=class{constructor(e,r){this.channelControlHelper=e,this.options=r,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(n){this.parent=n,this.child=null}createSubchannel(n,i){return this.parent.channelControlHelper.createSubchannel(n,i)}updateState(n,i){var a;if(this.calledByPendingChild()){if(n===UY.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(n,i)}requestReresolution(){var n;let i=(n=this.parent.pendingChild)!==null&&n!==void 0?n:this.parent.currentChild;this.child===i&&this.parent.channelControlHelper.requestReresolution()}setChild(n){this.child=n}addChannelzChild(n){this.parent.channelControlHelper.addChannelzChild(n)}removeChannelzChild(n){this.parent.channelControlHelper.removeChannelzChild(n)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,r){return e.getLoadBalancerName()!==r.getLoadBalancerName()}updateAddressList(e,r,n){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,r)){let a=new this.ChildPolicyHelper(this),o=(0,qY.createLoadBalancer)(r,a,this.options);a.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=r,i.updateAddressList(e,r,n)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return VY}};Z0.ChildLoadBalancerHandler=yk});var DL=h(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.ResolvingLoadBalancer=void 0;var JY=du(),WY=dk(),Yr=Fn(),GY=ia(),ym=wo(),HY=gm(),vk=Me(),zY=Br(),QY=yt(),KY=Me(),ZY=yn(),XY=X0(),YY="resolving_load_balancer";function BL(t){QY.trace(KY.LogVerbosity.DEBUG,YY,t)}var $Y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function jY(t,e,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===t&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===t&&i.method===e)return!0}return!1}function e$(t,e,r,n){for(let i of r)if(jY(t,e,i,n))return i;return null}function t$(t){return function(r,n){var i,a;let o=r.split("/").filter(l=>l.length>0),s=(i=o[0])!==null&&i!==void 0?i:"",u=(a=o[1])!==null&&a!==void 0?a:"";if(t&&t.methodConfig)for(let l of $Y){let c=e$(s,u,t.methodConfig,l);if(c)return{methodConfig:c,pickInformation:{},status:vk.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:vk.Status.OK,dynamicFilterFactories:[]}}}var bk=class{constructor(e,r,n,i,a){this.target=e,this.channelControlHelper=r,this.onSuccessfulResolution=i,this.onFailedResolution=a,this.latestChildState=Yr.ConnectivityState.IDLE,this.latestChildPicker=new ym.QueuePicker(this),this.currentState=Yr.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,n["grpc.service_config"]?this.defaultServiceConfig=(0,WY.validateServiceConfig)(JSON.parse(n["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Yr.ConnectivityState.IDLE,new ym.QueuePicker(this)),this.childLoadBalancer=new XY.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?(BL("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(s,u)=>{this.latestChildState=s,this.latestChildPicker=u,this.updateState(s,u)},addChannelzChild:r.addChannelzChild.bind(r),removeChannelzChild:r.removeChannelzChild.bind(r)},n),this.innerResolver=(0,GY.createResolver)(e,{onSuccessfulResolution:(s,u,l,c,d)=>{var f;this.backoffTimeout.stop(),this.backoffTimeout.reset();let p=null;u===null?l===null?(this.previousServiceConfig=null,p=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(l):p=this.previousServiceConfig:(p=u,this.previousServiceConfig=u);let g=(f=p?.loadBalancingConfig)!==null&&f!==void 0?f:[],m=(0,JY.selectLbConfigFromList)(g,!0);if(m===null){this.handleResolutionFailure({code:vk.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new zY.Metadata});return}this.childLoadBalancer.updateAddressList(s,m,d);let b=p??this.defaultServiceConfig;this.onSuccessfulResolution(b,c??t$(b))},onError:s=>{this.handleResolutionFailure(s)}},n);let o={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new HY.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Yr.ConnectivityState.IDLE&&this.updateState(Yr.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,r){BL((0,ZY.uriToString)(this.target)+" "+Yr.ConnectivityState[this.currentState]+" -> "+Yr.ConnectivityState[e]),e===Yr.ConnectivityState.IDLE&&(r=new ym.QueuePicker(this,r)),this.currentState=e,this.channelControlHelper.updateState(e,r)}handleResolutionFailure(e){this.latestChildState===Yr.ConnectivityState.IDLE&&(this.updateState(Yr.ConnectivityState.TRANSIENT_FAILURE,new ym.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Yr.ConnectivityState.IDLE||this.currentState===Yr.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,r){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Yr.ConnectivityState.IDLE,this.latestChildPicker=new ym.QueuePicker(this),this.currentState=Yr.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Y0.ResolvingLoadBalancer=bk});var ML=h(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.channelOptionsEqual=Hd.recognizedOptions=void 0;Hd.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0};function r$(t,e){let r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||t[r[i]]!==e[n[i]])return!1;return!0}Hd.channelOptionsEqual=r$});var wi=h(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.EndpointMap=Yt.endpointHasAddress=Yt.endpointToString=Yt.endpointEqual=Yt.stringToSubchannelAddress=Yt.subchannelAddressToString=Yt.subchannelAddressEqual=Yt.isTcpSubchannelAddress=void 0;var LL=Ve("net");function bm(t){return"port"in t}Yt.isTcpSubchannelAddress=bm;function $0(t,e){return!t&&!e?!0:!t||!e?!1:bm(t)?bm(e)&&t.host===e.host&&t.port===e.port:!bm(e)&&t.path===e.path}Yt.subchannelAddressEqual=$0;function FL(t){return bm(t)?(0,LL.isIPv6)(t.host)?"["+t.host+"]:"+t.port:t.host+":"+t.port:t.path}Yt.subchannelAddressToString=FL;var n$=443;function i$(t,e){return(0,LL.isIP)(t)?{host:t,port:e??n$}:{path:t}}Yt.stringToSubchannelAddress=i$;function a$(t,e){if(t.addresses.length!==e.addresses.length)return!1;for(let r=0;r<t.addresses.length;r++)if(!$0(t.addresses[r],e.addresses[r]))return!1;return!0}Yt.endpointEqual=a$;function o$(t){return"["+t.addresses.map(FL).join(", ")+"]"}Yt.endpointToString=o$;function qL(t,e){for(let r of t.addresses)if($0(r,e))return!0;return!1}Yt.endpointHasAddress=qL;function vm(t,e){if(t.addresses.length!==e.addresses.length)return!1;for(let r of t.addresses){let n=!1;for(let i of e.addresses)if($0(r,i)){n=!0;break}if(!n)return!1}return!0}var Sk=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let r of this.map)if(qL(r.key,e))return r.value}deleteMissing(e){let r=[];for(let n of this.map){let i=!1;for(let a of e)vm(a,n.key)&&(i=!0);i||(r.push(n.value),this.map.delete(n))}return r}get(e){for(let r of this.map)if(vm(e,r.key))return r.value}set(e,r){for(let n of this.map)if(vm(e,n.key)){n.value=r;return}this.map.add({key:e,value:r})}delete(e){for(let r of this.map)if(vm(e,r.key)){this.map.delete(r);return}}has(e){for(let r of this.map)if(vm(e,r.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};Yt.EndpointMap=Sk});var VL={};vl(VL,{OrderedMap:()=>p$});function zd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_k(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function s$(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fu(){throw new RangeError("Iterator access denied!")}var _k,UL,u$,l$,c$,d$,f$,h$,Ua,p$,JL=ae(()=>{_k=function(t,e){return _k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_k(t,e)};UL=function(){function t(e,r,n){n===void 0&&(n=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=r,this.l=n}return t.prototype.v=function(){var e=this,r=e.h.h===e;if(r&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(r)return e.h;for(var n=e.h;n.t===e;)e=n,n=e.h;e=n}return e},t.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var r=e.h;r.i===e;)e=r,r=e.h;return e.i!==r?r:e}},t.prototype.T=function(){var e=this.h,r=this.i,n=r.t;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.t=this,this.h=r,this.i=n,n&&(n.h=this),r},t.prototype.I=function(){var e=this.h,r=this.t,n=r.i;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.i=this,this.h=r,this.t=n,n&&(n.h=this),r},t}(),u$=function(t){zd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.O=1,r}return e.prototype.T=function(){var r=t.prototype.T.call(this);return this.M(),r.M(),r},e.prototype.I=function(){var r=t.prototype.I.call(this);return this.M(),r.M(),r},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e}(UL),l$=function(){function t(e){e===void 0&&(e=0),this.iteratorType=e}return t.prototype.equals=function(e){return this.C===e.C},t}(),c$=function(){function t(){this._=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this._},t.prototype.empty=function(){return this._===0},t}(),d$=function(t){zd(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(c$);f$=function(t){zd(e,t);function e(r,n){r===void 0&&(r=function(a,o){return a<o?-1:a>o?1:0}),n===void 0&&(n=!1);var i=t.call(this)||this;return i.N=void 0,i.g=r,i.enableIndex=n,i.S=n?u$:UL,i.A=new i.S,i}return e.prototype.m=function(r,n){for(var i=this.A;r;){var a=this.g(r.u,n);if(a<0)r=r.i;else if(a>0)i=r,r=r.t;else return r}return i},e.prototype.B=function(r,n){for(var i=this.A;r;){var a=this.g(r.u,n);a<=0?r=r.i:(i=r,r=r.t)}return i},e.prototype.j=function(r,n){for(var i=this.A;r;){var a=this.g(r.u,n);if(a<0)i=r,r=r.i;else if(a>0)r=r.t;else return r}return i},e.prototype.k=function(r,n){for(var i=this.A;r;){var a=this.g(r.u,n);a<0?(i=r,r=r.i):r=r.t}return i},e.prototype.R=function(r){for(;;){var n=r.h;if(n===this.A)return;if(r.l===1){r.l=0;return}if(r===n.t){var i=n.i;if(i.l===1)i.l=0,n.l=1,n===this.N?this.N=n.T():n.T();else if(i.i&&i.i.l===1){i.l=n.l,n.l=0,i.i.l=0,n===this.N?this.N=n.T():n.T();return}else i.t&&i.t.l===1?(i.l=1,i.t.l=0,i.I()):(i.l=1,r=n)}else{var i=n.t;if(i.l===1)i.l=0,n.l=1,n===this.N?this.N=n.I():n.I();else if(i.t&&i.t.l===1){i.l=n.l,n.l=0,i.t.l=0,n===this.N?this.N=n.I():n.I();return}else i.i&&i.i.l===1?(i.l=1,i.i.l=0,i.T()):(i.l=1,r=n)}}},e.prototype.G=function(r){if(this._===1){this.clear();return}for(var n=r;n.t||n.i;){if(n.i)for(n=n.i;n.t;)n=n.t;else n=n.t;var i=r.u;r.u=n.u,n.u=i;var a=r.o;r.o=n.o,n.o=a,r=n}this.A.t===n?this.A.t=n.h:this.A.i===n&&(this.A.i=n.h),this.R(n);var o=n.h;if(n===o.t?o.t=void 0:o.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;o!==this.A;)o.O-=1,o=o.h},e.prototype.P=function(r){for(var n=typeof r=="number"?r:void 0,i=typeof r=="function"?r:void 0,a=typeof r>"u"?[]:void 0,o=0,s=this.N,u=[];u.length||s;)if(s)u.push(s),s=s.t;else{if(s=u.pop(),o===n)return s;a&&a.push(s),i&&i(s,o,this),o+=1,s=s.i}return a},e.prototype.q=function(r){for(;;){var n=r.h;if(n.l===0)return;var i=n.h;if(n===i.t){var a=i.i;if(a&&a.l===1){if(a.l=n.l=0,i===this.N)return;i.l=1,r=i;continue}else if(r===n.i){if(r.l=0,r.t&&(r.t.h=n),r.i&&(r.i.h=i),n.i=r.t,i.t=r.i,r.t=n,r.i=i,i===this.N)this.N=r,this.A.h=r;else{var o=i.h;o.t===i?o.t=r:o.i=r}r.h=i.h,n.h=r,i.h=r,i.l=1}else{n.l=0,i===this.N?this.N=i.I():i.I(),i.l=1;return}}else{var a=i.t;if(a&&a.l===1){if(a.l=n.l=0,i===this.N)return;i.l=1,r=i;continue}else if(r===n.t){if(r.l=0,r.t&&(r.t.h=i),r.i&&(r.i.h=n),i.i=r.t,n.t=r.i,r.t=i,r.i=n,i===this.N)this.N=r,this.A.h=r;else{var o=i.h;o.t===i?o.t=r:o.i=r}r.h=i.h,n.h=r,i.h=r,i.l=1}else{n.l=0,i===this.N?this.N=i.T():i.T(),i.l=1;return}}this.enableIndex&&(n.M(),i.M(),r.M());return}},e.prototype.D=function(r,n,i){if(this.N===void 0)return this._+=1,this.N=new this.S(r,n,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,o=this.A.t,s=this.g(o.u,r);if(s===0)return o.o=n,this._;if(s>0)o.t=new this.S(r,n),o.t.h=o,a=o.t,this.A.t=a;else{var u=this.A.i,l=this.g(u.u,r);if(l===0)return u.o=n,this._;if(l<0)u.i=new this.S(r,n),u.i.h=u,a=u.i,this.A.i=a;else{if(i!==void 0){var c=i.C;if(c!==this.A){var d=this.g(c.u,r);if(d===0)return c.o=n,this._;if(d>0){var f=c.v(),p=this.g(f.u,r);if(p===0)return f.o=n,this._;p<0&&(a=new this.S(r,n),f.i===void 0?(f.i=a,a.h=f):(c.t=a,a.h=c))}}}if(a===void 0)for(a=this.N;;){var g=this.g(a.u,r);if(g>0){if(a.t===void 0){a.t=new this.S(r,n),a.t.h=a,a=a.t;break}a=a.t}else if(g<0){if(a.i===void 0){a.i=new this.S(r,n),a.i.h=a,a=a.i;break}a=a.i}else return a.o=n,this._}}}if(this.enableIndex)for(var m=a.h;m!==this.A;)m.O+=1,m=m.h;return this.q(a),this._+=1,this._},e.prototype.F=function(r,n){for(;r;){var i=this.g(r.u,n);if(i<0)r=r.i;else if(i>0)r=r.t;else return r}return r||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(r,n){var i=r.C;if(i===this.A&&fu(),this._===1)return i.u=n,!0;var a=i.p().u;if(i===this.A.t)return this.g(a,n)>0?(i.u=n,!0):!1;var o=i.v().u;return i===this.A.i?this.g(o,n)<0?(i.u=n,!0):!1:this.g(o,n)>=0||this.g(a,n)<=0?!1:(i.u=n,!0)},e.prototype.eraseElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var n=this.P(r);return this.G(n),this._},e.prototype.eraseElementByKey=function(r){if(this._===0)return!1;var n=this.F(this.N,r);return n===this.A?!1:(this.G(n),!0)},e.prototype.eraseElementByIterator=function(r){var n=r.C;n===this.A&&fu();var i=n.i===void 0,a=r.iteratorType===0;return a?i&&r.next():(!i||n.t===void 0)&&r.next(),this.G(n),r},e.prototype.getHeight=function(){if(this._===0)return 0;function r(n){return n?Math.max(r(n.t),r(n.i))+1:0}return r(this.N)},e}(d$),h$=function(t){zd(e,t);function e(r,n,i){var a=t.call(this,i)||this;return a.C=r,a.A=n,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&fu(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&fu(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&fu(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&fu(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var r=this.C,n=this.A.h;if(r===this.A)return n?n.O-1:0;var i=0;for(r.t&&(i+=r.t.O);r!==n;){var a=r.h;r===a.i&&(i+=1,a.t&&(i+=a.t.O)),r=a}return i},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e}(l$),Ua=function(t){zd(e,t);function e(r,n,i,a){var o=t.call(this,r,n,a)||this;return o.container=i,o}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&fu();var r=this;return new Proxy([],{get:function(n,i){return i==="0"?r.C.u:i==="1"?r.C.o:(n[0]=r.C.u,n[1]=r.C.o,n[i])},set:function(n,i,a){if(i!=="1")throw new TypeError("prop must be 1");return r.C.o=a,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e}(h$),p$=function(t){zd(e,t);function e(r,n,i){r===void 0&&(r=[]);var a=t.call(this,n,i)||this,o=a;return r.forEach(function(s){o.setElement(s[0],s[1])}),a}return e.prototype.begin=function(){return new Ua(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new Ua(this.A,this.A,this)},e.prototype.rBegin=function(){return new Ua(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new Ua(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var r=this.A.t;return[r.u,r.o]}},e.prototype.back=function(){if(this._!==0){var r=this.A.i;return[r.u,r.o]}},e.prototype.lowerBound=function(r){var n=this.m(this.N,r);return new Ua(n,this.A,this)},e.prototype.upperBound=function(r){var n=this.B(this.N,r);return new Ua(n,this.A,this)},e.prototype.reverseLowerBound=function(r){var n=this.j(this.N,r);return new Ua(n,this.A,this)},e.prototype.reverseUpperBound=function(r){var n=this.k(this.N,r);return new Ua(n,this.A,this)},e.prototype.forEach=function(r){this.P(function(n,i,a){r([n.u,n.o],i,a)})},e.prototype.setElement=function(r,n,i){return this.D(r,n,i)},e.prototype.getElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var n=this.P(r);return[n.u,n.o]},e.prototype.find=function(r){var n=this.F(this.N,r);return new Ua(n,this.A,this)},e.prototype.getElementByKey=function(r){var n=this.F(this.N,r);return n.o},e.prototype.union=function(r){var n=this;return r.forEach(function(i){n.setElement(i[0],i[1])}),this._},e.prototype[Symbol.iterator]=function(){var r,n,i,a;return s$(this,function(o){switch(o.label){case 0:r=this._,n=this.P(),i=0,o.label=1;case 1:return i<r?(a=n[i],[4,[a.u,a.o]]):[3,4];case 2:o.sent(),o.label=3;case 3:return++i,[3,1];case 4:return[2]}})},e}(f$)});var j0=h(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.addAdminServicesToServer=Qd.registerAdminService=void 0;var WL=[];function m$(t,e){WL.push({getServiceDefinition:t,getHandlers:e})}Qd.registerAdminService=m$;function g$(t){for(let{getServiceDefinition:e,getHandlers:r}of WL)t.addService(e(),r())}Qd.addAdminServicesToServer=g$});var GL=h(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.ClientDuplexStreamImpl=Un.ClientWritableStreamImpl=Un.ClientReadableStreamImpl=Un.ClientUnaryCallImpl=Un.callErrorFromStatus=void 0;var y$=Ve("events"),kk=Ve("stream"),Sm=Me();function v$(t,e){let r=`${t.code} ${Sm.Status[t.code]}: ${t.details}`,i=`${new Error(r).stack}
for call at
${e}`;return Object.assign(new Error(r),t,{stack:i})}Un.callErrorFromStatus=v$;var Ek=class extends y$.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}};Un.ClientUnaryCallImpl=Ek;var Tk=class extends kk.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead()}};Un.ClientReadableStreamImpl=Tk;var Ak=class extends kk.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_write(e,r,n){var i;let a={callback:n},o=Number(r);Number.isNaN(o)||(a.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(a,e)}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e()}};Un.ClientWritableStreamImpl=Ak;var Ck=class extends kk.Duplex{constructor(e,r){super({objectMode:!0}),this.serialize=e,this.deserialize=r}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead()}_write(e,r,n){var i;let a={callback:n},o=Number(r);Number.isNaN(o)||(a.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(a,e)}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e()}};Un.ClientDuplexStreamImpl=Ck});var HL=h(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.InterceptingListenerImpl=Kd.isInterceptingListener=void 0;function b$(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}Kd.isInterceptingListener=b$;var Ik=class{constructor(e,r){this.listener=e,this.nextListener=r,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(r),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextListener.onReceiveStatus(r)})}};Kd.InterceptingListenerImpl=Ik});var Bk=h(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.getInterceptingCall=Vn.InterceptingCall=Vn.RequesterBuilder=Vn.ListenerBuilder=Vn.InterceptorConfigurationError=void 0;var S$=Br(),zL=HL(),QL=Me(),KL=F0(),hu=class extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,hu)}};Vn.InterceptorConfigurationError=hu;var Nk=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Vn.ListenerBuilder=Nk;var Rk=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Vn.RequesterBuilder=Rk;var Ok={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveStatus:(t,e)=>{e(t)}},_m={start:(t,e,r)=>{r(t,e)},sendMessage:(t,e)=>{e(t)},halfClose:t=>{t()},cancel:t=>{t()}},wk=class{constructor(e,r){var n,i,a,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,r?this.requester={start:(n=r.start)!==null&&n!==void 0?n:_m.start,sendMessage:(i=r.sendMessage)!==null&&i!==void 0?i:_m.sendMessage,halfClose:(a=r.halfClose)!==null&&a!==void 0?a:_m.halfClose,cancel:(o=r.cancel)!==null&&o!==void 0?o:_m.cancel}:this.requester=_m}cancelWithStatus(e,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,r)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,r){var n,i,a,o,s,u;let l={onReceiveMetadata:(i=(n=r?.onReceiveMetadata)===null||n===void 0?void 0:n.bind(r))!==null&&i!==void 0?i:c=>{},onReceiveMessage:(o=(a=r?.onReceiveMessage)===null||a===void 0?void 0:a.bind(r))!==null&&o!==void 0?o:c=>{},onReceiveStatus:(u=(s=r?.onReceiveStatus)===null||s===void 0?void 0:s.bind(r))!==null&&u!==void 0?u:c=>{}};this.processingMetadata=!0,this.requester.start(e,l,(c,d)=>{var f,p,g;this.processingMetadata=!1;let m;if((0,zL.isInterceptingListener)(d))m=d;else{let b={onReceiveMetadata:(f=d.onReceiveMetadata)!==null&&f!==void 0?f:Ok.onReceiveMetadata,onReceiveMessage:(p=d.onReceiveMessage)!==null&&p!==void 0?p:Ok.onReceiveMessage,onReceiveStatus:(g=d.onReceiveStatus)!==null&&g!==void 0?g:Ok.onReceiveStatus};m=new zL.InterceptingListenerImpl(b,l)}this.nextCall.start(c,m),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,r){this.processingMessage=!0,this.requester.sendMessage(r,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=r):(this.nextCall.sendMessageWithContext(e,n),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Vn.InterceptingCall=wk;function _$(t,e,r){var n,i;let a=(n=r.deadline)!==null&&n!==void 0?n:1/0,o=r.host,s=(i=r.parent)!==null&&i!==void 0?i:null,u=r.propagate_flags,l=r.credentials,c=t.createCall(e,a,o,s,u);return l&&c.setCredentials(l),c}var ey=class{constructor(e,r){this.call=e,this.methodDefinition=r}cancelWithStatus(e,r){this.call.cancelWithStatus(e,r)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,r){let n;try{n=this.methodDefinition.requestSerialize(r)}catch(i){this.call.cancelWithStatus(QL.Status.INTERNAL,`Request message serialization failure: ${(0,KL.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,n)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,r){let n=null;this.call.start(e,{onReceiveMetadata:i=>{var a;(a=r?.onReceiveMetadata)===null||a===void 0||a.call(r,i)},onReceiveMessage:i=>{var a;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(s){n={code:QL.Status.INTERNAL,details:`Response message parsing error: ${(0,KL.getErrorMessage)(s)}`,metadata:new S$.Metadata},this.call.cancelWithStatus(n.code,n.details);return}(a=r?.onReceiveMessage)===null||a===void 0||a.call(r,o)},onReceiveStatus:i=>{var a,o;n?(a=r?.onReceiveStatus)===null||a===void 0||a.call(r,n):(o=r?.onReceiveStatus)===null||o===void 0||o.call(r,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},Pk=class extends ey{constructor(e,r){super(e,r)}start(e,r){var n,i;let a=!1,o={onReceiveMetadata:(i=(n=r?.onReceiveMetadata)===null||n===void 0?void 0:n.bind(r))!==null&&i!==void 0?i:s=>{},onReceiveMessage:s=>{var u;a=!0,(u=r?.onReceiveMessage)===null||u===void 0||u.call(r,s)},onReceiveStatus:s=>{var u,l;a||(u=r?.onReceiveMessage)===null||u===void 0||u.call(r,null),(l=r?.onReceiveStatus)===null||l===void 0||l.call(r,s)}};super.start(e,o),this.call.startRead()}},xk=class extends ey{};function E$(t,e,r){let n=_$(t,r.path,e);return r.responseStream?new xk(n,r):new Pk(n,r)}function T$(t,e,r,n){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new hu("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new hu("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?i=[].concat(t.callInterceptors,t.callInterceptorProviders.map(s=>s(e))).filter(s=>s):i=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(s=>s(e))).filter(s=>s);let a=Object.assign({},r,{method_definition:e});return i.reduceRight((s,u)=>l=>u(l,s),s=>E$(n,s,e))(a)}Vn.getInterceptingCall=T$});var Lk=h(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.Client=void 0;var aa=GL(),A$=Fk(),C$=Fn(),Po=Me(),Zd=Br(),ty=Bk(),Pi=Symbol(),Xd=Symbol(),Yd=Symbol(),Va=Symbol();function Dk(t){return typeof t=="function"}function $d(t){var e;return((e=t.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var Mk=class{constructor(e,r,n={}){var i,a;if(n=Object.assign({},n),this[Xd]=(i=n.interceptors)!==null&&i!==void 0?i:[],delete n.interceptors,this[Yd]=(a=n.interceptor_providers)!==null&&a!==void 0?a:[],delete n.interceptor_providers,this[Xd].length>0&&this[Yd].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Va]=n.callInvocationTransformer,delete n.callInvocationTransformer,n.channelOverride)this[Pi]=n.channelOverride;else if(n.channelFactoryOverride){let o=n.channelFactoryOverride;delete n.channelFactoryOverride,this[Pi]=o(e,r,n)}else this[Pi]=new A$.ChannelImplementation(e,r,n)}close(){this[Pi].close()}getChannel(){return this[Pi]}waitForReady(e,r){let n=i=>{if(i){r(new Error("Failed to connect before the deadline"));return}let a;try{a=this[Pi].getConnectivityState(!0)}catch{r(new Error("The channel has been closed"));return}if(a===C$.ConnectivityState.READY)r();else try{this[Pi].watchConnectivityState(a,e,n)}catch{r(new Error("The channel has been closed"))}};setImmediate(n)}checkOptionalUnaryResponseArguments(e,r,n){if(Dk(e))return{metadata:new Zd.Metadata,options:{},callback:e};if(Dk(r))return e instanceof Zd.Metadata?{metadata:e,options:{},callback:r}:{metadata:new Zd.Metadata,options:e,callback:r};if(!(e instanceof Zd.Metadata&&r instanceof Object&&Dk(n)))throw new Error("Incorrect arguments passed");return{metadata:e,options:r,callback:n}}makeUnaryRequest(e,r,n,i,a,o,s){var u,l;let c=this.checkOptionalUnaryResponseArguments(a,o,s),d={path:e,requestStream:!1,responseStream:!1,requestSerialize:r,responseDeserialize:n},f={argument:i,metadata:c.metadata,call:new aa.ClientUnaryCallImpl,channel:this[Pi],methodDefinition:d,callOptions:c.options,callback:c.callback};this[Va]&&(f=this[Va](f));let p=f.call,g={clientInterceptors:this[Xd],clientInterceptorProviders:this[Yd],callInterceptors:(u=f.callOptions.interceptors)!==null&&u!==void 0?u:[],callInterceptorProviders:(l=f.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},m=(0,ty.getInterceptingCall)(g,f.methodDefinition,f.callOptions,f.channel);p.call=m;let b=null,v=!1,E=new Error;return m.start(f.metadata,{onReceiveMetadata:k=>{p.emit("metadata",k)},onReceiveMessage(k){b!==null&&m.cancelWithStatus(Po.Status.UNIMPLEMENTED,"Too many responses received"),b=k},onReceiveStatus(k){if(!v){if(v=!0,k.code===Po.Status.OK)if(b===null){let O=$d(E);f.callback((0,aa.callErrorFromStatus)({code:Po.Status.UNIMPLEMENTED,details:"No message received",metadata:k.metadata},O))}else f.callback(null,b);else{let O=$d(E);f.callback((0,aa.callErrorFromStatus)(k,O))}E=null,p.emit("status",k)}}}),m.sendMessage(i),m.halfClose(),p}makeClientStreamRequest(e,r,n,i,a,o){var s,u;let l=this.checkOptionalUnaryResponseArguments(i,a,o),c={path:e,requestStream:!0,responseStream:!1,requestSerialize:r,responseDeserialize:n},d={metadata:l.metadata,call:new aa.ClientWritableStreamImpl(r),channel:this[Pi],methodDefinition:c,callOptions:l.options,callback:l.callback};this[Va]&&(d=this[Va](d));let f=d.call,p={clientInterceptors:this[Xd],clientInterceptorProviders:this[Yd],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},g=(0,ty.getInterceptingCall)(p,d.methodDefinition,d.callOptions,d.channel);f.call=g;let m=null,b=!1,v=new Error;return g.start(d.metadata,{onReceiveMetadata:E=>{f.emit("metadata",E)},onReceiveMessage(E){m!==null&&g.cancelWithStatus(Po.Status.UNIMPLEMENTED,"Too many responses received"),m=E,g.startRead()},onReceiveStatus(E){if(!b){if(b=!0,E.code===Po.Status.OK)if(m===null){let k=$d(v);d.callback((0,aa.callErrorFromStatus)({code:Po.Status.UNIMPLEMENTED,details:"No message received",metadata:E.metadata},k))}else d.callback(null,m);else{let k=$d(v);d.callback((0,aa.callErrorFromStatus)(E,k))}v=null,f.emit("status",E)}}}),f}checkMetadataAndOptions(e,r){let n,i;return e instanceof Zd.Metadata?(n=e,r?i=r:i={}):(e?i=e:i={},n=new Zd.Metadata),{metadata:n,options:i}}makeServerStreamRequest(e,r,n,i,a,o){var s,u;let l=this.checkMetadataAndOptions(a,o),c={path:e,requestStream:!1,responseStream:!0,requestSerialize:r,responseDeserialize:n},d={argument:i,metadata:l.metadata,call:new aa.ClientReadableStreamImpl(n),channel:this[Pi],methodDefinition:c,callOptions:l.options};this[Va]&&(d=this[Va](d));let f=d.call,p={clientInterceptors:this[Xd],clientInterceptorProviders:this[Yd],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},g=(0,ty.getInterceptingCall)(p,d.methodDefinition,d.callOptions,d.channel);f.call=g;let m=!1,b=new Error;return g.start(d.metadata,{onReceiveMetadata(v){f.emit("metadata",v)},onReceiveMessage(v){f.push(v)},onReceiveStatus(v){if(!m){if(m=!0,f.push(null),v.code!==Po.Status.OK){let E=$d(b);f.emit("error",(0,aa.callErrorFromStatus)(v,E))}b=null,f.emit("status",v)}}}),g.sendMessage(i),g.halfClose(),f}makeBidiStreamRequest(e,r,n,i,a){var o,s;let u=this.checkMetadataAndOptions(i,a),l={path:e,requestStream:!0,responseStream:!0,requestSerialize:r,responseDeserialize:n},c={metadata:u.metadata,call:new aa.ClientDuplexStreamImpl(r,n),channel:this[Pi],methodDefinition:l,callOptions:u.options};this[Va]&&(c=this[Va](c));let d=c.call,f={clientInterceptors:this[Xd],clientInterceptorProviders:this[Yd],callInterceptors:(o=c.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(s=c.callOptions.interceptor_providers)!==null&&s!==void 0?s:[]},p=(0,ty.getInterceptingCall)(f,c.methodDefinition,c.callOptions,c.channel);d.call=p;let g=!1,m=new Error;return p.start(c.metadata,{onReceiveMetadata(b){d.emit("metadata",b)},onReceiveMessage(b){d.push(b)},onReceiveStatus(b){if(!g){if(g=!0,d.push(null),b.code!==Po.Status.OK){let v=$d(m);d.emit("error",(0,aa.callErrorFromStatus)(b,v))}m=null,d.emit("status",b)}}}),d}};ry.Client=Mk});var Uk=h(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.loadPackageDefinition=jd.makeClientConstructor=void 0;var Em=Lk(),k$={unary:Em.Client.prototype.makeUnaryRequest,server_stream:Em.Client.prototype.makeServerStreamRequest,client_stream:Em.Client.prototype.makeClientStreamRequest,bidi:Em.Client.prototype.makeBidiStreamRequest};function qk(t){return["__proto__","prototype","constructor"].includes(t)}function ZL(t,e,r){r||(r={});class n extends Em.Client{}return Object.keys(t).forEach(i=>{if(qk(i))return;let a=t[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?o="bidi":o="client_stream":a.responseStream?o="server_stream":o="unary";let s=a.requestSerialize,u=a.responseDeserialize,l=I$(k$[o],a.path,s,u);n.prototype[i]=l,Object.assign(n.prototype[i],a),a.originalName&&!qk(a.originalName)&&(n.prototype[a.originalName]=n.prototype[i])}),n.service=t,n.serviceName=e,n}jd.makeClientConstructor=ZL;function I$(t,e,r,n){return function(...i){return t.call(this,e,r,n,...i)}}function O$(t){return"format"in t}function N$(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let n=t[r],i=r.split(".");if(i.some(s=>qk(s)))continue;let a=i[i.length-1],o=e;for(let s of i.slice(0,-1))o[s]||(o[s]={}),o=o[s];O$(n)?o[a]=n:o[a]=ZL(n,a,{})}return e}jd.loadPackageDefinition=N$});var S6=h((aMe,b6)=>{var R$=1/0,w$="[object Symbol]",P$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,x$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iy="\\ud800-\\udfff",n6="\\u0300-\\u036f\\ufe20-\\ufe23",i6="\\u20d0-\\u20f0",a6="\\u2700-\\u27bf",o6="a-z\\xdf-\\xf6\\xf8-\\xff",B$="\\xac\\xb1\\xd7\\xf7",D$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",M$="\\u2000-\\u206f",L$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s6="A-Z\\xc0-\\xd6\\xd8-\\xde",u6="\\ufe0e\\ufe0f",l6=B$+D$+M$+L$,Jk="['\u2019]",F$="["+iy+"]",XL="["+l6+"]",ny="["+n6+i6+"]",c6="\\d+",q$="["+a6+"]",d6="["+o6+"]",f6="[^"+iy+l6+c6+a6+o6+s6+"]",Vk="\\ud83c[\\udffb-\\udfff]",U$="(?:"+ny+"|"+Vk+")",h6="[^"+iy+"]",Wk="(?:\\ud83c[\\udde6-\\uddff]){2}",Gk="[\\ud800-\\udbff][\\udc00-\\udfff]",ef="["+s6+"]",p6="\\u200d",YL="(?:"+d6+"|"+f6+")",V$="(?:"+ef+"|"+f6+")",$L="(?:"+Jk+"(?:d|ll|m|re|s|t|ve))?",jL="(?:"+Jk+"(?:D|LL|M|RE|S|T|VE))?",m6=U$+"?",g6="["+u6+"]?",J$="(?:"+p6+"(?:"+[h6,Wk,Gk].join("|")+")"+g6+m6+")*",y6=g6+m6+J$,W$="(?:"+[q$,Wk,Gk].join("|")+")"+y6,G$="(?:"+[h6+ny+"?",ny,Wk,Gk,F$].join("|")+")",H$=RegExp(Jk,"g"),z$=RegExp(ny,"g"),Q$=RegExp(Vk+"(?="+Vk+")|"+G$+y6,"g"),K$=RegExp([ef+"?"+d6+"+"+$L+"(?="+[XL,ef,"$"].join("|")+")",V$+"+"+jL+"(?="+[XL,ef+YL,"$"].join("|")+")",ef+"?"+YL+"+"+$L,ef+"+"+jL,c6,W$].join("|"),"g"),Z$=RegExp("["+p6+iy+n6+i6+u6+"]"),X$=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Y$={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},$$=typeof global=="object"&&global&&global.Object===Object&&global,j$=typeof self=="object"&&self&&self.Object===Object&&self,ej=$$||j$||Function("return this")();function tj(t,e,r,n){var i=-1,a=t?t.length:0;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function rj(t){return t.split("")}function nj(t){return t.match(P$)||[]}function ij(t){return function(e){return t?.[e]}}var aj=ij(Y$);function v6(t){return Z$.test(t)}function oj(t){return X$.test(t)}function sj(t){return v6(t)?uj(t):rj(t)}function uj(t){return t.match(Q$)||[]}function lj(t){return t.match(K$)||[]}var cj=Object.prototype,dj=cj.toString,e6=ej.Symbol,t6=e6?e6.prototype:void 0,r6=t6?t6.toString:void 0;function fj(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}function hj(t){if(typeof t=="string")return t;if(vj(t))return r6?r6.call(t):"";var e=t+"";return e=="0"&&1/t==-R$?"-0":e}function pj(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:fj(t,e,r)}function mj(t){return function(e){e=ay(e);var r=v6(e)?sj(e):void 0,n=r?r[0]:e.charAt(0),i=r?pj(r,1).join(""):e.slice(1);return n[t]()+i}}function gj(t){return function(e){return tj(Tj(_j(e).replace(H$,"")),t,"")}}function yj(t){return!!t&&typeof t=="object"}function vj(t){return typeof t=="symbol"||yj(t)&&dj.call(t)==w$}function ay(t){return t==null?"":hj(t)}var bj=gj(function(t,e,r){return e=e.toLowerCase(),t+(r?Sj(e):e)});function Sj(t){return Ej(ay(t).toLowerCase())}function _j(t){return t=ay(t),t&&t.replace(x$,aj).replace(z$,"")}var Ej=mj("toUpperCase");function Tj(t,e,r){return t=ay(t),e=r?void 0:e,e===void 0?oj(t)?lj(t):nj(t):t.match(e)||[]}b6.exports=bj});var E6=h((oMe,_6)=>{"use strict";_6.exports=Hk;function Hk(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function n(a){if(typeof a!="string"){var o=i();if(Hk.verbose&&console.log("codegen: "+o),o="return "+o,a){for(var s=Object.keys(a),u=new Array(s.length+1),l=new Array(s.length),c=0;c<s.length;)u[c]=s[c],l[c]=a[s[c++]];return u[c]=o,Function.apply(null,u).apply(null,l)}return Function(o)()}for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f]=arguments[++f];if(f=0,a=a.replace(/%([%dfijs])/g,function(g,m){var b=d[f++];switch(m){case"d":case"f":return String(Number(b));case"i":return String(Math.floor(b));case"j":return JSON.stringify(b);case"s":return String(b)}return"%"}),f!==d.length)throw Error("parameter count mismatch");return r.push(a),n}function i(a){return"function "+(a||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return n.toString=i,n}Hk.verbose=!1});var A6=h((sMe,T6)=>{"use strict";T6.exports=Tm;var Aj=bC(),Cj=SC(),zk=Cj("fs");function Tm(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&zk&&zk.readFile?zk.readFile(t,function(i,a){return i&&typeof XMLHttpRequest<"u"?Tm.xhr(t,e,r):i?r(i):r(null,e.binary?a:a.toString("utf8"))}):Tm.xhr(t,e,r):Aj(Tm,this,t,e)}Tm.xhr=function(e,r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(r.binary){var o=i.response;if(!o){o=[];for(var s=0;s<i.responseText.length;++s)o.push(i.responseText.charCodeAt(s)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return n(null,i.responseText)}},r.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var I6=h(k6=>{"use strict";var Kk=k6,C6=Kk.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},Qk=Kk.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),n=C6(e),i="";n&&(i=r.shift()+"/");for(var a=0;a<r.length;)r[a]===".."?a>0&&r[a-1]!==".."?r.splice(--a,2):n?r.splice(a,1):++a:r[a]==="."?r.splice(a,1):++a;return i+r.join("/")};Kk.resolve=function(e,r,n){return n||(r=Qk(r)),C6(r)?r:(n||(e=Qk(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?Qk(e+"/"+r):r)}});var pu=h(O6=>{"use strict";var Am=O6,kj=$t(),Ij=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Cm(t,e){var r=0,n={};for(e|=0;r<t.length;)n[Ij[r+e]]=t[r++];return n}Am.basic=Cm([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Am.defaults=Cm([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",kj.emptyArray,null]);Am.long=Cm([0,0,0,1,1],7);Am.mapKey=Cm([0,0,0,5,5,0,0,0,1,1,0,2],2);Am.packed=Cm([1,5,0,0,0,5,5,0,0,0,1,1,0])});var xo=h((cMe,w6)=>{"use strict";w6.exports=Jn;var oy=mu();((Jn.prototype=Object.create(oy.prototype)).constructor=Jn).className="Field";var N6=xi(),R6=pu(),Ft=$t(),Zk,Oj=/^required|optional|repeated$/;Jn.fromJSON=function(e,r){return new Jn(e,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function Jn(t,e,r,n,i,a,o){if(Ft.isObject(n)?(o=i,a=n,n=i=void 0):Ft.isObject(i)&&(o=a,a=i,i=void 0),oy.call(this,t,a),!Ft.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Ft.isString(r))throw TypeError("type must be a string");if(n!==void 0&&!Oj.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!Ft.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=r,this.id=e,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Ft.Long?R6.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(Jn.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Jn.prototype.setOption=function(e,r,n){return e==="packed"&&(this._packed=null),oy.prototype.setOption.call(this,e,r,n)};Jn.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Ft.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};Jn.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=R6.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Zk?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof N6&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof N6))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Ft.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Ft.base64.test(this.typeDefault)?Ft.base64.decode(this.typeDefault,e=Ft.newBuffer(Ft.base64.length(this.typeDefault)),0):Ft.utf8.write(this.typeDefault,e=Ft.newBuffer(Ft.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Ft.emptyObject:this.repeated?this.defaultValue=Ft.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Zk&&(this.parent.ctor.prototype[this.name]=this.defaultValue),oy.prototype.resolve.call(this)};Jn.d=function(e,r,n,i){return typeof r=="function"?r=Ft.decorateType(r).name:r&&typeof r=="object"&&(r=Ft.decorateEnum(r).name),function(o,s){Ft.decorateType(o.constructor).add(new Jn(s,e,r,n,{default:i}))}};Jn._configure=function(e){Zk=e}});var tf=h((dMe,B6)=>{"use strict";B6.exports=Wn;var uy=mu();((Wn.prototype=Object.create(uy.prototype)).constructor=Wn).className="OneOf";var P6=xo(),sy=$t();function Wn(t,e,r,n){if(Array.isArray(e)||(r=e,e=void 0),uy.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=n}Wn.fromJSON=function(e,r){return new Wn(e,r.oneof,r.options,r.comment)};Wn.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return sy.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function x6(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}Wn.prototype.add=function(e){if(!(e instanceof P6))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,x6(this),this};Wn.prototype.remove=function(e){if(!(e instanceof P6))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};Wn.prototype.onAdd=function(e){uy.prototype.onAdd.call(this,e);for(var r=this,n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=r,r.fieldsArray.push(i))}x6(this)};Wn.prototype.onRemove=function(e){for(var r=0,n;r<this.fieldsArray.length;++r)(n=this.fieldsArray[r]).parent&&n.parent.remove(n);uy.prototype.onRemove.call(this,e)};Wn.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(i,a){sy.decorateType(i.constructor).add(new Wn(a,e)),Object.defineProperty(i,a,{get:sy.oneOfGetter(e),set:sy.oneOfSetter(e)})}}});var af=h((fMe,F6)=>{"use strict";F6.exports=Fe;var Xk=mu();((Fe.prototype=Object.create(Xk.prototype)).constructor=Fe).className="Namespace";var D6=xo(),ly=$t(),Nj=tf(),rf,km,nf;Fe.fromJSON=function(e,r){return new Fe(e,r.options).addJSON(r.nested)};function M6(t,e){if(t&&t.length){for(var r={},n=0;n<t.length;++n)r[t[n].name]=t[n].toJSON(e);return r}}Fe.arrayToJSON=M6;Fe.isReservedId=function(e,r){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!="string"&&e[n][0]<=r&&e[n][1]>r)return!0}return!1};Fe.isReservedName=function(e,r){if(e){for(var n=0;n<e.length;++n)if(e[n]===r)return!0}return!1};function Fe(t,e){Xk.call(this,t,e),this.nested=void 0,this._nestedArray=null}function L6(t){return t._nestedArray=null,t}Object.defineProperty(Fe.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ly.toArray(this.nested))}});Fe.prototype.toJSON=function(e){return ly.toObject(["options",this.options,"nested",M6(this.nestedArray,e)])};Fe.prototype.addJSON=function(e){var r=this;if(e)for(var n=Object.keys(e),i=0,a;i<n.length;++i)a=e[n[i]],r.add((a.fields!==void 0?rf.fromJSON:a.values!==void 0?nf.fromJSON:a.methods!==void 0?km.fromJSON:a.id!==void 0?D6.fromJSON:Fe.fromJSON)(n[i],a));return this};Fe.prototype.get=function(e){return this.nested&&this.nested[e]||null};Fe.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof nf)return this.nested[e].values;throw Error("no such enum: "+e)};Fe.prototype.add=function(e){if(!(e instanceof D6&&e.extend!==void 0||e instanceof rf||e instanceof Nj||e instanceof nf||e instanceof km||e instanceof Fe))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(e.name);if(r)if(r instanceof Fe&&e instanceof Fe&&!(r instanceof rf||r instanceof km)){for(var n=r.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),L6(this)};Fe.prototype.remove=function(e){if(!(e instanceof Xk))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),L6(this)};Fe.prototype.define=function(e,r){if(ly.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof Fe))throw Error("path conflicts with non-namespace objects")}else n.add(n=new Fe(i))}return r&&n.addJSON(r),n};Fe.prototype.resolveAll=function(){for(var e=this.nestedArray,r=0;r<e.length;)e[r]instanceof Fe?e[r++].resolveAll():e[r++].resolve();return this.resolve()};Fe.prototype.lookup=function(e,r,n){if(typeof r=="boolean"?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),ly.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),r);var i=this.get(e[0]);if(i){if(e.length===1){if(!r||r.indexOf(i.constructor)>-1)return i}else if(i instanceof Fe&&(i=i.lookup(e.slice(1),r,!0)))return i}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof Fe&&(i=this._nestedArray[a].lookup(e,r,!0)))return i;return this.parent===null||n?null:this.parent.lookup(e,r)};Fe.prototype.lookupType=function(e){var r=this.lookup(e,[rf]);if(!r)throw Error("no such type: "+e);return r};Fe.prototype.lookupEnum=function(e){var r=this.lookup(e,[nf]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};Fe.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[rf,nf]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};Fe.prototype.lookupService=function(e){var r=this.lookup(e,[km]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};Fe._configure=function(t,e,r){rf=t,km=e,nf=r}});var cy=h((hMe,q6)=>{"use strict";q6.exports=Ja;var Yk=xo();((Ja.prototype=Object.create(Yk.prototype)).constructor=Ja).className="MapField";var Rj=pu(),Im=$t();function Ja(t,e,r,n,i,a){if(Yk.call(this,t,e,n,void 0,void 0,i,a),!Im.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}Ja.fromJSON=function(e,r){return new Ja(e,r.id,r.keyType,r.type,r.options,r.comment)};Ja.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Im.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};Ja.prototype.resolve=function(){if(this.resolved)return this;if(Rj.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Yk.prototype.resolve.call(this)};Ja.d=function(e,r,n){return typeof n=="function"?n=Im.decorateType(n).name:n&&typeof n=="object"&&(n=Im.decorateEnum(n).name),function(a,o){Im.decorateType(a.constructor).add(new Ja(o,e,r,n))}}});var dy=h((pMe,U6)=>{"use strict";U6.exports=gu;var $k=mu();((gu.prototype=Object.create($k.prototype)).constructor=gu).className="Method";var of=$t();function gu(t,e,r,n,i,a,o,s,u){if(of.isObject(i)?(o=i,i=a=void 0):of.isObject(a)&&(o=a,a=void 0),!(e===void 0||of.isString(e)))throw TypeError("type must be a string");if(!of.isString(r))throw TypeError("requestType must be a string");if(!of.isString(n))throw TypeError("responseType must be a string");$k.call(this,t,o),this.type=e||"rpc",this.requestType=r,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=s,this.parsedOptions=u}gu.fromJSON=function(e,r){return new gu(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};gu.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return of.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};gu.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),$k.prototype.resolve.call(this))}});var fy=h((mMe,J6)=>{"use strict";J6.exports=Gn;var Bo=af();((Gn.prototype=Object.create(Bo.prototype)).constructor=Gn).className="Service";var jk=dy(),Om=$t(),wj=PC();function Gn(t,e){Bo.call(this,t,e),this.methods={},this._methodsArray=null}Gn.fromJSON=function(e,r){var n=new Gn(e,r.options);if(r.methods)for(var i=Object.keys(r.methods),a=0;a<i.length;++a)n.add(jk.fromJSON(i[a],r.methods[i[a]]));return r.nested&&n.addJSON(r.nested),n.comment=r.comment,n};Gn.prototype.toJSON=function(e){var r=Bo.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return Om.toObject(["options",r&&r.options||void 0,"methods",Bo.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(Gn.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Om.toArray(this.methods))}});function V6(t){return t._methodsArray=null,t}Gn.prototype.get=function(e){return this.methods[e]||Bo.prototype.get.call(this,e)};Gn.prototype.resolveAll=function(){for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return Bo.prototype.resolve.call(this)};Gn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof jk?(this.methods[e.name]=e,e.parent=this,V6(this)):Bo.prototype.add.call(this,e)};Gn.prototype.remove=function(e){if(e instanceof jk){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,V6(this)}return Bo.prototype.remove.call(this,e)};Gn.prototype.create=function(e,r,n){for(var i=new wj.Service(e,r,n),a=0,o;a<this.methodsArray.length;++a){var s=Om.lcFirst((o=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[s]=Om.codegen(["r","c"],Om.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var hy=h((gMe,W6)=>{"use strict";W6.exports=oa;var Pj=$i();function oa(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]]}oa.create=function(e){return this.$type.create(e)};oa.encode=function(e,r){return this.$type.encode(e,r)};oa.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};oa.decode=function(e){return this.$type.decode(e)};oa.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};oa.verify=function(e){return this.$type.verify(e)};oa.fromObject=function(e){return this.$type.fromObject(e)};oa.toObject=function(e,r){return this.$type.toObject(e,r)};oa.prototype.toJSON=function(){return this.$type.toObject(this,Pj.toJSONOptions)}});var eI=h((yMe,H6)=>{"use strict";H6.exports=Dj;var xj=xi(),Wa=pu(),G6=$t();function Bj(t){return"missing required '"+t.name+"'"}function Dj(t){var e=G6.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(s){return s.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var n=t._fieldsArray[r].resolve(),i=n.resolvedType instanceof xj?"int32":n.type,a="m"+G6.safeProp(n.name);e("case %i: {",n.id),n.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),Wa.defaults[n.keyType]!==void 0?e("k=%j",Wa.defaults[n.keyType]):e("k=null"),Wa.defaults[i]!==void 0?e("value=%j",Wa.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),Wa.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Wa.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):n.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),Wa.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,i)("}else"),Wa.basic[i]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",a,r):e("%s.push(r.%s())",a,i)):Wa.basic[i]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",a,r):e("%s=r.%s()",a,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var o=t._fieldsArray[r];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",Bj(o))}return e("return m")}});var nI=h((vMe,z6)=>{"use strict";z6.exports=Fj;var Mj=xi(),tI=$t();function Hn(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function rI(t,e,r,n){if(e.resolvedType)if(e.resolvedType instanceof Mj){t("switch(%s){",n)("default:")("return%j",Hn(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),a=0;a<i.length;++a)t("case %i:",e.resolvedType.values[i[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",n)("return%j",Hn(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",Hn(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',n)("return%j",Hn(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',n)("return%j",Hn(e,"boolean"));break;case"string":t("if(!util.isString(%s))",n)("return%j",Hn(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",Hn(e,"buffer"));break}return t}function Lj(t,e,r){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",Hn(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",Hn(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",r)("return%j",Hn(e,"boolean key"));break}return t}function Fj(t){var e=tI.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,n={};r.length&&e("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var a=t._fieldsArray[i].resolve(),o="m"+tI.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,a.name),a.map)e("if(!util.isObject(%s))",o)("return%j",Hn(a,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),Lj(e,a,"k[i]"),rI(e,a,i,o+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",o)("return%j",Hn(a,"array"))("for(var i=0;i<%s.length;++i){",o),rI(e,a,i,o+"[i]")("}");else{if(a.partOf){var s=tI.safeProp(a.partOf.name);n[a.partOf.name]===1&&e("if(p%s===1)",s)("return%j",a.partOf.name+": multiple values"),n[a.partOf.name]=1,e("p%s=1",s)}rI(e,a,i,o)}a.optional&&e("}")}return e("return null")}});var oI=h(K6=>{"use strict";var Q6=K6,Nm=xi(),sa=$t();function iI(t,e,r,n){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof Nm){t("switch(d%s){",n);for(var a=e.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]===e.typeDefault&&!i&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||t("break"),i=!0),t("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",n,a[o[s]])("break");t("}")}else t('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":t("m%s=String(d%s)",n,n);break;case"bool":t("m%s=Boolean(d%s)",n,n);break}}return t}Q6.fromObject=function(e){var r=e.fieldsArray,n=sa.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var a=r[i].resolve(),o=sa.safeProp(a.name);a.map?(n("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),iI(n,a,i,o+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),iI(n,a,i,o+"[i]")("}")("}")):(a.resolvedType instanceof Nm||n("if(d%s!=null){",o),iI(n,a,i,o),a.resolvedType instanceof Nm||n("}"))}return n("return m")};function aI(t,e,r,n){if(e.resolvedType)e.resolvedType instanceof Nm?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):t("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:t("d%s=m%s",n,n);break}}return t}Q6.toObject=function(e){var r=e.fieldsArray.slice().sort(sa.compareFieldsById);if(!r.length)return sa.codegen()("return {}");for(var n=sa.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],a=[],o=[],s=0;s<r.length;++s)r[s].partOf||(r[s].resolve().repeated?i:r[s].map?a:o).push(r[s]);if(i.length){for(n("if(o.arrays||o.defaults){"),s=0;s<i.length;++s)n("d%s=[]",sa.safeProp(i[s].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),s=0;s<a.length;++s)n("d%s={}",sa.safeProp(a[s].name));n("}")}if(o.length){for(n("if(o.defaults){"),s=0;s<o.length;++s){var u=o[s],l=sa.safeProp(u.name);if(u.resolvedType instanceof Nm)n("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var c="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,c)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,u.typeDefault)}n("}")}var d=!1;for(s=0;s<r.length;++s){var u=r[s],f=e._fieldsArray.indexOf(u),l=sa.safeProp(u.name);u.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),aI(n,u,f,l+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),aI(n,u,f,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),aI(n,u,f,l),u.partOf&&n("if(o.oneofs)")("d%s=%j",sa.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}});var sI=h(Z6=>{"use strict";var qj=Z6,Uj=hy();qj[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var n=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",n="",i="";if(e&&e.json&&t.type_url&&t.value){i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),n=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var a=this.lookup(i);a&&(t=a.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof Uj){var o=t.$type.toObject(t,e),s=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return n===""&&(n=r),i=n+s,o["@type"]=i,o}return this.toObject(t,e)}}});var gy=h((_Me,Y6)=>{"use strict";Y6.exports=ut;var Bi=af();((ut.prototype=Object.create(Bi.prototype)).constructor=ut).className="Type";var Vj=xi(),cI=tf(),py=xo(),Jj=cy(),Wj=fy(),uI=hy(),lI=B0(),Gj=P0(),Tr=$t(),Hj=dI(),zj=eI(),Qj=nI(),X6=oI(),Kj=sI();function ut(t,e){Bi.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(ut.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Tr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Tr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=ut.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof uI||((t.prototype=new uI).constructor=t,Tr.merge(t.prototype,e)),t.$type=t.prototype.$type=this,Tr.merge(t,uI,!0),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:Tr.oneOfGetter(this._oneofsArray[r].oneof),set:Tr.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,n)}}});ut.generateConstructor=function(e){for(var r=Tr.codegen(["p"],e.name),n=0,i;n<e.fieldsArray.length;++n)(i=e._fieldsArray[n]).map?r("this%s={}",Tr.safeProp(i.name)):i.repeated&&r("this%s=[]",Tr.safeProp(i.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function my(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}ut.fromJSON=function(e,r){var n=new ut(e,r.options);n.extensions=r.extensions,n.reserved=r.reserved;for(var i=Object.keys(r.fields),a=0;a<i.length;++a)n.add((typeof r.fields[i[a]].keyType<"u"?Jj.fromJSON:py.fromJSON)(i[a],r.fields[i[a]]));if(r.oneofs)for(i=Object.keys(r.oneofs),a=0;a<i.length;++a)n.add(cI.fromJSON(i[a],r.oneofs[i[a]]));if(r.nested)for(i=Object.keys(r.nested),a=0;a<i.length;++a){var o=r.nested[i[a]];n.add((o.id!==void 0?py.fromJSON:o.fields!==void 0?ut.fromJSON:o.values!==void 0?Vj.fromJSON:o.methods!==void 0?Wj.fromJSON:Bi.fromJSON)(i[a],o))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),n};ut.prototype.toJSON=function(e){var r=Bi.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return Tr.toObject(["options",r&&r.options||void 0,"oneofs",Bi.arrayToJSON(this.oneofsArray,e),"fields",Bi.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};ut.prototype.resolveAll=function(){for(var e=this.fieldsArray,r=0;r<e.length;)e[r++].resolve();var n=this.oneofsArray;for(r=0;r<n.length;)n[r++].resolve();return Bi.prototype.resolveAll.call(this)};ut.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};ut.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof py&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),my(this)}return e instanceof cI?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),my(this)):Bi.prototype.add.call(this,e)};ut.prototype.remove=function(e){if(e instanceof py&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),my(this)}if(e instanceof cI){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),my(this)}return Bi.prototype.remove.call(this,e)};ut.prototype.isReservedId=function(e){return Bi.isReservedId(this.reserved,e)};ut.prototype.isReservedName=function(e){return Bi.isReservedName(this.reserved,e)};ut.prototype.create=function(e){return new this.ctor(e)};ut.prototype.setup=function(){for(var e=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this._fieldsArray[n].resolve().resolvedType);this.encode=Hj(this)({Writer:Gj,types:r,util:Tr}),this.decode=zj(this)({Reader:lI,types:r,util:Tr}),this.verify=Qj(this)({types:r,util:Tr}),this.fromObject=X6.fromObject(this)({types:r,util:Tr}),this.toObject=X6.toObject(this)({types:r,util:Tr});var i=Kj[e];if(i){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(a),a.toObject=this.toObject,this.toObject=i.toObject.bind(a)}return this};ut.prototype.encode=function(e,r){return this.setup().encode(e,r)};ut.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};ut.prototype.decode=function(e,r){return this.setup().decode(e,r)};ut.prototype.decodeDelimited=function(e){return e instanceof lI||(e=lI.create(e)),this.decode(e,e.uint32())};ut.prototype.verify=function(e){return this.setup().verify(e)};ut.prototype.fromObject=function(e){return this.setup().fromObject(e)};ut.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};ut.d=function(e){return function(n){Tr.decorateType(n,e)}}});var by=h((EMe,rF)=>{"use strict";rF.exports=vn;var vy=af();((vn.prototype=Object.create(vy.prototype)).constructor=vn).className="Root";var hI=xo(),j6=xi(),Zj=tf(),Do=$t(),eF,fI,Rm;function vn(t){vy.call(this,"",t),this.deferred=[],this.files=[]}vn.fromJSON=function(e,r){return r||(r=new vn),e.options&&r.setOptions(e.options),r.addJSON(e.nested)};vn.prototype.resolvePath=Do.path.resolve;vn.prototype.fetch=Do.fetch;function tF(){}vn.prototype.load=function t(e,r,n){typeof r=="function"&&(n=r,r=void 0);var i=this;if(!n)return Do.asPromise(t,i,e,r);var a=n===tF;function o(p,g){if(n){if(a)throw p;var m=n;n=null,m(p,g)}}function s(p){var g=p.lastIndexOf("google/protobuf/");if(g>-1){var m=p.substring(g);if(m in Rm)return m}return null}function u(p,g){try{if(Do.isString(g)&&g.charAt(0)==="{"&&(g=JSON.parse(g)),!Do.isString(g))i.setOptions(g.options).addJSON(g.nested);else{fI.filename=p;var m=fI(g,i,r),b,v=0;if(m.imports)for(;v<m.imports.length;++v)(b=s(m.imports[v])||i.resolvePath(p,m.imports[v]))&&l(b);if(m.weakImports)for(v=0;v<m.weakImports.length;++v)(b=s(m.weakImports[v])||i.resolvePath(p,m.weakImports[v]))&&l(b,!0)}}catch(E){o(E)}!a&&!c&&o(null,i)}function l(p,g){if(p=s(p)||p,!(i.files.indexOf(p)>-1)){if(i.files.push(p),p in Rm){a?u(p,Rm[p]):(++c,setTimeout(function(){--c,u(p,Rm[p])}));return}if(a){var m;try{m=Do.fs.readFileSync(p).toString("utf8")}catch(b){g||o(b);return}u(p,m)}else++c,i.fetch(p,function(b,v){if(--c,!!n){if(b){g?c||o(null,i):o(b);return}u(p,v)}})}}var c=0;Do.isString(e)&&(e=[e]);for(var d=0,f;d<e.length;++d)(f=i.resolvePath("",e[d]))&&l(f);if(a)return i;c||o(null,i)};vn.prototype.loadSync=function(e,r){if(!Do.isNode)throw Error("not supported");return this.load(e,r,tF)};vn.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return vy.prototype.resolveAll.call(this)};var yy=/^[A-Z]/;function $6(t,e){var r=e.parent.lookup(e.extend);if(r){var n=new hI(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(n.name)||(n.declaringField=e,e.extensionField=n,r.add(n)),!0}return!1}vn.prototype._handleAdd=function(e){if(e instanceof hI)e.extend!==void 0&&!e.extensionField&&($6(this,e)||this.deferred.push(e));else if(e instanceof j6)yy.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Zj)){if(e instanceof eF)for(var r=0;r<this.deferred.length;)$6(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);yy.test(e.name)&&(e.parent[e.name]=e)}};vn.prototype._handleRemove=function(e){if(e instanceof hI){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1)}}else if(e instanceof j6)yy.test(e.name)&&delete e.parent[e.name];else if(e instanceof vy){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);yy.test(e.name)&&delete e.parent[e.name]}};vn._configure=function(t,e,r){eF=t,fI=e,Rm=r}});var $t=h((TMe,iF)=>{"use strict";var xt=iF.exports=$i(),nF=xC(),pI,mI;xt.codegen=E6();xt.fetch=A6();xt.path=I6();xt.fs=xt.inquire("fs");xt.toArray=function(e){if(e){for(var r=Object.keys(e),n=new Array(r.length),i=0;i<r.length;)n[i]=e[r[i++]];return n}return[]};xt.toObject=function(e){for(var r={},n=0;n<e.length;){var i=e[n++],a=e[n++];a!==void 0&&(r[i]=a)}return r};var Xj=/\\/g,Yj=/"/g;xt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};xt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||xt.isReserved(e)?'["'+e.replace(Xj,"\\\\").replace(Yj,'\\"')+'"]':"."+e};xt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var $j=/_([a-z])/g;xt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace($j,function(r,n){return n.toUpperCase()})};xt.compareFieldsById=function(e,r){return e.id-r.id};xt.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(xt.decorateRoot.remove(e.$type),e.$type.name=r,xt.decorateRoot.add(e.$type)),e.$type;pI||(pI=gy());var n=new pI(r||e.name);return xt.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var jj=0;xt.decorateEnum=function(e){if(e.$type)return e.$type;mI||(mI=xi());var r=new mI("Enum"+jj++,e);return xt.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:!1}),r};xt.setProperty=function(e,r,n){function i(a,o,s){var u=o.shift();if(u==="__proto__"||u==="prototype")return a;if(o.length>0)a[u]=i(a[u]||{},o,s);else{var l=a[u];l&&(s=[].concat(l).concat(s)),a[u]=s}return a}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),i(e,r,n)};Object.defineProperty(xt,"decorateRoot",{get:function(){return nF.decorated||(nF.decorated=new(by()))}})});var mu=h((AMe,aF)=>{"use strict";aF.exports=bn;bn.className="ReflectionObject";var Sy=$t(),_y;function bn(t,e){if(!Sy.isString(t))throw TypeError("name must be a string");if(e&&!Sy.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(bn.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});bn.prototype.toJSON=function(){throw Error()};bn.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var r=e.root;r instanceof _y&&r._handleAdd(this)};bn.prototype.onRemove=function(e){var r=e.root;r instanceof _y&&r._handleRemove(this),this.parent=null,this.resolved=!1};bn.prototype.resolve=function(){return this.resolved?this:(this.root instanceof _y&&(this.resolved=!0),this)};bn.prototype.getOption=function(e){if(this.options)return this.options[e]};bn.prototype.setOption=function(e,r,n){return(!n||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=r),this};bn.prototype.setParsedOption=function(e,r,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var a=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(a){var o=a[e];Sy.setProperty(o,n,r)}else a={},a[e]=Sy.setProperty({},n,r),i.push(a)}else{var s={};s[e]=r,i.push(s)}return this};bn.prototype.setOptions=function(e,r){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],r);return this};bn.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};bn._configure=function(t){_y=t}});var xi=h((CMe,uF)=>{"use strict";uF.exports=ua;var oF=mu();((ua.prototype=Object.create(oF.prototype)).constructor=ua).className="Enum";var sF=af(),Ey=$t();function ua(t,e,r,n,i,a){if(oF.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=a,this.reserved=void 0,e)for(var o=Object.keys(e),s=0;s<o.length;++s)typeof e[o[s]]=="number"&&(this.valuesById[this.values[o[s]]=e[o[s]]]=o[s])}ua.fromJSON=function(e,r){var n=new ua(e,r.values,r.options,r.comment,r.comments);return n.reserved=r.reserved,n};ua.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Ey.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};ua.prototype.add=function(e,r,n,i){if(!Ey.isString(e))throw TypeError("name must be a string");if(!Ey.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r}else this.valuesById[this.values[e]=r]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=n||null,this};ua.prototype.remove=function(e){if(!Ey.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};ua.prototype.isReservedId=function(e){return sF.isReservedId(this.reserved,e)};ua.prototype.isReservedName=function(e){return sF.isReservedName(this.reserved,e)}});var dI=h((kMe,cF)=>{"use strict";cF.exports=tee;var eee=xi(),gI=pu(),yI=$t();function lF(t,e,r,n){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(e.id<<3|2)>>>0)}function tee(t){for(var e=yI.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,n,i=t.fieldsArray.slice().sort(yI.compareFieldsById),r=0;r<i.length;++r){var a=i[r].resolve(),o=t._fieldsArray.indexOf(a),s=a.resolvedType instanceof eee?"int32":a.type,u=gI.basic[s];n="m"+yI.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|gI.mapKey[a.keyType],a.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,n):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,s,n),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",n,n),a.packed&&gI.packed[s]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",s,n)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",n),u===void 0?lF(e,a,o,n+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|u)>>>0,s,n)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,a.name),u===void 0?lF(e,a,o,n):e("w.uint32(%i).%s(%s)",(a.id<<3|u)>>>0,s,n))}return e("return w")}});var fF=h((IMe,dF)=>{"use strict";var xe=dF.exports=BC();xe.build="light";function ree(t,e,r){return typeof e=="function"?(r=e,e=new xe.Root):e||(e=new xe.Root),e.load(t,r)}xe.load=ree;function nee(t,e){return e||(e=new xe.Root),e.loadSync(t)}xe.loadSync=nee;xe.encoder=dI();xe.decoder=eI();xe.verifier=nI();xe.converter=oI();xe.ReflectionObject=mu();xe.Namespace=af();xe.Root=by();xe.Enum=xi();xe.Type=gy();xe.Field=xo();xe.OneOf=tf();xe.MapField=cy();xe.Service=fy();xe.Method=dy();xe.Message=hy();xe.wrappers=sI();xe.types=pu();xe.util=$t();xe.ReflectionObject._configure(xe.Root);xe.Namespace._configure(xe.Type,xe.Service,xe.Enum);xe.Root._configure(xe.Type);xe.Field._configure(xe.Type)});var bI=h((OMe,mF)=>{"use strict";mF.exports=pF;var vI=/[\s{}=;:[\],'"()<>]/g,iee=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,aee=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,oee=/^ *[*/]+ */,see=/^\s*\*?\/*/,uee=/\n/g,lee=/\s/,cee=/\\(.?)/g,dee={0:"\0",r:"\r",n:`
`,t:"	"};function hF(t){return t.replace(cee,function(e,r){switch(r){case"\\":case"":return r;default:return dee[r]||""}})}pF.unescape=hF;function pF(t,e){t=t.toString();var r=0,n=t.length,i=1,a=0,o={},s=[],u=null;function l(O){return Error("illegal "+O+" (line "+i+")")}function c(){var O=u==="'"?aee:iee;O.lastIndex=r-1;var M=O.exec(t);if(!M)throw l("string");return r=O.lastIndex,b(u),u=null,hF(M[1])}function d(O){return t.charAt(O)}function f(O,M,P){var q={type:t.charAt(O++),lineEmpty:!1,leading:P},z;e?z=2:z=3;var me=O-z,ne;do if(--me<0||(ne=t.charAt(me))===`
`){q.lineEmpty=!0;break}while(ne===" "||ne==="	");for(var w=t.substring(O,M).split(uee),Oe=0;Oe<w.length;++Oe)w[Oe]=w[Oe].replace(e?see:oee,"").trim();q.text=w.join(`
`).trim(),o[i]=q,a=i}function p(O){var M=g(O),P=t.substring(O,M),q=/^\s*\/\//.test(P);return q}function g(O){for(var M=O;M<n&&d(M)!==`
`;)M++;return M}function m(){if(s.length>0)return s.shift();if(u)return c();var O,M,P,q,z,me=r===0;do{if(r===n)return null;for(O=!1;lee.test(P=d(r));)if(P===`
`&&(me=!0,++i),++r===n)return null;if(d(r)==="/"){if(++r===n)throw l("comment");if(d(r)==="/")if(e){if(q=r,z=!1,p(r-1)){z=!0;do if(r=g(r),r===n||(r++,!me))break;while(p(r))}else r=Math.min(n,g(r)+1);z&&(f(q,r,me),me=!0),i++,O=!0}else{for(z=d(q=r+1)==="/";d(++r)!==`
`;)if(r===n)return null;++r,z&&(f(q,r-1,me),me=!0),++i,O=!0}else if((P=d(r))==="*"){q=r+1,z=e||d(q)==="*";do{if(P===`
`&&++i,++r===n)throw l("comment");M=P,P=d(r)}while(M!=="*"||P!=="/");++r,z&&(f(q,r-2,me),me=!0),O=!0}else return"/"}}while(O);var ne=r;vI.lastIndex=0;var w=vI.test(d(ne++));if(!w)for(;ne<n&&!vI.test(d(ne));)++ne;var Oe=t.substring(r,r=ne);return(Oe==='"'||Oe==="'")&&(u=Oe),Oe}function b(O){s.push(O)}function v(){if(!s.length){var O=m();if(O===null)return null;b(O)}return s[0]}function E(O,M){var P=v(),q=P===O;if(q)return m(),!0;if(!M)throw l("token '"+P+"', '"+O+"' expected");return!1}function k(O){var M=null,P;return O===void 0?(P=o[i-1],delete o[i-1],P&&(e||P.type==="*"||P.lineEmpty)&&(M=P.leading?P.text:null)):(a<O&&v(),P=o[O],delete o[O],P&&!P.lineEmpty&&(e||P.type==="/")&&(M=P.leading?null:P.text)),M}return Object.defineProperty({next:m,peek:v,push:b,skip:E,cmnt:k},"line",{get:function(){return i}})}});var _F=h((NMe,SF)=>{"use strict";SF.exports=Ga;Ga.filename=null;Ga.defaults={keepCase:!1};var fee=bI(),gF=by(),yF=gy(),vF=xo(),hee=cy(),bF=tf(),pee=xi(),mee=fy(),gee=dy(),SI=pu(),_I=$t(),yee=/^[1-9][0-9]*$/,vee=/^-?[1-9][0-9]*$/,bee=/^0[x][0-9a-fA-F]+$/,See=/^-?0[x][0-9a-fA-F]+$/,_ee=/^0[0-7]+$/,Eee=/^-?0[0-7]+$/,Tee=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,la=/^[a-zA-Z_][a-zA-Z_0-9]*$/,ca=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Aee=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Ga(t,e,r){e instanceof gF||(r=e,e=new gF),r||(r=Ga.defaults);var n=r.preferTrailingComment||!1,i=fee(t,r.alternateCommentMode||!1),a=i.next,o=i.push,s=i.peek,u=i.skip,l=i.cmnt,c=!0,d,f,p,g,m=!1,b=e,v=r.keepCase?function(L){return L}:_I.camelCase;function E(L,F,H){var ee=Ga.filename;return H||(Ga.filename=null),Error("illegal "+(F||"token")+" '"+L+"' ("+(ee?ee+", ":"")+"line "+i.line+")")}function k(){var L=[],F;do{if((F=a())!=='"'&&F!=="'")throw E(F);L.push(a()),u(F),F=s()}while(F==='"'||F==="'");return L.join("")}function O(L){var F=a();switch(F){case"'":case'"':return o(F),k();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return P(F,!0)}catch{if(L&&ca.test(F))return F;throw E(F,"value")}}function M(L,F){var H,ee;do F&&((H=s())==='"'||H==="'")?L.push(k()):L.push([ee=q(a()),u("to",!0)?q(a()):ee]);while(u(",",!0));var j={options:void 0};j.setOption=function(ve,it){this.options===void 0&&(this.options={}),this.options[ve]=it},Oe(j,function(it){if(it==="option")_e(j,it),u(";");else throw E(it)},function(){nt(j)})}function P(L,F){var H=1;switch(L.charAt(0)==="-"&&(H=-1,L=L.substring(1)),L){case"inf":case"INF":case"Inf":return H*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(yee.test(L))return H*parseInt(L,10);if(bee.test(L))return H*parseInt(L,16);if(_ee.test(L))return H*parseInt(L,8);if(Tee.test(L))return H*parseFloat(L);throw E(L,"number",F)}function q(L,F){switch(L){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!F&&L.charAt(0)==="-")throw E(L,"id");if(vee.test(L))return parseInt(L,10);if(See.test(L))return parseInt(L,16);if(Eee.test(L))return parseInt(L,8);throw E(L,"id")}function z(){if(d!==void 0)throw E("package");if(d=a(),!ca.test(d))throw E(d,"name");b=b.define(d),u(";")}function me(){var L=s(),F;switch(L){case"weak":F=p||(p=[]),a();break;case"public":a();default:F=f||(f=[]);break}L=k(),u(";"),F.push(L)}function ne(){if(u("="),g=k(),m=g==="proto3",!m&&g!=="proto2")throw E(g,"syntax");u(";")}function w(L,F){switch(F){case"option":return _e(L,F),u(";"),!0;case"message":return D(L,F),!0;case"enum":return ce(L,F),!0;case"service":return je(L,F),!0;case"extend":return Nr(L,F),!0}return!1}function Oe(L,F,H){var ee=i.line;if(L&&(typeof L.comment!="string"&&(L.comment=l()),L.filename=Ga.filename),u("{",!0)){for(var j;(j=a())!=="}";)F(j);u(";",!0)}else H&&H(),u(";"),L&&(typeof L.comment!="string"||n)&&(L.comment=l(ee)||L.comment)}function D(L,F){if(!la.test(F=a()))throw E(F,"type name");var H=new yF(F);Oe(H,function(j){if(!w(H,j))switch(j){case"map":U(H,j);break;case"required":case"repeated":_(H,j);break;case"optional":m?_(H,"proto3_optional"):_(H,"optional");break;case"oneof":oe(H,j);break;case"extensions":M(H.extensions||(H.extensions=[]));break;case"reserved":M(H.reserved||(H.reserved=[]),!0);break;default:if(!m||!ca.test(j))throw E(j);o(j),_(H,"optional");break}}),L.add(H)}function _(L,F,H){var ee=a();if(ee==="group"){N(L,F);return}for(;ee.endsWith(".")||s().startsWith(".");)ee+=a();if(!ca.test(ee))throw E(ee,"type");var j=a();if(!la.test(j))throw E(j,"name");j=v(j),u("=");var ve=new vF(j,q(a()),ee,F,H);if(Oe(ve,function(hn){if(hn==="option")_e(ve,hn),u(";");else throw E(hn)},function(){nt(ve)}),F==="proto3_optional"){var it=new bF("_"+j);ve.setOption("proto3_optional",!0),it.add(ve),L.add(it)}else L.add(ve);!m&&ve.repeated&&(SI.packed[ee]!==void 0||SI.basic[ee]===void 0)&&ve.setOption("packed",!1,!0)}function N(L,F){var H=a();if(!la.test(H))throw E(H,"name");var ee=_I.lcFirst(H);H===ee&&(H=_I.ucFirst(H)),u("=");var j=q(a()),ve=new yF(H);ve.group=!0;var it=new vF(ee,j,H,F);it.filename=Ga.filename,Oe(ve,function(hn){switch(hn){case"option":_e(ve,hn),u(";");break;case"required":case"repeated":_(ve,hn);break;case"optional":m?_(ve,"proto3_optional"):_(ve,"optional");break;case"message":D(ve,hn);break;case"enum":ce(ve,hn);break;default:throw E(hn)}}),L.add(ve).add(it)}function U(L){u("<");var F=a();if(SI.mapKey[F]===void 0)throw E(F,"type");u(",");var H=a();if(!ca.test(H))throw E(H,"type");u(">");var ee=a();if(!la.test(ee))throw E(ee,"name");u("=");var j=new hee(v(ee),q(a()),F,H);Oe(j,function(it){if(it==="option")_e(j,it),u(";");else throw E(it)},function(){nt(j)}),L.add(j)}function oe(L,F){if(!la.test(F=a()))throw E(F,"name");var H=new bF(v(F));Oe(H,function(j){j==="option"?(_e(H,j),u(";")):(o(j),_(H,"optional"))}),L.add(H)}function ce(L,F){if(!la.test(F=a()))throw E(F,"name");var H=new pee(F);Oe(H,function(j){switch(j){case"option":_e(H,j),u(";");break;case"reserved":M(H.reserved||(H.reserved=[]),!0);break;default:ge(H,j)}}),L.add(H)}function ge(L,F){if(!la.test(F))throw E(F,"name");u("=");var H=q(a(),!0),ee={options:void 0};ee.setOption=function(j,ve){this.options===void 0&&(this.options={}),this.options[j]=ve},Oe(ee,function(ve){if(ve==="option")_e(ee,ve),u(";");else throw E(ve)},function(){nt(ee)}),L.add(F,H,ee.comment,ee.options)}function _e(L,F){var H=u("(",!0);if(!ca.test(F=a()))throw E(F,"name");var ee=F,j=ee,ve;H&&(u(")"),ee="("+ee+")",j=ee,F=s(),Aee.test(F)&&(ve=F.slice(1),ee+=F,a())),u("=");var it=Qe(L,ee);Ue(L,j,it,ve)}function Qe(L,F){if(u("{",!0)){for(var H={};!u("}",!0);){if(!la.test(Lt=a()))throw E(Lt,"name");if(Lt===null)throw E(Lt,"end of input");var ee,j=Lt;if(u(":",!0),s()==="{")ee=Qe(L,F+"."+Lt);else if(s()==="["){ee=[];var ve;if(u("[",!0)){do ve=O(!0),ee.push(ve);while(u(",",!0));u("]"),typeof ve<"u"&&Pe(L,F+"."+Lt,ve)}}else ee=O(!0),Pe(L,F+"."+Lt,ee);var it=H[j];it&&(ee=[].concat(it).concat(ee)),H[j]=ee,u(",",!0),u(";",!0)}return H}var ri=O(!0);return Pe(L,F,ri),ri}function Pe(L,F,H){L.setOption&&L.setOption(F,H)}function Ue(L,F,H,ee){L.setParsedOption&&L.setParsedOption(F,H,ee)}function nt(L){if(u("[",!0)){do _e(L,"option");while(u(",",!0));u("]")}return L}function je(L,F){if(!la.test(F=a()))throw E(F,"service name");var H=new mee(F);Oe(H,function(j){if(!w(H,j))if(j==="rpc")At(H,j);else throw E(j)}),L.add(H)}function At(L,F){var H=l(),ee=F;if(!la.test(F=a()))throw E(F,"name");var j=F,ve,it,ri,hn;if(u("("),u("stream",!0)&&(it=!0),!ca.test(F=a())||(ve=F,u(")"),u("returns"),u("("),u("stream",!0)&&(hn=!0),!ca.test(F=a())))throw E(F);ri=F,u(")");var I0=new gee(j,ee,ve,ri,it,hn);I0.comment=H,Oe(I0,function(mC){if(mC==="option")_e(I0,mC),u(";");else throw E(mC)}),L.add(I0)}function Nr(L,F){if(!ca.test(F=a()))throw E(F,"reference");var H=F;Oe(null,function(j){switch(j){case"required":case"repeated":_(L,j,H);break;case"optional":m?_(L,"proto3_optional",H):_(L,"optional",H);break;default:if(!m||!ca.test(j))throw E(j);o(j),_(L,"optional",H);break}})}for(var Lt;(Lt=a())!==null;)switch(Lt){case"package":if(!c)throw E(Lt);z();break;case"import":if(!c)throw E(Lt);me();break;case"syntax":if(!c)throw E(Lt);ne();break;case"option":_e(b,Lt),u(";");break;default:if(w(b,Lt)){c=!1;continue}throw E(Lt)}return Ga.filename=null,{package:d,imports:f,weakImports:p,syntax:g,root:e}}});var AF=h((RMe,TF)=>{"use strict";TF.exports=Di;var Cee=/\/|\./;function Di(t,e){Cee.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Di[t]=e}Di("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var EF;Di("duration",{Duration:EF={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Di("timestamp",{Timestamp:EF});Di("empty",{Empty:{fields:{}}});Di("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Di("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Di("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Di.get=function(e){return Di[e]||null}});var kF=h((wMe,CF)=>{"use strict";var Mo=CF.exports=fF();Mo.build="full";Mo.tokenize=bI();Mo.parse=_F();Mo.common=AF();Mo.Root._configure(Mo.Type,Mo.parse,Mo.common)});var Ty=h((PMe,IF)=>{"use strict";IF.exports=kF()});var EI=h((xMe,kee)=>{kee.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var PF=h((Ie,wF)=>{"use strict";var Dr=Ty();wF.exports=Ie=Dr.descriptor=Dr.Root.fromJSON(EI()).lookup(".google.protobuf");var OF=Dr.Namespace,wm=Dr.Root,Ha=Dr.Enum,Lo=Dr.Type,Fo=Dr.Field,Iee=Dr.MapField,Ay=Dr.OneOf,Pm=Dr.Service,Cy=Dr.Method;wm.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ie.FileDescriptorSet.decode(e));var r=new wm;if(e.file)for(var n,i,a=0,o;a<e.file.length;++a){if(i=r,(n=e.file[a]).package&&n.package.length&&(i=r.define(n.package)),n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(o=0;o<n.messageType.length;++o)i.add(Lo.fromDescriptor(n.messageType[o],n.syntax));if(n.enumType)for(o=0;o<n.enumType.length;++o)i.add(Ha.fromDescriptor(n.enumType[o]));if(n.extension)for(o=0;o<n.extension.length;++o)i.add(Fo.fromDescriptor(n.extension[o]));if(n.service)for(o=0;o<n.service.length;++o)i.add(Pm.fromDescriptor(n.service[o]));var s=sf(n.options,Ie.FileOptions);if(s){var u=Object.keys(s);for(o=0;o<u.length;++o)i.setOption(u[o],s[u[o]])}}return r};wm.prototype.toDescriptor=function(e){var r=Ie.FileDescriptorSet.create();return NF(this,r.file,e),r};function NF(t,e,r){var n=Ie.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});r&&(n.syntax=r),t instanceof wm||(n.package=t.fullName.substring(1));for(var i=0,a;i<t.nestedArray.length;++i)(a=t._nestedArray[i])instanceof Lo?n.messageType.push(a.toDescriptor(r)):a instanceof Ha?n.enumType.push(a.toDescriptor()):a instanceof Fo?n.extension.push(a.toDescriptor(r)):a instanceof Pm?n.service.push(a.toDescriptor()):a instanceof OF&&NF(a,e,r);n.options=uf(t.options,Ie.FileOptions),n.messageType.length+n.enumType.length+n.extension.length+n.service.length&&e.push(n)}var Oee=0;Lo.fromDescriptor=function(e,r){typeof e.length=="number"&&(e=Ie.DescriptorProto.decode(e));var n=new Lo(e.name.length?e.name:"Type"+Oee++,sf(e.options,Ie.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)n.add(Ay.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var a=Fo.fromDescriptor(e.field[i],r);n.add(a),e.field[i].hasOwnProperty("oneofIndex")&&n.oneofsArray[e.field[i].oneofIndex].add(a)}if(e.extension)for(i=0;i<e.extension.length;++i)n.add(Fo.fromDescriptor(e.extension[i],r));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)n.add(Lo.fromDescriptor(e.nestedType[i],r)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&n.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)n.add(Ha.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(n.extensions=[],i=0;i<e.extensionRange.length;++i)n.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(n.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)n.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)n.reserved.push(e.reservedName[i])}return n};Lo.prototype.toDescriptor=function(e){var r=Ie.DescriptorProto.create({name:this.name}),n;for(n=0;n<this.fieldsArray.length;++n){var i;if(r.field.push(i=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof Iee){var a=TI(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),o=TI(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),s=o===11||o===14?this._fieldsArray[n].resolvedType&&RF(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;r.nestedType.push(Ie.DescriptorProto.create({name:i.typeName,field:[Ie.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),Ie.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:s})],options:Ie.MessageOptions.create({mapEntry:!0})}))}}for(n=0;n<this.oneofsArray.length;++n)r.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof Fo?r.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof Lo?r.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof Ha&&r.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)r.extensionRange.push(Ie.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)typeof this.reserved[n]=="string"?r.reservedName.push(this.reserved[n]):r.reservedRange.push(Ie.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return r.options=uf(this.options,Ie.MessageOptions),r};var Nee=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Fo.fromDescriptor=function(e,r){if(typeof e.length=="number"&&(e=Ie.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var n;e.typeName&&e.typeName.length?n=e.typeName:n=Bee(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var a=e.extendee;e.extendee!==void 0&&(a=a.length?a:void 0);var o=new Fo(e.name.length?e.name:"field"+e.number,e.number,n,i,a);if(o.options=sf(e.options,Ie.FieldOptions),e.defaultValue&&e.defaultValue.length){var s=e.defaultValue;switch(s){case"true":case"TRUE":s=!0;break;case"false":case"FALSE":s=!1;break;default:var u=Nee.exec(s);u&&(s=parseInt(s));break}o.setOption("default",s)}return Dee(e.type)&&(r==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};Fo.prototype.toDescriptor=function(e){var r=Ie.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=Dr.util.ucFirst(this.name),r.label=3;else{switch(r.type=TI(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?RF(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1;break}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=uf(this.options,Ie.FieldOptions),this.options.default!=null&&(r.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((r.options||(r.options=Ie.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=Ie.FieldOptions.create())).packed=!0),r};var Ree=0;Ha.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ie.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,a=e.value[n].number||0;r[i&&i.length?i:"NAME"+a]=a}return new Ha(e.name&&e.name.length?e.name:"Enum"+Ree++,r,sf(e.options,Ie.EnumOptions))};Ha.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(Ie.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return Ie.EnumDescriptorProto.create({name:this.name,value:e,options:uf(this.options,Ie.EnumOptions)})};var wee=0;Ay.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ie.OneofDescriptorProto.decode(e)),new Ay(e.name&&e.name.length?e.name:"oneof"+wee++)};Ay.prototype.toDescriptor=function(){return Ie.OneofDescriptorProto.create({name:this.name})};var Pee=0;Pm.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ie.ServiceDescriptorProto.decode(e));var r=new Pm(e.name&&e.name.length?e.name:"Service"+Pee++,sf(e.options,Ie.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(Cy.fromDescriptor(e.method[n]));return r};Pm.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return Ie.ServiceDescriptorProto.create({name:this.name,method:e,options:uf(this.options,Ie.ServiceOptions)})};var xee=0;Cy.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ie.MethodDescriptorProto.decode(e)),new Cy(e.name&&e.name.length?e.name:"Method"+xee++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,sf(e.options,Ie.MethodOptions))};Cy.prototype.toDescriptor=function(){return Ie.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:uf(this.options,Ie.MethodOptions)})};function Bee(t){switch(t){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+t)}function Dee(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function TI(t,e){switch(t){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Ha)return 14;if(e instanceof Lo)return e.group?10:11;throw Error("illegal type: "+t)}function sf(t,e){if(t){for(var r=[],n=0,i,a,o;n<e.fieldsArray.length;++n)(a=(i=e._fieldsArray[n]).name)!=="uninterpretedOption"&&t.hasOwnProperty(a)&&(o=t[a],i.resolvedType instanceof Ha&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),r.push(Mee(a),o));return r.length?Dr.util.toObject(r):void 0}}function uf(t,e){if(t){for(var r=[],n=0,i=Object.keys(t),a,o;n<i.length;++n)if(o=t[a=i[n]],a!=="default"){var s=e.fields[a];!s&&!(s=e.fields[a=Dr.util.camelCase(a)])||r.push(a,o)}return r.length?e.fromObject(Dr.util.toObject(r)):void 0}}function RF(t,e){var r=t.fullName.split("."),n=e.fullName.split("."),i=0,a=0,o=n.length-1;if(!(t instanceof wm)&&e instanceof OF)for(;i<r.length&&a<o&&r[i]===n[a];){var s=e.lookup(r[i++],!0);if(s!==null&&s!==e)break;++a}else for(;i<r.length&&a<o&&r[i]===n[a];++i,++a);return n.slice(a).join(".")}function Mee(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,r){return"_"+r.toLowerCase()})}});var xF=h((BMe,Lee)=>{Lee.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var BF=h((DMe,Fee)=>{Fee.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var DF=h((MMe,qee)=>{qee.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var qF=h(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.addCommonProtos=qo.loadProtosWithOptionsSync=qo.loadProtosWithOptions=void 0;var MF=Ve("fs"),LF=Ve("path"),lf=Ty();function FF(t,e){let r=t.resolvePath;t.resolvePath=(n,i)=>{if(LF.isAbsolute(i))return i;for(let a of e){let o=LF.join(a,i);try{return MF.accessSync(o,MF.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),r(n,i)}}async function Uee(t,e){let r=new lf.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));FF(r,e.includeDirs)}let n=await r.load(t,e);return n.resolveAll(),n}qo.loadProtosWithOptions=Uee;function Vee(t,e){let r=new lf.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");FF(r,e.includeDirs)}let n=r.loadSync(t,e);return n.resolveAll(),n}qo.loadProtosWithOptionsSync=Vee;function Jee(){let t=xF(),e=EI(),r=BF(),n=DF();lf.common("api",t.nested.google.nested.protobuf.nested),lf.common("descriptor",e.nested.google.nested.protobuf.nested),lf.common("source_context",r.nested.google.nested.protobuf.nested),lf.common("type",n.nested.google.nested.protobuf.nested)}qo.addCommonProtos=Jee});var CI=h((VF,AI)=>{var UF=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(D,_,N){this.low=D|0,this.high=_|0,this.unsigned=!!N}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0});function n(D){return(D&&D.__isLong__)===!0}function i(D){var _=Math.clz32(D&-D);return D?31-_:_}r.isLong=n;var a={},o={};function s(D,_){var N,U,oe;return _?(D>>>=0,(oe=0<=D&&D<256)&&(U=o[D],U)?U:(N=l(D,0,!0),oe&&(o[D]=N),N)):(D|=0,(oe=-128<=D&&D<128)&&(U=a[D],U)?U:(N=l(D,D<0?-1:0,!1),oe&&(a[D]=N),N))}r.fromInt=s;function u(D,_){if(isNaN(D))return _?O:k;if(_){if(D<0)return O;if(D>=b)return me}else{if(D<=-v)return ne;if(D+1>=v)return z}return D<0?u(-D,_).neg():l(D%m|0,D/m|0,_)}r.fromNumber=u;function l(D,_,N){return new r(D,_,N)}r.fromBits=l;var c=Math.pow;function d(D,_,N){if(D.length===0)throw Error("empty string");if(typeof _=="number"?(N=_,_=!1):_=!!_,D==="NaN"||D==="Infinity"||D==="+Infinity"||D==="-Infinity")return _?O:k;if(N=N||10,N<2||36<N)throw RangeError("radix");var U;if((U=D.indexOf("-"))>0)throw Error("interior hyphen");if(U===0)return d(D.substring(1),_,N).neg();for(var oe=u(c(N,8)),ce=k,ge=0;ge<D.length;ge+=8){var _e=Math.min(8,D.length-ge),Qe=parseInt(D.substring(ge,ge+_e),N);if(_e<8){var Pe=u(c(N,_e));ce=ce.mul(Pe).add(u(Qe))}else ce=ce.mul(oe),ce=ce.add(u(Qe))}return ce.unsigned=_,ce}r.fromString=d;function f(D,_){return typeof D=="number"?u(D,_):typeof D=="string"?d(D,_):l(D.low,D.high,typeof _=="boolean"?_:D.unsigned)}r.fromValue=f;var p=65536,g=1<<24,m=p*p,b=m*m,v=b/2,E=s(g),k=s(0);r.ZERO=k;var O=s(0,!0);r.UZERO=O;var M=s(1);r.ONE=M;var P=s(1,!0);r.UONE=P;var q=s(-1);r.NEG_ONE=q;var z=l(-1,2147483647,!1);r.MAX_VALUE=z;var me=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=me;var ne=l(0,-2147483648,!1);r.MIN_VALUE=ne;var w=r.prototype;w.toInt=function(){return this.unsigned?this.low>>>0:this.low},w.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},w.toString=function(_){if(_=_||10,_<2||36<_)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ne)){var N=u(_),U=this.div(N),oe=U.mul(N).sub(this);return U.toString(_)+oe.toInt().toString(_)}else return"-"+this.neg().toString(_);for(var ce=u(c(_,6),this.unsigned),ge=this,_e="";;){var Qe=ge.div(ce),Pe=ge.sub(Qe.mul(ce)).toInt()>>>0,Ue=Pe.toString(_);if(ge=Qe,ge.isZero())return Ue+_e;for(;Ue.length<6;)Ue="0"+Ue;_e=""+Ue+_e}},w.getHighBits=function(){return this.high},w.getHighBitsUnsigned=function(){return this.high>>>0},w.getLowBits=function(){return this.low},w.getLowBitsUnsigned=function(){return this.low>>>0},w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ne)?64:this.neg().getNumBitsAbs();for(var _=this.high!=0?this.high:this.low,N=31;N>0&&!(_&1<<N);N--);return this.high!=0?N+33:N+1},w.isZero=function(){return this.high===0&&this.low===0},w.eqz=w.isZero,w.isNegative=function(){return!this.unsigned&&this.high<0},w.isPositive=function(){return this.unsigned||this.high>=0},w.isOdd=function(){return(this.low&1)===1},w.isEven=function(){return(this.low&1)===0},w.equals=function(_){return n(_)||(_=f(_)),this.unsigned!==_.unsigned&&this.high>>>31===1&&_.high>>>31===1?!1:this.high===_.high&&this.low===_.low},w.eq=w.equals,w.notEquals=function(_){return!this.eq(_)},w.neq=w.notEquals,w.ne=w.notEquals,w.lessThan=function(_){return this.comp(_)<0},w.lt=w.lessThan,w.lessThanOrEqual=function(_){return this.comp(_)<=0},w.lte=w.lessThanOrEqual,w.le=w.lessThanOrEqual,w.greaterThan=function(_){return this.comp(_)>0},w.gt=w.greaterThan,w.greaterThanOrEqual=function(_){return this.comp(_)>=0},w.gte=w.greaterThanOrEqual,w.ge=w.greaterThanOrEqual,w.compare=function(_){if(n(_)||(_=f(_)),this.eq(_))return 0;var N=this.isNegative(),U=_.isNegative();return N&&!U?-1:!N&&U?1:this.unsigned?_.high>>>0>this.high>>>0||_.high===this.high&&_.low>>>0>this.low>>>0?-1:1:this.sub(_).isNegative()?-1:1},w.comp=w.compare,w.negate=function(){return!this.unsigned&&this.eq(ne)?ne:this.not().add(M)},w.neg=w.negate,w.add=function(_){n(_)||(_=f(_));var N=this.high>>>16,U=this.high&65535,oe=this.low>>>16,ce=this.low&65535,ge=_.high>>>16,_e=_.high&65535,Qe=_.low>>>16,Pe=_.low&65535,Ue=0,nt=0,je=0,At=0;return At+=ce+Pe,je+=At>>>16,At&=65535,je+=oe+Qe,nt+=je>>>16,je&=65535,nt+=U+_e,Ue+=nt>>>16,nt&=65535,Ue+=N+ge,Ue&=65535,l(je<<16|At,Ue<<16|nt,this.unsigned)},w.subtract=function(_){return n(_)||(_=f(_)),this.add(_.neg())},w.sub=w.subtract,w.multiply=function(_){if(this.isZero())return this;if(n(_)||(_=f(_)),e){var N=e.mul(this.low,this.high,_.low,_.high);return l(N,e.get_high(),this.unsigned)}if(_.isZero())return this.unsigned?O:k;if(this.eq(ne))return _.isOdd()?ne:k;if(_.eq(ne))return this.isOdd()?ne:k;if(this.isNegative())return _.isNegative()?this.neg().mul(_.neg()):this.neg().mul(_).neg();if(_.isNegative())return this.mul(_.neg()).neg();if(this.lt(E)&&_.lt(E))return u(this.toNumber()*_.toNumber(),this.unsigned);var U=this.high>>>16,oe=this.high&65535,ce=this.low>>>16,ge=this.low&65535,_e=_.high>>>16,Qe=_.high&65535,Pe=_.low>>>16,Ue=_.low&65535,nt=0,je=0,At=0,Nr=0;return Nr+=ge*Ue,At+=Nr>>>16,Nr&=65535,At+=ce*Ue,je+=At>>>16,At&=65535,At+=ge*Pe,je+=At>>>16,At&=65535,je+=oe*Ue,nt+=je>>>16,je&=65535,je+=ce*Pe,nt+=je>>>16,je&=65535,je+=ge*Qe,nt+=je>>>16,je&=65535,nt+=U*Ue+oe*Pe+ce*Qe+ge*_e,nt&=65535,l(At<<16|Nr,nt<<16|je,this.unsigned)},w.mul=w.multiply,w.divide=function(_){if(n(_)||(_=f(_)),_.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&_.low===-1&&_.high===-1)return this;var N=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,_.low,_.high);return l(N,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?O:k;var U,oe,ce;if(this.unsigned){if(_.unsigned||(_=_.toUnsigned()),_.gt(this))return O;if(_.gt(this.shru(1)))return P;ce=O}else{if(this.eq(ne)){if(_.eq(M)||_.eq(q))return ne;if(_.eq(ne))return M;var ge=this.shr(1);return U=ge.div(_).shl(1),U.eq(k)?_.isNegative()?M:q:(oe=this.sub(_.mul(U)),ce=U.add(oe.div(_)),ce)}else if(_.eq(ne))return this.unsigned?O:k;if(this.isNegative())return _.isNegative()?this.neg().div(_.neg()):this.neg().div(_).neg();if(_.isNegative())return this.div(_.neg()).neg();ce=k}for(oe=this;oe.gte(_);){U=Math.max(1,Math.floor(oe.toNumber()/_.toNumber()));for(var _e=Math.ceil(Math.log(U)/Math.LN2),Qe=_e<=48?1:c(2,_e-48),Pe=u(U),Ue=Pe.mul(_);Ue.isNegative()||Ue.gt(oe);)U-=Qe,Pe=u(U,this.unsigned),Ue=Pe.mul(_);Pe.isZero()&&(Pe=M),ce=ce.add(Pe),oe=oe.sub(Ue)}return ce},w.div=w.divide,w.modulo=function(_){if(n(_)||(_=f(_)),e){var N=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,_.low,_.high);return l(N,e.get_high(),this.unsigned)}return this.sub(this.div(_).mul(_))},w.mod=w.modulo,w.rem=w.modulo,w.not=function(){return l(~this.low,~this.high,this.unsigned)},w.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},w.clz=w.countLeadingZeros,w.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},w.ctz=w.countTrailingZeros,w.and=function(_){return n(_)||(_=f(_)),l(this.low&_.low,this.high&_.high,this.unsigned)},w.or=function(_){return n(_)||(_=f(_)),l(this.low|_.low,this.high|_.high,this.unsigned)},w.xor=function(_){return n(_)||(_=f(_)),l(this.low^_.low,this.high^_.high,this.unsigned)},w.shiftLeft=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?l(this.low<<_,this.high<<_|this.low>>>32-_,this.unsigned):l(0,this.low<<_-32,this.unsigned)},w.shl=w.shiftLeft,w.shiftRight=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?l(this.low>>>_|this.high<<32-_,this.high>>_,this.unsigned):l(this.high>>_-32,this.high>=0?0:-1,this.unsigned)},w.shr=w.shiftRight,w.shiftRightUnsigned=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?l(this.low>>>_|this.high<<32-_,this.high>>>_,this.unsigned):_===32?l(this.high,0,this.unsigned):l(this.high>>>_-32,0,this.unsigned)},w.shru=w.shiftRightUnsigned,w.shr_u=w.shiftRightUnsigned,w.rotateLeft=function(_){var N;return n(_)&&(_=_.toInt()),(_&=63)===0?this:_===32?l(this.high,this.low,this.unsigned):_<32?(N=32-_,l(this.low<<_|this.high>>>N,this.high<<_|this.low>>>N,this.unsigned)):(_-=32,N=32-_,l(this.high<<_|this.low>>>N,this.low<<_|this.high>>>N,this.unsigned))},w.rotl=w.rotateLeft,w.rotateRight=function(_){var N;return n(_)&&(_=_.toInt()),(_&=63)===0?this:_===32?l(this.high,this.low,this.unsigned):_<32?(N=32-_,l(this.high<<N|this.low>>>_,this.low<<N|this.high>>>_,this.unsigned)):(_-=32,N=32-_,l(this.low<<N|this.high>>>_,this.high<<N|this.low>>>_,this.unsigned))},w.rotr=w.rotateRight,w.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},w.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},w.toBytes=function(_){return _?this.toBytesLE():this.toBytesBE()},w.toBytesLE=function(){var _=this.high,N=this.low;return[N&255,N>>>8&255,N>>>16&255,N>>>24,_&255,_>>>8&255,_>>>16&255,_>>>24]},w.toBytesBE=function(){var _=this.high,N=this.low;return[_>>>24,_>>>16&255,_>>>8&255,_&255,N>>>24,N>>>16&255,N>>>8&255,N&255]},r.fromBytes=function(_,N,U){return U?r.fromBytesLE(_,N):r.fromBytesBE(_,N)},r.fromBytesLE=function(_,N){return new r(_[0]|_[1]<<8|_[2]<<16|_[3]<<24,_[4]|_[5]<<8|_[6]<<16|_[7]<<24,N)},r.fromBytesBE=function(_,N){return new r(_[4]<<24|_[5]<<16|_[6]<<8|_[7],_[0]<<24|_[1]<<16|_[2]<<8|_[3],N)};var Oe=r;return t.default=Oe,"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return UF}):typeof AI=="object"&&typeof VF=="object"&&(AI.exports=UF)});var KF=h(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.loadFileDescriptorSetFromObject=Jt.loadFileDescriptorSetFromBuffer=Jt.fromJSON=Jt.loadSync=Jt.load=Jt.IdempotencyLevel=Jt.isAnyExtension=Jt.Long=void 0;var Wee=S6(),da=Ty(),II=PF(),OI=qF(),Gee=CI();Jt.Long=Gee;function Hee(t){return"@type"in t&&typeof t["@type"]=="string"}Jt.isAnyExtension=Hee;var GF;(function(t){t.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",t.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",t.IDEMPOTENT="IDEMPOTENT"})(GF=Jt.IdempotencyLevel||(Jt.IdempotencyLevel={}));var HF={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function zee(t,e){return t===""?e:t+"."+e}function Qee(t){return t instanceof da.Service||t instanceof da.Type||t instanceof da.Enum}function Kee(t){return t instanceof da.Namespace||t instanceof da.Root}function zF(t,e){let r=zee(e,t.name);return Qee(t)?[[r,t]]:Kee(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(n=>zF(t.nested[n],r)).reduce((n,i)=>n.concat(i),[]):[]}function JF(t,e){return function(n){return t.toObject(t.decode(n),e)}}function WF(t){return function(r){if(Array.isArray(r))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let n=t.fromObject(r);return t.encode(n).finish()}}function Zee(t){return(t||[]).reduce((e,r)=>{for(let[n,i]of Object.entries(r))switch(n){case"uninterpreted_option":e.uninterpreted_option.push(r.uninterpreted_option);break;default:e[n]=i}return e},{deprecated:!1,idempotency_level:GF.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function Xee(t,e,r,n){let i=t.resolvedRequestType,a=t.resolvedResponseType;return{path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:WF(i),requestDeserialize:JF(i,r),responseSerialize:WF(a),responseDeserialize:JF(a,r),originalName:Wee(t.name),requestType:kI(i,n),responseType:kI(a,n),options:Zee(t.parsedOptions)}}function Yee(t,e,r,n){let i={};for(let a of t.methodsArray)i[a.name]=Xee(a,e,r,n);return i}function kI(t,e){let r=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,HF),fileDescriptorProtos:e}}function $ee(t,e){let r=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,HF),fileDescriptorProtos:e}}function jee(t,e,r,n){if(t instanceof da.Service)return Yee(t,e,r,n);if(t instanceof da.Type)return kI(t,n);if(t instanceof da.Enum)return $ee(t,n);throw new Error("Type mismatch in reflection object handling")}function ky(t,e){let r={};t.resolveAll();let i=t.toDescriptor("proto3").file.map(a=>Buffer.from(II.FileDescriptorProto.encode(a).finish()));for(let[a,o]of zF(t,""))r[a]=jee(o,a,e,i);return r}function QF(t,e){e=e||{};let r=da.Root.fromDescriptor(t);return r.resolveAll(),ky(r,e)}function ete(t,e){return(0,OI.loadProtosWithOptions)(t,e).then(r=>ky(r,e))}Jt.load=ete;function tte(t,e){let r=(0,OI.loadProtosWithOptionsSync)(t,e);return ky(r,e)}Jt.loadSync=tte;function rte(t,e){e=e||{};let r=da.Root.fromJSON(t);return r.resolveAll(),ky(r,e)}Jt.fromJSON=rte;function nte(t,e){let r=II.FileDescriptorSet.decode(t);return QF(r,e)}Jt.loadFileDescriptorSetFromBuffer=nte;function ite(t,e){let r=II.FileDescriptorSet.fromObject(t);return QF(r,e)}Jt.loadFileDescriptorSetFromObject=ite;(0,OI.addCommonProtos)()});var vu=h(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.setup=ze.getChannelzServiceDefinition=ze.getChannelzHandlers=ze.unregisterChannelzRef=ze.registerChannelzSocket=ze.registerChannelzServer=ze.registerChannelzSubchannel=ze.registerChannelzChannel=ze.ChannelzCallTrackerStub=ze.ChannelzCallTracker=ze.ChannelzChildrenTrackerStub=ze.ChannelzChildrenTracker=ze.ChannelzTrace=ze.ChannelzTraceStub=void 0;var ZF=Ve("net"),yu=(JL(),Hr(VL)),xm=Fn(),Bm=Me(),ate=wi(),ote=j0(),ste=Uk();function NI(t){return{channel_id:t.id,name:t.name}}function BI(t){return{subchannel_id:t.id,name:t.name}}function ute(t){return{server_id:t.id}}function Ry(t){return{socket_id:t.id,name:t.name}}var XF=32,DI=100,RI=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:fa(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};ze.ChannelzTraceStub=RI;var wI=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,r,n){let i=new Date;this.events.push({description:r,severity:e,timestamp:i,childChannel:n?.kind==="channel"?n:void 0,childSubchannel:n?.kind==="subchannel"?n:void 0}),this.events.length>=XF*2&&(this.events=this.events.slice(XF)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:fa(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:fa(e.timestamp),channel_ref:e.childChannel?NI(e.childChannel):null,subchannel_ref:e.childSubchannel?BI(e.childSubchannel):null}))}}};ze.ChannelzTrace=wI;var Oy=class{constructor(){this.channelChildren=new yu.OrderedMap,this.subchannelChildren=new yu.OrderedMap,this.socketChildren=new yu.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let r=this.trackerMap[e.kind],n=r.find(e.id);n.equals(r.end())?r.setElement(e.id,{ref:e,count:1},n):n.pointer[1].count+=1}unrefChild(e){let r=this.trackerMap[e.kind],n=r.getElementByKey(e.id);n!==void 0&&(n.count-=1,n.count===0&&r.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};ze.ChannelzChildrenTracker=Oy;var PI=class extends Oy{refChild(){}unrefChild(){}};ze.ChannelzChildrenTrackerStub=PI;var Ny=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};ze.ChannelzCallTracker=Ny;var xI=class extends Ny{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};ze.ChannelzCallTrackerStub=xI;var za={channel:new yu.OrderedMap,subchannel:new yu.OrderedMap,server:new yu.OrderedMap,socket:new yu.OrderedMap},wy=t=>{let e=1;function r(){return e++}let n=za[t];return(i,a,o)=>{let s=r(),u={id:s,name:i,kind:t};return o&&n.setElement(s,{ref:u,getInfo:a}),u}};ze.registerChannelzChannel=wy("channel");ze.registerChannelzSubchannel=wy("subchannel");ze.registerChannelzServer=wy("server");ze.registerChannelzSocket=wy("socket");function lte(t){za[t.kind].eraseElementByKey(t.id)}ze.unregisterChannelzRef=lte;function cte(t){let e=Number.parseInt(t,16);return[e/256|0,e%256]}function YF(t){if(t==="")return[];let e=t.split(":").map(n=>cte(n));return[].concat(...e)}function dte(t){if((0,ZF.isIPv4)(t))return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))));if((0,ZF.isIPv6)(t)){let e,r,n=t.indexOf("::");n===-1?(e=t,r=""):(e=t.substring(0,n),r=t.substring(n+2));let i=Buffer.from(YF(e)),a=Buffer.from(YF(r)),o=Buffer.alloc(16-i.length-a.length,0);return Buffer.concat([i,o,a])}else return null}function jF(t){switch(t){case xm.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case xm.ConnectivityState.IDLE:return{state:"IDLE"};case xm.ConnectivityState.READY:return{state:"READY"};case xm.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case xm.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function fa(t){if(!t)return null;let e=t.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function eq(t){let e=t.getInfo(),r=[],n=[];return e.children.channels.forEach(i=>{r.push(NI(i[1].ref))}),e.children.subchannels.forEach(i=>{n.push(BI(i[1].ref))}),{ref:NI(t.ref),data:{target:e.target,state:jF(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:fa(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:r,subchannel_ref:n}}function fte(t,e){let r=parseInt(t.request.channel_id,10),n=za.channel.getElementByKey(r);if(n===void 0){e({code:Bm.Status.NOT_FOUND,details:"No channel data found for id "+r});return}e(null,{channel:eq(n)})}function hte(t,e){let r=parseInt(t.request.max_results,10)||DI,n=[],i=parseInt(t.request.start_channel_id,10),a=za.channel,o;for(o=a.lowerBound(i);!o.equals(a.end())&&n.length<r;o=o.next())n.push(eq(o.pointer[1]));e(null,{channel:n,end:o.equals(a.end())})}function tq(t){let e=t.getInfo(),r=[];return e.listenerChildren.sockets.forEach(n=>{r.push(Ry(n[1].ref))}),{ref:ute(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:fa(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:r}}function pte(t,e){let r=parseInt(t.request.server_id,10),i=za.server.getElementByKey(r);if(i===void 0){e({code:Bm.Status.NOT_FOUND,details:"No server data found for id "+r});return}e(null,{server:tq(i)})}function mte(t,e){let r=parseInt(t.request.max_results,10)||DI,n=parseInt(t.request.start_server_id,10),i=za.server,a=[],o;for(o=i.lowerBound(n);!o.equals(i.end())&&a.length<r;o=o.next())a.push(tq(o.pointer[1]));e(null,{server:a,end:o.equals(i.end())})}function gte(t,e){let r=parseInt(t.request.subchannel_id,10),n=za.subchannel.getElementByKey(r);if(n===void 0){e({code:Bm.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let i=n.getInfo(),a=[];i.children.sockets.forEach(s=>{a.push(Ry(s[1].ref))});let o={ref:BI(n.ref),data:{target:i.target,state:jF(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:fa(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:o})}function $F(t){var e;return(0,ate.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=dte(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function yte(t,e){var r,n,i,a,o;let s=parseInt(t.request.socket_id,10),u=za.socket.getElementByKey(s);if(u===void 0){e({code:Bm.Status.NOT_FOUND,details:"No socket data found for id "+s});return}let l=u.getInfo(),c=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(r=l.security.cipherSuiteStandardName)!==null&&r!==void 0?r:void 0,other_name:(n=l.security.cipherSuiteOtherName)!==null&&n!==void 0?n:void 0,local_certificate:(i=l.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(a=l.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,d={ref:Ry(u.ref),local:l.localAddress?$F(l.localAddress):null,remote:l.remoteAddress?$F(l.remoteAddress):null,remote_name:(o=l.remoteName)!==null&&o!==void 0?o:void 0,security:c,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:fa(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:fa(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:fa(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:fa(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:d})}function vte(t,e){let r=parseInt(t.request.server_id,10),n=za.server.getElementByKey(r);if(n===void 0){e({code:Bm.Status.NOT_FOUND,details:"No server data found for id "+r});return}let i=parseInt(t.request.start_socket_id,10),a=parseInt(t.request.max_results,10)||DI,s=n.getInfo().sessionChildren.sockets,u=[],l;for(l=s.lowerBound(i);!l.equals(s.end())&&u.length<a;l=l.next())u.push(Ry(l.pointer[1].ref));e(null,{socket_ref:u,end:l.equals(s.end())})}function rq(){return{GetChannel:fte,GetTopChannels:hte,GetServer:pte,GetServers:mte,GetSubchannel:gte,GetSocket:yte,GetServerSockets:vte}}ze.getChannelzHandlers=rq;var Iy=null;function nq(){if(Iy)return Iy;let t=KF().loadSync,e=t("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Iy=(0,ste.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,Iy}ze.getChannelzServiceDefinition=nq;function bte(){(0,ote.registerAdminService)(nq,rq)}ze.setup=bte});var iq=h(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.Subchannel=void 0;var lt=Fn(),Ste=gm(),MI=yt(),Py=Me(),_te=yn(),Ete=wi(),ha=vu(),Tte="subchannel",Ate=~(1<<31),LI=class{constructor(e,r,n,i,a){var o;this.channelTarget=e,this.subchannelAddress=r,this.options=n,this.credentials=i,this.connector=a,this.connectivityState=lt.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let s={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Ste.BackoffTimeout(()=>{this.handleBackoffTimer()},s),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Ete.subchannelAddressToString)(r),this.keepaliveTime=(o=n["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,n["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new ha.ChannelzTraceStub,this.callTracker=new ha.ChannelzCallTrackerStub,this.childrenTracker=new ha.ChannelzChildrenTrackerStub,this.streamTracker=new ha.ChannelzCallTrackerStub):(this.channelzTrace=new ha.ChannelzTrace,this.callTracker=new ha.ChannelzCallTracker,this.childrenTracker=new ha.ChannelzChildrenTracker,this.streamTracker=new ha.ChannelzCallTracker),this.channelzRef=(0,ha.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(n,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){MI.trace(Py.LogVerbosity.DEBUG,Tte,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){MI.trace(Py.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([lt.ConnectivityState.TRANSIENT_FAILURE],lt.ConnectivityState.CONNECTING):this.transitionToState([lt.ConnectivityState.TRANSIENT_FAILURE],lt.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let r=Math.min(this.keepaliveTime,Ate);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":r})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(r=>{this.transitionToState([lt.ConnectivityState.CONNECTING],lt.ConnectivityState.READY)?(this.transport=r,this.channelzEnabled&&this.childrenTracker.refChild(r.getChannelzRef()),r.addDisconnectListener(n=>{this.transitionToState([lt.ConnectivityState.READY],lt.ConnectivityState.IDLE),n&&this.keepaliveTime>0&&(this.keepaliveTime*=2,MI.log(Py.LogVerbosity.ERROR,`Connection to ${(0,_te.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):r.shutdown()},r=>{this.transitionToState([lt.ConnectivityState.CONNECTING],lt.ConnectivityState.TRANSIENT_FAILURE,`${r}`)})}transitionToState(e,r,n){var i,a;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(lt.ConnectivityState[this.connectivityState]+" -> "+lt.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+lt.ConnectivityState[r]);let o=this.connectivityState;switch(this.connectivityState=r,r){case lt.ConnectivityState.READY:this.stopBackoff();break;case lt.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case lt.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case lt.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let s of this.stateListeners)s(this,o,r,this.keepaliveTime,n);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,ha.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([lt.ConnectivityState.CONNECTING,lt.ConnectivityState.READY],lt.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,r,n,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:o=>{o.code===Py.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,r,n,i,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([lt.ConnectivityState.IDLE],lt.ConnectivityState.CONNECTING)||this.connectivityState===lt.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([lt.ConnectivityState.TRANSIENT_FAILURE],lt.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};xy.Subchannel=LI});var VI=h(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.setup=Jo.DEFAULT_PORT=void 0;var aq=ia(),sq=Ve("dns"),uq=Ve("util"),Cte=dk(),FI=Me(),qI=Br(),kte=yt(),Ite=Me(),Uo=yn(),oq=Ve("net"),Ote=gm(),Nte="dns_resolver";function Vo(t){kte.trace(Ite.LogVerbosity.DEBUG,Nte,t)}Jo.DEFAULT_PORT=443;var Rte=3e4,wte=uq.promisify(sq.resolveTxt),Pte=uq.promisify(sq.lookup),UI=class{constructor(e,r,n){var i,a,o;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,Vo("Resolver constructed for target "+(0,Uo.uriToString)(e));let s=(0,Uo.splitHostPort)(e.path);s===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,oq.isIPv4)(s.host)||(0,oq.isIPv6)(s.host)?(this.ipResult=[{addresses:[{host:s.host,port:(i=s.port)!==null&&i!==void 0?i:Jo.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=s.host,this.port=(a=s.port)!==null&&a!==void 0?a:Jo.DEFAULT_PORT),this.percentage=Math.random()*100,n["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:FI.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,Uo.uriToString)(this.target)}`,metadata:new qI.Metadata};let u={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new Ote.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},u),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=n["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:Rte,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(Vo("Returning IP address for target "+(0,Uo.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)Vo("Failed to parse DNS address "+(0,Uo.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:FI.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,Uo.uriToString)(this.target)}`,metadata:new qI.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;Vo("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=Pte(e,{all:!0}),this.pendingLookupPromise.then(r=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let n=r.map(a=>({host:a.address,port:+this.port}));this.latestLookupResult=n.map(a=>({addresses:[a]}));let i="["+n.map(a=>a.host+":"+a.port).join(",")+"]";if(Vo("Resolved addresses for target "+(0,Uo.uriToString)(this.target)+": "+i),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},r=>{this.pendingLookupPromise!==null&&(Vo("Resolution error for target "+(0,Uo.uriToString)(this.target)+": "+r.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=wte(e),this.pendingTxtPromise.then(r=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,Cte.extractAndSelectServiceConfig)(r,this.percentage)}catch(n){this.latestServiceConfigError={code:FI.Status.UNAVAILABLE,details:`Parsing service config failed with error ${n.message}`,metadata:new qI.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},r=>{}))}}startNextResolutionTimer(){var e,r;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(r=(e=this.nextResolutionTimer).unref)===null||r===void 0||r.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?Vo('resolution update delayed by "min time between resolutions" rate limit'):Vo("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function xte(){(0,aq.registerResolver)("dns",UI),(0,aq.registerDefaultScheme)("dns")}Jo.setup=xte});var JI=h(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getProxiedConnection=ff.mapProxyName=void 0;var Dm=yt(),cf=Me(),Bte=ia(),Dte=Ve("http"),Mte=Ve("tls"),Lte=yt(),lq=wi(),df=yn(),Fte=Ve("url"),qte=VI(),Ute="proxy";function Wo(t){Lte.trace(cf.LogVerbosity.DEBUG,Ute,t)}function Vte(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return{};let r;try{r=new Fte.URL(t)}catch{return(0,Dm.log)(cf.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(r.protocol!=="http:")return(0,Dm.log)(cf.LogVerbosity.ERROR,`"${r.protocol}" scheme not supported in proxy URI`),{};let n=null;r.username&&(r.password?((0,Dm.log)(cf.LogVerbosity.INFO,"userinfo found in proxy URI"),n=decodeURIComponent(`${r.username}:${r.password}`)):n=r.username);let i=r.hostname,a=r.port;a===""&&(a="80");let o={address:`${i}:${a}`};return n&&(o.creds=n),Wo("Proxy server "+o.address+" set by environment variable "+e),o}function Jte(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(Wo("No proxy server list set by environment variable "+e),t.split(",")):[]}function Wte(t,e){var r;let n={target:t,extraOptions:{}};if(((r=e["grpc.enable_http_proxy"])!==null&&r!==void 0?r:1)===0||t.scheme==="unix")return n;let i=Vte();if(!i.address)return n;let a=(0,df.splitHostPort)(t.path);if(!a)return n;let o=a.host;for(let u of Jte())if(u===o)return Wo("Not using proxy for target in no_proxy list: "+(0,df.uriToString)(t)),n;let s={"grpc.http_connect_target":(0,df.uriToString)(t)};return i.creds&&(s["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:s}}ff.mapProxyName=Wte;function Gte(t,e,r){var n;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],a=(0,df.parseUri)(i);if(a===null)return Promise.resolve({});let o=(0,df.splitHostPort)(a.path);if(o===null)return Promise.resolve({});let s=`${o.host}:${(n=o.port)!==null&&n!==void 0?n:qte.DEFAULT_PORT}`,u={method:"CONNECT",path:s},l={Host:s};(0,lq.isTcpSubchannelAddress)(t)?(u.host=t.host,u.port=t.port):u.socketPath=t.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),u.headers=l;let c=(0,lq.subchannelAddressToString)(t);return Wo("Using proxy "+c+" to connect to "+u.path),new Promise((d,f)=>{let p=Dte.request(u);p.once("connect",(g,m,b)=>{var v;if(p.removeAllListeners(),m.removeAllListeners(),g.statusCode===200)if(Wo("Successfully connected to "+u.path+" through proxy "+c),b.length>0&&m.unshift(b),"secureContext"in r){let E=(0,Bte.getDefaultAuthority)(a),k=(0,df.splitHostPort)(E),O=(v=k?.host)!==null&&v!==void 0?v:E,M=Mte.connect(Object.assign({host:O,servername:O,socket:m},r),()=>{Wo("Successfully established a TLS connection to "+u.path+" through proxy "+c),d({socket:M,realTarget:a})});M.on("error",P=>{Wo("Failed to establish a TLS connection to "+u.path+" through proxy "+c+" with error "+P.message),f()})}else Wo("Successfully established a plaintext connection to "+u.path+" through proxy "+c),d({socket:m,realTarget:a});else(0,Dm.log)(cf.LogVerbosity.ERROR,"Failed to connect to "+u.path+" through proxy "+c+" with status "+g.statusCode),f()}),p.once("error",g=>{p.removeAllListeners(),(0,Dm.log)(cf.LogVerbosity.ERROR,"Failed to connect to proxy "+c+" with error "+g.message),f()}),p.end()})}ff.getProxiedConnection=Gte});var GI=h(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.StreamDecoder=void 0;var pa;(function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE"})(pa||(pa={}));var WI=class{constructor(e){this.maxReadMessageLength=e,this.readState=pa.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let r=0,n,i=[];for(;r<e.length;)switch(this.readState){case pa.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=pa.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case pa.READING_SIZE:if(n=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+n),this.readSizeRemaining-=n,r+=n,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=pa.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=pa.NO_DATA,i.push(a)}}break;case pa.READING_MESSAGE:if(n=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+n)),this.readMessageRemaining-=n,r+=n,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(a,this.readMessageSize+5);this.readState=pa.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};By.StreamDecoder=WI});var dq=h(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.Http2SubchannelCall=void 0;var Qa=Ve("http2"),Hte=Ve("os"),tt=Me(),Ka=Br(),zte=GI(),Qte=yt(),Kte=Me(),Zte="subchannel_call";function Xte(t){for(let[e,r]of Object.entries(Hte.constants.errno))if(r===t)return e;return"Unknown system error "+t}function cq(t){let e=`Received HTTP status code ${t}`,r;switch(t){case 400:r=tt.Status.INTERNAL;break;case 401:r=tt.Status.UNAUTHENTICATED;break;case 403:r=tt.Status.PERMISSION_DENIED;break;case 404:r=tt.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:r=tt.Status.UNAVAILABLE;break;default:r=tt.Status.UNKNOWN}return{code:r,details:e,metadata:new Ka.Metadata}}var HI=class{constructor(e,r,n,i,a){var o;this.http2Stream=e,this.callEventTracker=r,this.listener=n,this.transport=i,this.callId=a,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1;let s=(o=i.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:tt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new zte.StreamDecoder(s),e.on("response",(u,l)=>{let c="";for(let d of Object.keys(u))c+="		"+d+": "+u[d]+`
`;if(this.trace(`Received server headers:
`+c),this.httpStatusCode=u[":status"],l&Qa.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(u);else{let d;try{d=Ka.Metadata.fromHttp2Headers(u)}catch(f){this.endCall({code:tt.Status.UNKNOWN,details:f.message,metadata:new Ka.Metadata});return}this.listener.onReceiveMetadata(d)}}),e.on("trailers",u=>{this.handleTrailers(u)}),e.on("data",u=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+u.length);let l;try{l=this.decoder.write(u)}catch(c){this.cancelWithStatus(tt.Status.RESOURCE_EXHAUSTED,c.message);return}for(let c of l)this.trace("parsed message of length "+c.length),this.callEventTracker.addMessageReceived(),this.tryPush(c)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var u;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((u=this.finalStatus)===null||u===void 0?void 0:u.code)===tt.Status.OK)return;let l,c="";switch(e.rstCode){case Qa.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let d=cq(this.httpStatusCode);l=d.code,c=d.details}else l=tt.Status.INTERNAL,c=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case Qa.constants.NGHTTP2_REFUSED_STREAM:l=tt.Status.UNAVAILABLE,c="Stream refused by server";break;case Qa.constants.NGHTTP2_CANCEL:l=tt.Status.CANCELLED,c="Call cancelled";break;case Qa.constants.NGHTTP2_ENHANCE_YOUR_CALM:l=tt.Status.RESOURCE_EXHAUSTED,c="Bandwidth exhausted or memory limit exceeded";break;case Qa.constants.NGHTTP2_INADEQUATE_SECURITY:l=tt.Status.PERMISSION_DENIED,c="Protocol not secure enough";break;case Qa.constants.NGHTTP2_INTERNAL_ERROR:l=tt.Status.INTERNAL,this.internalError===null?c=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(l=tt.Status.UNAVAILABLE,c=this.internalError.message):c=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:l=tt.Status.INTERNAL,c=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:l,details:c,metadata:new Ka.Metadata,rstCode:e.rstCode})})}),e.on("error",u=>{u.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+u.message+" code="+u.code+" errno="+Xte(u.errno)+" syscall="+u.syscall),this.internalError=u),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:tt.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Ka.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){Qte.trace(Kte.LogVerbosity.DEBUG,Zte,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===tt.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==tt.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let r="";for(let o of Object.keys(e))r+="		"+o+": "+e[o]+`
`;this.trace(`Received server trailers:
`+r);let n;try{n=Ka.Metadata.fromHttp2Headers(e)}catch{n=new Ka.Metadata}let i=n.getMap(),a;if(typeof i["grpc-status"]=="string"){let o=Number(i["grpc-status"]);this.trace("received status code "+o+" from server"),n.remove("grpc-status");let s="";if(typeof i["grpc-message"]=="string"){try{s=decodeURI(i["grpc-message"])}catch{s=i["grpc-message"]}n.remove("grpc-message"),this.trace('received status details string "'+s+'" from server')}a={code:o,details:s,metadata:n}}else this.httpStatusCode?(a=cq(this.httpStatusCode),a.metadata=n):a={code:tt.Status.UNKNOWN,details:"No status information received",metadata:n};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let r;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===tt.Status.OK?r=Qa.constants.NGHTTP2_NO_ERROR:r=Qa.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r)}}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.endCall({code:e,details:r,metadata:new Ka.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==tt.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length);let n=i=>{process.nextTick(()=>{var a;let o=tt.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=tt.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+r.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(r,n)}catch(i){this.endCall({code:tt.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new Ka.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};Dy.Http2SubchannelCall=HI});var zI=h(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.getNextCallNumber=void 0;var Yte=0;function $te(){return Yte++}My.getNextCallNumber=$te});var pq=h(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.Http2SubchannelConnector=void 0;var XI=Ve("http2"),fq=Ve("tls"),Ly=vu(),Mm=Me(),jte=JI(),pf=yt(),hq=ia(),Fy=wi(),hf=yn(),ere=Ve("net"),tre=dq(),rre=zI(),QI="transport",nre="transport_flowctrl",ire=ek().version,{HTTP2_HEADER_AUTHORITY:are,HTTP2_HEADER_CONTENT_TYPE:ore,HTTP2_HEADER_METHOD:sre,HTTP2_HEADER_PATH:ure,HTTP2_HEADER_TE:lre,HTTP2_HEADER_USER_AGENT:cre}=XI.constants,dre=2e4,fre=Buffer.from("too_many_pings","ascii"),KI=class{constructor(e,r,n,i){this.session=e,this.options=n,this.remoteName=i,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,Fy.subchannelAddressToString)(r),n["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new Ly.ChannelzCallTrackerStub):this.streamTracker=new Ly.ChannelzCallTracker,this.channelzRef=(0,Ly.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${ire}`,n["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in n?this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in n?this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=dre,"grpc.keepalive_permit_without_calls"in n?this.keepaliveWithoutCalls=n["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),e.once("goaway",(a,o,s)=>{let u=!1;a===XI.constants.NGHTTP2_ENHANCE_YOUR_CALM&&s&&s.equals(fre)&&(u=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+s?.toString()),this.reportDisconnectToOwner(u)}),e.once("error",a=>{this.trace("connection closed with error "+a.message)}),pf.isTracerEnabled(QI)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,r,n;let i=this.session.socket,a=i.remoteAddress?(0,Fy.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,Fy.stringToSubchannelAddress)(i.localAddress,i.localPort):null,s;if(this.session.encrypted){let l=i,c=l.getCipher(),d=l.getCertificate(),f=l.getPeerCertificate();s={cipherSuiteStandardName:(e=c.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else s=null;return{remoteAddress:a,localAddress:o,security:s,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(r=this.session.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(n=this.session.state.remoteWindowSize)!==null&&n!==void 0?n:null}}trace(e){pf.trace(Mm.LogVerbosity.DEBUG,QI,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){pf.trace(Mm.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){pf.trace(Mm.LogVerbosity.DEBUG,nre,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){pf.trace(Mm.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(r=>r(e)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect();this.session.destroy()})}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,r;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e);let n="";try{this.session.ping((a,o,s)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(n="Ping returned false")}catch(i){n=(i instanceof Error?i.message:"")||"Unknown error"}n&&(this.keepaliveTrace("Ping send failed: "+n),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,r;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,r,n,i,a){let o=e.toHttp2Headers();o[are]=r,o[cre]=this.userAgent,o[ore]="application/grpc",o[sre]="POST",o[ure]=n,o[lre]="trailers";let s;try{s=this.session.request(o)}catch(c){throw this.handleDisconnect(),c}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let u,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),u={addMessageSent:()=>{var c;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(c=a.addMessageSent)===null||c===void 0||c.call(a)},addMessageReceived:()=>{var c;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(c=a.addMessageReceived)===null||c===void 0||c.call(a)},onCallEnd:c=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,c),this.removeActiveCall(l)},onStreamEnd:c=>{var d;c?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=a.onStreamEnd)===null||d===void 0||d.call(a,c)}}):u={addMessageSent:()=>{var c;(c=a.addMessageSent)===null||c===void 0||c.call(a)},addMessageReceived:()=>{var c;(c=a.addMessageReceived)===null||c===void 0||c.call(a)},onCallEnd:c=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,c),this.removeActiveCall(l)},onStreamEnd:c=>{var d;(d=a.onStreamEnd)===null||d===void 0||d.call(a,c)}},l=new tre.Http2SubchannelCall(s,u,i,this,(0,rre.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,Ly.unregisterChannelzRef)(this.channelzRef)}},ZI=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){pf.trace(Mm.LogVerbosity.DEBUG,QI,(0,hf.uriToString)(this.channelTarget)+" "+e)}createSession(e,r,n,i){return this.isShutdown?Promise.reject():new Promise((a,o)=>{var s,u,l,c;let d;i.realTarget?(d=(0,hf.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,hf.uriToString)(i.realTarget))):(d=null,this.trace("creating HTTP/2 session to "+(0,Fy.subchannelAddressToString)(e)));let f=(0,hq.getDefaultAuthority)((s=i.realTarget)!==null&&s!==void 0?s:this.channelTarget),p=r._getConnectionOptions()||{};p.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in n?p.maxSessionMemory=n["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER;let g="http://";if("secureContext"in p){if(g="https://",n["grpc.ssl_target_name_override"]){let v=n["grpc.ssl_target_name_override"],E=(u=p.checkServerIdentity)!==null&&u!==void 0?u:fq.checkServerIdentity;p.checkServerIdentity=(k,O)=>E(v,O),p.servername=v}else{let v=(c=(l=(0,hf.splitHostPort)(f))===null||l===void 0?void 0:l.host)!==null&&c!==void 0?c:"localhost";p.servername=v}i.socket&&(p.createConnection=(v,E)=>i.socket)}else p.createConnection=(v,E)=>i.socket?i.socket:ere.connect(e);p=Object.assign(Object.assign(Object.assign({},p),e),{enableTrace:n["grpc-node.tls_enable_trace"]===1});let m=XI.connect(g+f,p);this.session=m;let b="Failed to connect";m.unref(),m.once("connect",()=>{m.removeAllListeners(),a(new KI(m,e,n,d)),this.session=null}),m.once("close",()=>{this.session=null,setImmediate(()=>{o(`${b} (${new Date().toISOString()})`)})}),m.once("error",v=>{b=v.message,this.trace("connection failed with error "+b)})})}connect(e,r,n){var i,a,o;if(this.isShutdown)return Promise.reject();let s=r._getConnectionOptions()||{};if("secureContext"in s){if(s.ALPNProtocols=["h2"],n["grpc.ssl_target_name_override"]){let u=n["grpc.ssl_target_name_override"],l=(i=s.checkServerIdentity)!==null&&i!==void 0?i:fq.checkServerIdentity;s.checkServerIdentity=(c,d)=>l(u,d),s.servername=u}else if("grpc.http_connect_target"in n){let u=(0,hq.getDefaultAuthority)((a=(0,hf.parseUri)(n["grpc.http_connect_target"]))!==null&&a!==void 0?a:{path:"localhost"}),l=(0,hf.splitHostPort)(u);s.servername=(o=l?.host)!==null&&o!==void 0?o:u}n["grpc-node.tls_enable_trace"]&&(s.enableTrace=!0)}return(0,jte.getProxiedConnection)(e,n,s).then(u=>this.createSession(e,r,n,u))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};qy.Http2SubchannelConnector=ZI});var mq=h(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.getSubchannelPool=mf.SubchannelPool=void 0;var hre=ML(),pre=iq(),mre=wi(),gre=yn(),yre=pq(),vre=1e4,Lm=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let r in this.pool){let i=this.pool[r].filter(a=>!a.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[r]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,r;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},vre),(r=(e=this.cleanupTimer).unref)===null||r===void 0||r.call(e))}getOrCreateSubchannel(e,r,n,i){this.ensureCleanupTask();let a=(0,gre.uriToString)(e);if(a in this.pool){let s=this.pool[a];for(let u of s)if((0,mre.subchannelAddressEqual)(r,u.subchannelAddress)&&(0,hre.channelOptionsEqual)(n,u.channelArguments)&&i._equals(u.channelCredentials))return u.subchannel}let o=new pre.Subchannel(e,r,n,i,new yre.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:r,channelArguments:n,channelCredentials:i,subchannel:o}),o.ref(),o}};mf.SubchannelPool=Lm;var bre=new Lm;function Sre(t){return t?bre:new Lm}mf.getSubchannelPool=Sre});var YI=h(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.FilterStackFactory=gf.FilterStack=void 0;var Uy=class{constructor(e){this.filters=e}sendMetadata(e){let r=e;for(let n=0;n<this.filters.length;n++)r=this.filters[n].sendMetadata(r);return r}receiveMetadata(e){let r=e;for(let n=this.filters.length-1;n>=0;n--)r=this.filters[n].receiveMetadata(r);return r}sendMessage(e){let r=e;for(let n=0;n<this.filters.length;n++)r=this.filters[n].sendMessage(r);return r}receiveMessage(e){let r=e;for(let n=this.filters.length-1;n>=0;n--)r=this.filters[n].receiveMessage(r);return r}receiveTrailers(e){let r=e;for(let n=this.filters.length-1;n>=0;n--)r=this.filters[n].receiveTrailers(r);return r}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};gf.FilterStack=Uy;var Fm=class{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new Fm([...this.factories])}createFilter(){return new Uy(this.factories.map(e=>e.createFilter()))}};gf.FilterStackFactory=Fm});var $I=h(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});Vy.CompressionAlgorithms=void 0;var gq;(function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip"})(gq||(Vy.CompressionAlgorithms=gq={}))});var eO=h(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.BaseFilter=void 0;var jI=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};Jy.BaseFilter=jI});var bq=h(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.CompressionFilterFactory=bf.CompressionFilter=void 0;var Wy=Ve("zlib"),vq=$I(),yf=Me(),_re=eO(),Ere=yt(),Tre=t=>typeof t=="number"&&typeof vq.CompressionAlgorithms[t]=="string",vf=class{async writeMessage(e,r){let n=e;r&&(n=await this.compressMessage(n));let i=Buffer.allocUnsafe(n.length+5);return i.writeUInt8(r?1:0,0),i.writeUInt32BE(n.length,1),n.copy(i,5),i}async readMessage(e){let r=e.readUInt8(0)===1,n=e.slice(5);return r&&(n=await this.decompressMessage(n)),n}},bu=class extends vf{async compressMessage(e){return e}async writeMessage(e,r){let n=Buffer.allocUnsafe(e.length+5);return n.writeUInt8(0,0),n.writeUInt32BE(e.length,1),e.copy(n,5),n}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},tO=class extends vf{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((r,n)=>{Wy.deflate(e,(i,a)=>{i?n(i):r(a)})})}decompressMessage(e){return new Promise((r,n)=>{let i=0,a=[],o=Wy.createInflate();o.on("data",s=>{a.push(s),i+=s.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),n({code:yf.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{r(Buffer.concat(a))}),o.write(e),o.end()})}},rO=class extends vf{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((r,n)=>{Wy.gzip(e,(i,a)=>{i?n(i):r(a)})})}decompressMessage(e){return new Promise((r,n)=>{let i=0,a=[],o=Wy.createGunzip();o.on("data",s=>{a.push(s),i+=s.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),n({code:yf.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{r(Buffer.concat(a))}),o.write(e),o.end()})}},nO=class extends vf{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function yq(t,e){switch(t){case"identity":return new bu;case"deflate":return new tO(e);case"gzip":return new rO(e);default:return new nO(t)}}var Gy=class extends _re.BaseFilter{constructor(e,r){var n,i,a;super(),this.sharedFilterConfig=r,this.sendCompression=new bu,this.receiveCompression=new bu,this.currentCompressionAlgorithm="identity";let o=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(n=e["grpc.max_receive_message_length"])!==null&&n!==void 0?n:yf.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(i=e["grpc.max_send_message_length"])!==null&&i!==void 0?i:yf.DEFAULT_MAX_SEND_MESSAGE_LENGTH,o!==void 0)if(Tre(o)){let s=vq.CompressionAlgorithms[o],u=(a=r.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!u||u.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=yq(this.currentCompressionAlgorithm,-1))}else Ere.log(yf.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`)}async sendMetadata(e){let r=await e;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?r.remove("grpc-encoding"):r.set("grpc-encoding",this.currentCompressionAlgorithm),r}receiveMetadata(e){let r=e.get("grpc-encoding");if(r.length>0){let i=r[0];typeof i=="string"&&(this.receiveCompression=yq(i,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let n=e.get("grpc-accept-encoding")[0];return n&&(this.sharedFilterConfig.serverSupportedEncodingHeader=n,n.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new bu,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var r;let n=await e;if(this.maxSendMessageLength!==-1&&n.message.length>this.maxSendMessageLength)throw{code:yf.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let i;return this.sendCompression instanceof bu?i=!1:i=(((r=n.flags)!==null&&r!==void 0?r:0)&2)===0,{message:await this.sendCompression.writeMessage(n.message,i),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};bf.CompressionFilter=Gy;var iO=class{constructor(e,r){this.options=r,this.sharedFilterConfig={}}createFilter(){return new Gy(this.options,this.sharedFilterConfig)}};bf.CompressionFilterFactory=iO});var qm=h(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.formatDateDifference=zn.deadlineToString=zn.getRelativeTimeout=zn.getDeadlineTimeoutString=zn.minDeadline=void 0;function Are(...t){let e=1/0;for(let r of t){let n=r instanceof Date?r.getTime():r;n<e&&(e=n)}return e}zn.minDeadline=Are;var Cre=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function kre(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let r=Math.max(t-e,0);for(let[n,i]of Cre){let a=r/i;if(a<1e8)return String(Math.ceil(a))+n}throw new Error("Deadline is too far in the future")}zn.getDeadlineTimeoutString=kre;var Ire=2147483647;function Ore(t){let e=t instanceof Date?t.getTime():t,r=new Date().getTime(),n=e-r;return n<0?0:n>Ire?1/0:n}zn.getRelativeTimeout=Ore;function Nre(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}zn.deadlineToString=Nre;function Rre(t,e){return((e.getTime()-t.getTime())/1e3).toFixed(3)+"s"}zn.formatDateDifference=Rre});var zy=h(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});Hy.restrictControlPlaneStatusCode=void 0;var ma=Me(),wre=[ma.Status.OK,ma.Status.INVALID_ARGUMENT,ma.Status.NOT_FOUND,ma.Status.ALREADY_EXISTS,ma.Status.FAILED_PRECONDITION,ma.Status.ABORTED,ma.Status.OUT_OF_RANGE,ma.Status.DATA_LOSS];function Pre(t,e){return wre.includes(t)?{code:ma.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${ma.Status[t]} ${e}`}:{code:t,details:e}}Hy.restrictControlPlaneStatusCode=Pre});var Eq=h(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.LoadBalancingCall=void 0;var Sq=Fn(),Qy=Me(),_q=qm(),Ky=Br(),Um=wo(),xre=yn(),Bre=yt(),aO=zy(),Dre=Ve("http2"),Mre="load_balancing_call",oO=class{constructor(e,r,n,i,a,o,s){var u,l;this.channel=e,this.callConfig=r,this.methodName=n,this.host=i,this.credentials=a,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let c=this.methodName.split("/"),d="";c.length>=2&&(d=c[1]);let f=(l=(u=(0,xre.splitHostPort)(this.host))===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${f}/${d}`,this.startTime=new Date}getDeadlineInfo(){var e,r;let n=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&n.push("wait_for_ready"),n.push(`LB pick: ${(0,_q.formatDateDifference)(this.startTime,this.childStartTime)}`)),n.push(...this.child.getDeadlineInfo()),n):(!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady&&n.push("wait_for_ready"),n.push("Waiting for LB pick"),n)}trace(e){Bre.trace(Qy.LogVerbosity.DEBUG,Mre,"["+this.callNumber+"] "+e)}outputStatus(e,r){var n,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:r});(n=this.listener)===null||n===void 0||n.onReceiveStatus(a),(i=this.onCallEnded)===null||i===void 0||i.call(this,a.code)}}doPick(){var e,r;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let n=this.metadata.clone(),i=this.channel.doPick(n,this.callConfig.pickInformation),a=i.subchannel?"("+i.subchannel.getChannelzRef().id+") "+i.subchannel.getAddress():""+i.subchannel;switch(this.trace("Pick result: "+Um.PickResultType[i.pickResultType]+" subchannel: "+a+" status: "+((e=i.status)===null||e===void 0?void 0:e.code)+" "+((r=i.status)===null||r===void 0?void 0:r.details)),i.pickResultType){case Um.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(u=>{var l,c,d;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(n.merge(u),n.get("authorization").length>1&&this.outputStatus({code:Qy.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new Ky.Metadata},"PROCESSED"),i.subchannel.getConnectivityState()!==Sq.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+Sq.ConnectivityState[i.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&n.set("grpc-timeout",(0,_q.getDeadlineTimeoutString)(this.deadline));try{this.child=i.subchannel.getRealSubchannel().createCall(n,this.host,this.methodName,{onReceiveMetadata:f=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(f)},onReceiveMessage:f=>{this.trace("Received message"),this.listener.onReceiveMessage(f)},onReceiveStatus:f=>{this.trace("Received status"),f.rstCode===Dre.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(f,"REFUSED"):this.outputStatus(f,"PROCESSED")}}),this.childStartTime=new Date}catch(f){this.trace("Failed to start call on picked subchannel "+a+" with error "+f.message),this.outputStatus({code:Qy.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+f.message,metadata:new Ky.Metadata},"NOT_STARTED");return}(c=(l=this.callConfig).onCommitted)===null||c===void 0||c.call(l),(d=i.onCallStarted)===null||d===void 0||d.call(i),this.onCallEnded=i.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},u=>{let{code:l,details:c}=(0,aO.restrictControlPlaneStatusCode)(typeof u.code=="number"?u.code:Qy.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${u.message}`);this.outputStatus({code:l,details:c,metadata:new Ky.Metadata},"PROCESSED")});break;case Um.PickResultType.DROP:let{code:o,details:s}=(0,aO.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:o,details:s,metadata:i.status.metadata},"DROP")});break;case Um.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:u,details:l}=(0,aO.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:u,details:l,metadata:i.status.metadata},"PROCESSED")})}break;case Um.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,r){var n;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(n=this.child)===null||n===void 0||n.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new Ky.Metadata},"PROCESSED")}getPeer(){var e,r;return(r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.listener=r,this.metadata=e,this.doPick()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.child.sendMessageWithContext(e,r):this.pendingMessage={context:e,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Zy.LoadBalancingCall=oO});var Aq=h(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});Xy.ResolvingCall=void 0;var Su=Me(),_u=qm(),Tq=Br(),Lre=yt(),Fre=zy(),qre="resolving_call",sO=class{constructor(e,r,n,i,a,o){this.channel=e,this.method=r,this.filterStackFactory=i,this.credentials=a,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=n.deadline,this.host=n.host,n.parentCall&&(n.flags&Su.Propagate.CANCELLATION&&n.parentCall.on("cancelled",()=>{this.cancelWithStatus(Su.Status.CANCELLED,"Cancelled by parent call")}),n.flags&Su.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+n.parentCall.getDeadline()),this.deadline=(0,_u.minDeadline)(this.deadline,n.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Lre.trace(Su.LogVerbosity.DEBUG,qre,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,_u.deadlineToString)(this.deadline));let e=(0,_u.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let r=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(Su.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let n=[],i=new Date;n.push(`Deadline exceeded after ${(0,_u.formatDateDifference)(this.deadlineStartTime,i)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&n.push(`name resolution: ${(0,_u.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&n.push(`metadata filters: ${(0,_u.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):n.push("waiting for metadata filters")):n.push("waiting for name resolution"),this.child&&n.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(Su.Status.DEADLINE_EXCEEDED,n.join(","))};e<=0?process.nextTick(r):this.deadlineTimer=setTimeout(r,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let r=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+r.code+' details="'+r.details+'"'),this.statusWatchers.forEach(n=>n(r)),process.nextTick(()=>{var n;(n=this.listener)===null||n===void 0||n.onReceiveStatus(r)})}}sendMessageOnChild(e,r){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let n=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags})).then(i=>{this.writeFilterPending=!1,n.sendMessageWithContext(e,i.message),this.pendingHalfClose&&n.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let r=e.config;if(r.status!==Su.Status.OK){let{code:n,details:i}=(0,Fre.restrictControlPlaneStatusCode)(r.status,"Failed to route call to method "+this.method);this.outputStatus({code:n,details:i,metadata:new Tq.Metadata});return}if(r.methodConfig.timeout){let n=new Date;n.setSeconds(n.getSeconds()+r.methodConfig.timeout.seconds),n.setMilliseconds(n.getMilliseconds()+r.methodConfig.timeout.nanos/1e6),this.deadline=(0,_u.minDeadline)(this.deadline,n),this.runDeadlineTimer()}this.filterStackFactory.push(r.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(n=>{this.child=this.channel.createInnerCall(r,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(n,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},n=>{this.outputStatus(n)})}reportResolverError(e){var r;!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,r){var n;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(n=this.child)===null||n===void 0||n.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new Tq.Metadata})}getPeer(){var e,r;return(r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.metadata=e.clone(),this.listener=r,this.getConfig()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.sendMessageOnChild(e,r):this.pendingMessage={context:e,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};Xy.ResolvingCall=sO});var Cq=h(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.RetryingCall=Go.MessageBufferTracker=Go.RetryThrottler=void 0;var Yy=Me(),Ure=qm(),Vre=Br(),Jre=yt(),Wre="retrying_call",lO=class{constructor(e,r,n){this.maxTokens=e,this.tokenRatio=r,n?this.tokens=n.tokens*(e/n.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};Go.RetryThrottler=lO;var cO=class{constructor(e,r){this.totalLimit=e,this.limitPerCall=r,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,r){var n;let i=(n=this.allocatedPerCall.get(r))!==null&&n!==void 0?n:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(r,i+e),this.totalAllocated+=e,!0)}free(e,r){var n;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(n=this.allocatedPerCall.get(r))!==null&&n!==void 0?n:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(r,i-e)}freeAll(e){var r;let n=(r=this.allocatedPerCall.get(e))!==null&&r!==void 0?r:0;if(this.totalAllocated<n)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${n} > total allocated ${this.totalAllocated}`);this.totalAllocated-=n,this.allocatedPerCall.delete(e)}};Go.MessageBufferTracker=cO;var uO="grpc-previous-rpc-attempts",dO=class{constructor(e,r,n,i,a,o,s,u,l){if(this.channel=e,this.callConfig=r,this.methodName=n,this.host=i,this.credentials=a,this.deadline=o,this.callNumber=s,this.bufferTracker=u,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,r.methodConfig.retryPolicy){this.state="RETRY";let c=r.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(c.initialBackoff.substring(0,c.initialBackoff.length-1))}else r.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY";this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let e=[],r=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),r.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,Ure.formatDateDifference)(this.startTime,r.startTime)}`),e.push(...r.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){Jre.trace(Yy.LogVerbosity.DEBUG,Wre,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.reportStatus({code:e,details:r,metadata:new Vre.Metadata});for(let{call:n}of this.underlyingCalls)n.cancelWithStatus(e,r)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var r;return(r=this.writeBuffer[e-this.writeBufferOffset])!==null&&r!==void 0?r:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let r=this.writeBufferOffset;r<e;r++){let n=this.getBufferEntry(r);n.allocated&&this.bufferTracker.free(n.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let r=0;r<this.underlyingCalls.length;r++)r!==e&&this.underlyingCalls[r].state!=="COMPLETED"&&(this.underlyingCalls[r].state="COMPLETED",this.underlyingCalls[r].call.cancelWithStatus(Yy.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,r=-1;for(let[n,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,r=n);r===-1?this.state="TRANSPARENT_ONLY":this.commitCall(r)}isStatusCodeInList(e,r){return e.some(n=>n===r||n.toString().toLowerCase()===Yy.Status[r].toLowerCase())}getNextRetryBackoffMs(){var e;let r=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!r)return 0;let n=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(r.maxBackoff.substring(0,r.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*r.backoffMultiplier,i),n}maybeRetryCall(e,r){if(this.state!=="RETRY"){r(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){r(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",r(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,o;if(this.state!=="RETRY"){r(!1);return}(!((o=(a=this.retryThrottler)===null||a===void 0?void 0:a.canRetryCall())!==null&&o!==void 0)||o)&&(r(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,r,n){var i,a,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(r),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let s;if(n===null)s=0;else if(n<0){this.state="TRANSPARENT_ONLY",this.commitCall(r),this.reportStatus(e);return}else s=n;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(r),this.reportStatus(e))},s)}else this.commitCall(r),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(n,s=>{s||(this.commitCall(r),this.reportStatus(e))})):(this.commitCall(r),this.reportStatus(e));break}}getPushback(e){let r=e.get("grpc-retry-pushback-ms");if(r.length===0)return null;try{return parseInt(r[0])}catch{return-1}}handleChildStatus(e,r){var n;if(this.underlyingCalls[r].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[r].call.getCallNumber()+"] in state "+this.underlyingCalls[r].state),this.underlyingCalls[r].state="COMPLETED",e.code===Yy.Status.OK){(n=this.retryThrottler)===null||n===void 0||n.addCallSucceeded(),this.commitCall(r),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,r,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(r),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,r,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,r,n;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let a=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(n=(r=this.hedgingTimer).unref)===null||n===void 0||n.call(r)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let r=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let n=this.attempts-1,i=this.initialMetadata.clone();n>0&&i.set(uO,`${n}`);let a=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(r),a=!0,n>0&&o.set(uO,`${n}`),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(r),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&n>0&&o.metadata.set(uO,`${n}`),this.handleChildStatus(o,r)}}),this.sendNextChildMessage(r),this.readStarted&&e.startRead()}start(e,r){this.trace("start called"),this.listener=r,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var r,n;let i=this.underlyingCalls[e],a=i.nextMessageToSend;(n=(r=this.getBufferEntry(a)).callback)===null||n===void 0||n.call(r),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let r=this.underlyingCalls[e];if(r.state!=="COMPLETED"&&this.getBufferEntry(r.nextMessageToSend)){let n=this.getBufferEntry(r.nextMessageToSend);switch(n.entryType){case"MESSAGE":r.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},n.message.message);break;case"HALF_CLOSE":r.nextMessageToSend+=1,r.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,r){var n;this.trace("write() called with message of length "+r.length);let i={message:r,flags:e.flags},a=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(r.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(n=e.callback)===null||n===void 0||n.call(e);for(let[s,u]of this.underlyingCalls.entries())u.state==="ACTIVE"&&u.nextMessageToSend===a&&u.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(s)}},r)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let s=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,s.state==="ACTIVE"&&s.nextMessageToSend===a&&s.call.sendMessageWithContext({callback:u=>{this.handleChildWriteCompleted(this.committedCallIndex)}},r)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&r.nextMessageToSend===e&&(r.nextMessageToSend+=1,r.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};Go.RetryingCall=dO});var jy=h($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.BaseSubchannelWrapper=void 0;var fO=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(r=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};$y.BaseSubchannelWrapper=fO});var Oq=h(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.InternalChannel=void 0;var Gre=W0(),Hre=DL(),zre=mq(),kq=wo(),Vm=Me(),Qre=YI(),Kre=bq(),Iq=ia(),hO=yt(),Zre=JI(),ev=yn(),ga=Fn(),Jm=vu(),Xre=Eq(),Yre=qm(),$re=Aq(),pO=zI(),jre=zy(),mO=Cq(),ene=jy(),tne=2147483647,rne=1e3,nne=30*60*1e3,tv=new Map,ine=1<<24,ane=1<<20,gO=class extends ene.BaseSubchannelWrapper{constructor(e,r){super(e),this.channel=r,this.refCount=0,this.subchannelStateListener=(n,i,a,o)=>{r.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},yO=class{constructor(e,r,n){var i,a,o,s,u,l,c,d;if(this.credentials=r,this.options=n,this.connectivityState=ga.ConnectivityState.IDLE,this.currentPicker=new kq.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Jm.ChannelzCallTracker,this.childrenTracker=new Jm.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof Gre.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(n&&typeof n!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let f=(0,ev.parseUri)(e);if(f===null)throw new Error(`Could not parse target name "${e}"`);let p=(0,Iq.mapUriDefaultScheme)(f);if(p===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},tne),(a=(i=this.callRefTimer).unref)===null||a===void 0||a.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Jm.ChannelzTrace,this.channelzRef=(0,Jm.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,Iq.getDefaultAuthority)(p);let g=(0,Zre.mapProxyName)(p,n);this.target=g.target,this.options=Object.assign({},this.options,g.extraOptions),this.subchannelPool=(0,zre.getSubchannelPool)(((o=n["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new mO.MessageBufferTracker((s=n["grpc.retry_buffer_size"])!==null&&s!==void 0?s:ine,(u=n["grpc.per_rpc_retry_buffer_size"])!==null&&u!==void 0?u:ane),this.keepaliveTime=(l=n["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,this.idleTimeoutMs=Math.max((c=n["grpc.client_idle_timeout_ms"])!==null&&c!==void 0?c:nne,rne);let m={createSubchannel:(v,E)=>{let k=this.subchannelPool.getOrCreateSubchannel(this.target,v,Object.assign({},this.options,E),this.credentials);k.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",k.getChannelzRef());let O=new gO(k,this);return this.wrappedSubchannels.add(O),O},updateState:(v,E)=>{this.currentPicker=E;let k=this.pickQueue.slice();this.pickQueue=[],k.length>0&&this.callRefTimerUnref();for(let O of k)O.doPick();this.updateState(v)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:v=>{this.channelzEnabled&&this.childrenTracker.refChild(v)},removeChannelzChild:v=>{this.channelzEnabled&&this.childrenTracker.unrefChild(v)}};this.resolvingLoadBalancer=new Hre.ResolvingLoadBalancer(this.target,m,n,(v,E)=>{v.retryThrottling?tv.set(this.getTarget(),new mO.RetryThrottler(v.retryThrottling.maxTokens,v.retryThrottling.tokenRatio,tv.get(this.getTarget()))):tv.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=E,this.currentResolutionError=null,process.nextTick(()=>{let k=this.configSelectionQueue;this.configSelectionQueue=[],k.length>0&&this.callRefTimerUnref();for(let O of k)O.getConfig()})},v=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+v.code+' and details "'+v.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,jre.restrictControlPlaneStatusCode)(v.code,v.details)),{metadata:v.metadata}));let E=this.configSelectionQueue;this.configSelectionQueue=[],E.length>0&&this.callRefTimerUnref();for(let k of E)k.reportResolverError(v)}),this.filterStackFactory=new Qre.FilterStackFactory([new Kre.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(n,void 0,2));let b=new Error;(0,hO.trace)(Vm.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((d=b.stack)===null||d===void 0?void 0:d.substring(b.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,r){(0,hO.trace)(r??Vm.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,r,n,i;!((r=(e=this.callRefTimer).hasRef)===null||r===void 0)&&r.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(n=this.callRefTimer).ref)===null||i===void 0||i.call(n))}callRefTimerUnref(){var e,r;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(r=(e=this.callRefTimer).unref)===null||r===void 0||r.call(e))}removeConnectivityStateWatcher(e){let r=this.connectivityStateWatchers.findIndex(n=>n===e);r>=0&&this.connectivityStateWatchers.splice(r,1)}updateState(e){(0,hO.trace)(Vm.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+ga.ConnectivityState[this.connectivityState]+" -> "+ga.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ga.ConnectivityState[e]),this.connectivityState=e;let r=this.connectivityStateWatchers.slice();for(let n of r)e!==n.currentState&&(n.timer&&clearTimeout(n.timer),this.removeConnectivityStateWatcher(n),n.callback());e!==ga.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let r of this.wrappedSubchannels)r.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,r){return this.currentPicker.pick({metadata:e,extraPickInfo:r})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,r){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,r,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(ga.ConnectivityState.IDLE),this.currentPicker=new kq.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var r,n;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(n=(r=this.idleTimer).unref)===null||n===void 0||n.call(r)}maybeStartIdleTimer(){this.connectivityState!==ga.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Vm.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,r,n,i,a){let o=(0,pO.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+r+'"'),new Xre.LoadBalancingCall(this,e,r,n,i,a,o)}createRetryingCall(e,r,n,i,a){let o=(0,pO.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+r+'"'),new mO.RetryingCall(this,e,r,n,i,a,o,this.retryBufferTracker,tv.get(this.getTarget()))}createInnerCall(e,r,n,i,a){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,r,n,i,a):this.createRetryingCall(e,r,n,i,a)}createResolvingCall(e,r,n,i,a){let o=(0,pO.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,Yre.deadlineToString)(r));let s={deadline:r,flags:a??Vm.Propagate.DEFAULTS,host:n??this.defaultAuthority,parentCall:i},u=new $re.ResolvingCall(this,e,s,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),u.addStatusWatcher(l=>{this.onCallEnd(l)}),u}close(){this.resolvingLoadBalancer.destroy(),this.updateState(ga.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Jm.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,ev.uriToString)(this.target)}getConnectivityState(e){let r=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),r}watchConnectivityState(e,r,n){if(this.connectivityState===ga.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(r!==1/0){let o=r instanceof Date?r:new Date(r),s=new Date;if(r===-1/0||o<=s){process.nextTick(n,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(a),n(new Error("Deadline passed without connectivity state change"))},o.getTime()-s.getTime())}let a={currentState:e,callback:n,timer:i};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,r,n,i,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===ga.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,r,n,i,a)}};rv.InternalChannel=yO});var Fk=h(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.ChannelImplementation=void 0;var one=W0(),sne=Oq(),vO=class{constructor(e,r,n){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof one.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(n&&typeof n!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new sne.InternalChannel(e,r,n)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,r,n){this.internalChannel.watchConnectivityState(e,r,n)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,r,n,i,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,r,n,i,a)}};nv.ChannelImplementation=vO});var Rq=h(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.ServerDuplexStreamImpl=Qn.ServerWritableStreamImpl=Qn.ServerReadableStreamImpl=Qn.ServerUnaryCallImpl=Qn.serverErrorToStatus=void 0;var une=Ve("events"),TO=Ve("stream"),AO=Me(),Nq=Br();function CO(t,e){var r;let n={code:AO.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:(r=e??t.metadata)!==null&&r!==void 0?r:null};return"code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(n.code=t.code,"details"in t&&typeof t.details=="string"&&(n.details=t.details)),n}Qn.serverErrorToStatus=CO;var bO=class extends une.EventEmitter{constructor(e,r,n,i){super(),this.path=e,this.call=r,this.metadata=n,this.request=i,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};Qn.ServerUnaryCallImpl=bO;var SO=class extends TO.Readable{constructor(e,r,n){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=n,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};Qn.ServerReadableStreamImpl=SO;var _O=class extends TO.Writable{constructor(e,r,n,i){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=n,this.request=i,this.pendingStatus={code:AO.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Nq.Metadata,this.on("error",a=>{this.pendingStatus=CO(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_write(e,r,n){this.call.sendMessage(e,n)}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Qn.ServerWritableStreamImpl=_O;var EO=class extends TO.Duplex{constructor(e,r,n){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=n,this.pendingStatus={code:AO.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Nq.Metadata,this.on("error",i=>{this.pendingStatus=CO(i),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_read(e){this.call.startRead()}_write(e,r,n){this.call.sendMessage(e,n)}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Qn.ServerDuplexStreamImpl=EO});var kO=h(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.ServerCredentials=void 0;var wq=lk(),Wm=class{static createInsecure(){return new Gm}static createSsl(e,r,n=!1){var i;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if(typeof n!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],o=[];for(let s=0;s<r.length;s++){let u=r[s];if(u===null||typeof u!="object")throw new TypeError(`keyCertPair[${s}] must be an object`);if(!Buffer.isBuffer(u.private_key))throw new TypeError(`keyCertPair[${s}].private_key must be a Buffer`);if(!Buffer.isBuffer(u.cert_chain))throw new TypeError(`keyCertPair[${s}].cert_chain must be a Buffer`);a.push(u.cert_chain),o.push(u.private_key)}return new Hm({ca:(i=e??(0,wq.getDefaultRootsData)())!==null&&i!==void 0?i:void 0,cert:a,key:o,requestCert:n,ciphers:wq.CIPHER_SUITES})}};iv.ServerCredentials=Wm;var Gm=class extends Wm{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof Gm}},Hm=class extends Wm{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof Hm))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let r=0;r<this.options.cert.length;r++){let n=this.options.cert[r],i=e.options.cert[r];if(Buffer.isBuffer(n)&&Buffer.isBuffer(i)){if(!n.equals(i))return!1}else if(n!==i)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let r=0;r<this.options.key.length;r++){let n=this.options.key[r],i=e.options.key[r];if(Buffer.isBuffer(n)&&Buffer.isBuffer(i)){if(!n.equals(i))return!1}else if(n!==i)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}});var xO=h(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.getServerInterceptingCall=jr.BaseServerInterceptingCall=jr.ServerInterceptingCall=jr.ResponderBuilder=jr.isInterceptingServerListener=jr.ServerListenerBuilder=void 0;var Pq=Br(),$r=Me(),Sf=Ve("http2"),xq=F0(),Bq=Ve("zlib"),lne=GI(),Fq=yt(),qq="server_call";function Eu(t){Fq.trace($r.LogVerbosity.DEBUG,qq,t)}var OO=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};jr.ServerListenerBuilder=OO;function cne(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}jr.isInterceptingServerListener=cne;var NO=class{constructor(e,r){this.listener=e,this.nextListener=r,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,r=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(r),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},RO=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};jr.ResponderBuilder=RO;var av={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveHalfClose:t=>{t()},onCancel:()=>{}},ov={start:t=>{t()},sendMetadata:(t,e)=>{e(t)},sendMessage:(t,e)=>{e(t)},sendStatus:(t,e)=>{e(t)}},wO=class{constructor(e,r){var n,i,a,o;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(n=r?.start)!==null&&n!==void 0?n:ov.start,sendMetadata:(i=r?.sendMetadata)!==null&&i!==void 0?i:ov.sendMetadata,sendMessage:(a=r?.sendMessage)!==null&&a!==void 0?a:ov.sendMessage,sendStatus:(o=r?.sendStatus)!==null&&o!==void 0?o:ov.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(r=>{var n,i,a,o;let s={onReceiveMetadata:(n=r?.onReceiveMetadata)!==null&&n!==void 0?n:av.onReceiveMetadata,onReceiveMessage:(i=r?.onReceiveMessage)!==null&&i!==void 0?i:av.onReceiveMessage,onReceiveHalfClose:(a=r?.onReceiveHalfClose)!==null&&a!==void 0?a:av.onReceiveHalfClose,onCancel:(o=r?.onCancel)!==null&&o!==void 0?o:av.onCancel},u=new NO(s,e);this.nextCall.start(u)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,r=>{this.processingMetadata=!1,this.nextCall.sendMetadata(r),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,r){this.processingMessage=!0,this.responder.sendMessage(e,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=n,this.pendingMessageCallback=r):this.nextCall.sendMessage(n,r)})}sendStatus(e){this.responder.sendStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextCall.sendStatus(r)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}};jr.ServerInterceptingCall=wO;var Uq="grpc-accept-encoding",PO="grpc-encoding",Dq="grpc-message",Mq="grpc-status",IO="grpc-timeout",dne=/(\d{1,8})\s*([HMSmun])/,fne={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},hne={[Uq]:"identity,deflate,gzip",[PO]:"identity"},Lq={[Sf.constants.HTTP2_HEADER_STATUS]:Sf.constants.HTTP_STATUS_OK,[Sf.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},pne={waitForTrailers:!0},sv=class{constructor(e,r,n,i,a){this.stream=e,this.callEventTracker=n,this.handler=i,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=$r.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=$r.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",l=>{}),this.stream.once("close",()=>{var l;Eu("Request to method "+((l=this.handler)===null||l===void 0?void 0:l.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:$r.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",l=>{this.handleDataFrame(l)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.decoder=new lne.StreamDecoder(this.maxReceiveMessageSize);let o=Pq.Metadata.fromHttp2Headers(r);Fq.isTracerEnabled(qq)&&Eu("Request to "+this.handler.path+" received headers "+JSON.stringify(o.toJSON()));let s=o.get(IO);s.length>0&&this.handleTimeoutHeader(s[0]);let u=o.get(PO);u.length>0&&(this.incomingEncoding=u[0]),o.remove(IO),o.remove(PO),o.remove(Uq),o.remove(Sf.constants.HTTP2_HEADER_ACCEPT_ENCODING),o.remove(Sf.constants.HTTP2_HEADER_TE),o.remove(Sf.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=o}handleTimeoutHeader(e){let r=e.toString().match(dne);if(r===null){let a={code:$r.Status.INTERNAL,details:`Invalid ${IO} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let n=+r[1]*fne[r[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(()=>{let a={code:$r.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},n)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new Pq.Metadata)}serializeMessage(e){let r=this.handler.serialize(e),n=r.byteLength,i=Buffer.allocUnsafe(n+5);return i.writeUInt8(0,0),i.writeUInt32BE(n,1),r.copy(i,5),i}decompressMessage(e,r){let n=e.subarray(5);if(r==="identity")return n;if(r==="deflate"||r==="gzip"){let i;return r==="deflate"?i=Bq.createInflate():i=Bq.createGunzip(),new Promise((a,o)=>{let s=0,u=[];i.on("data",l=>{u.push(l),s+=l.byteLength,this.maxReceiveMessageSize!==-1&&s>this.maxReceiveMessageSize&&(i.destroy(),o({code:$r.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),i.on("end",()=>{a(Buffer.concat(u))}),i.write(n),i.end()})}else return Promise.reject({code:$r.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${r}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let n=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",i;try{i=await this.decompressMessage(e.compressedMessage,n)}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(i)}catch(a){this.sendStatus({code:$r.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var r;if(this.checkCancelled())return;Eu("Request to "+this.handler.path+" received data frame of size "+e.length);let n;try{n=this.decoder.write(e)}catch(i){this.sendStatus({code:$r.Status.RESOURCE_EXHAUSTED,details:i.message});return}for(let i of n){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:i,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(r=this.callEventTracker)===null||r===void 0||r.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Eu("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let r=e?e.toHttp2Headers():null,n=Object.assign(Object.assign(Object.assign({},Lq),hne),r);this.stream.respond(n,pne)}sendMessage(e,r){if(this.checkCancelled())return;let n;try{n=this.serializeMessage(e)}catch(i){this.sendStatus({code:$r.Status.INTERNAL,details:`Error serializing response: ${(0,xq.getErrorMessage)(i)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&n.length-5>this.maxSendMessageSize){this.sendStatus({code:$r.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${n.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Eu("Request to "+this.handler.path+" sent data frame of size "+n.length),this.stream.write(n,i=>{var a;if(i){this.sendStatus({code:$r.Status.INTERNAL,details:`Error writing message: ${(0,xq.getErrorMessage)(i)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),r()})}sendStatus(e){var r,n;if(!this.checkCancelled())if(Eu("Request to method "+((r=this.handler)===null||r===void 0?void 0:r.path)+" ended with status code: "+$r.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[Mq]:e.code,[Dq]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(a),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let i=Object.assign(Object.assign({[Mq]:e.code,[Dq]:encodeURI(e.details)},Lq),(n=e.metadata)===null||n===void 0?void 0:n.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.notifyOnCancel()}}startRead(){Eu("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let r=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return r?.remoteAddress?r.remotePort?`${r.remoteAddress}:${r.remotePort}`:r.remoteAddress:"unknown"}getDeadline(){return this.deadline}};jr.BaseServerInterceptingCall=sv;function mne(t,e,r,n,i,a){let o={path:i.path,requestStream:i.type==="clientStream"||i.type==="bidi",responseStream:i.type==="serverStream"||i.type==="bidi",requestDeserialize:i.deserialize,responseSerialize:i.serialize},s=new sv(e,r,n,i,a);return t.reduce((u,l)=>l(o,u),s)}jr.getServerInterceptingCall=mne});var zq=h(zo=>{"use strict";var gne=zo&&zo.__runInitializers||function(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0},yne=zo&&zo.__esDecorate||function(t,e,r,n,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var b=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],g);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=o(b.get))&&(c.get=d),(d=o(b.set))&&(c.set=d),(d=o(b.init))&&i.unshift(d)}else(d=o(b))&&(s==="field"?i.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0};Object.defineProperty(zo,"__esModule",{value:!0});zo.Server=void 0;var Sn=Ve("http2"),vne=Ve("util"),Wt=Me(),Ef=Rq(),bne=kO(),Vq=ia(),uv=yt(),Ho=wi(),Mi=yn(),nr=vu(),Jq=xO(),_f=~(1<<31),BO=~(1<<31),Sne=2e4,Wq=~(1<<31),{HTTP2_HEADER_PATH:Gq}=Sn.constants,_ne="server",Hq=Buffer.from("max_age");function Ene(){}function Tne(t){return function(e,r){return vne.deprecate(e,t)}}function DO(t){return{code:Wt.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function Ane(t,e){let r=DO(e);switch(t){case"unary":return(n,i)=>{i(r,null)};case"clientStream":return(n,i)=>{i(r,null)};case"serverStream":return n=>{n.emit("error",r)};case"bidi":return n=>{n.emit("error",r)};default:throw new Error(`Invalid handlerType ${t}`)}}var Cne=(()=>{var t;let e=[],r;return t=class{constructor(i){var a,o,s,u,l,c;this.boundPorts=(gne(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=i??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new nr.ChannelzTraceStub,this.callTracker=new nr.ChannelzCallTrackerStub,this.listenerChildrenTracker=new nr.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new nr.ChannelzChildrenTrackerStub):(this.channelzTrace=new nr.ChannelzTrace,this.callTracker=new nr.ChannelzCallTracker,this.listenerChildrenTracker=new nr.ChannelzChildrenTracker,this.sessionChildrenTracker=new nr.ChannelzChildrenTracker),this.channelzRef=(0,nr.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:_f,this.maxConnectionAgeGraceMs=(o=this.options["grpc.max_connection_age_grace_ms"])!==null&&o!==void 0?o:_f,this.keepaliveTimeMs=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:BO,this.keepaliveTimeoutMs=(u=this.options["grpc.keepalive_timeout_ms"])!==null&&u!==void 0?u:Sne,this.sessionIdleTimeout=(l=this.options["grpc.max_connection_idle_ms"])!==null&&l!==void 0?l:Wq,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(c=this.options.interceptors)!==null&&c!==void 0?c:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(i){var a,o,s;let u=this.sessions.get(i),l=i.socket,c=l.remoteAddress?(0,Ho.stringToSubchannelAddress)(l.remoteAddress,l.remotePort):null,d=l.localAddress?(0,Ho.stringToSubchannelAddress)(l.localAddress,l.localPort):null,f;if(i.encrypted){let g=l,m=g.getCipher(),b=g.getCertificate(),v=g.getPeerCertificate();f={cipherSuiteStandardName:(a=m.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:m.standardName?null:m.name,localCertificate:b&&"raw"in b?b.raw:null,remoteCertificate:v&&"raw"in v?v.raw:null}}else f=null;return{remoteAddress:c,localAddress:d,security:f,remoteName:null,streamsStarted:u.streamTracker.callsStarted,streamsSucceeded:u.streamTracker.callsSucceeded,streamsFailed:u.streamTracker.callsFailed,messagesSent:u.messagesSent,messagesReceived:u.messagesReceived,keepAlivesSent:u.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:u.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:u.lastMessageSentTimestamp,lastMessageReceivedTimestamp:u.lastMessageReceivedTimestamp,localFlowControlWindow:(o=i.state.localWindowSize)!==null&&o!==void 0?o:null,remoteFlowControlWindow:(s=i.state.remoteWindowSize)!==null&&s!==void 0?s:null}}trace(i){uv.trace(Wt.LogVerbosity.DEBUG,_ne,"("+this.channelzRef.id+") "+i)}keepaliveTrace(i){uv.trace(Wt.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+i)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(i,a){if(i===null||typeof i!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let o=Object.keys(i);if(o.length===0)throw new Error("Cannot add an empty service to a server");o.forEach(s=>{let u=i[s],l;u.requestStream?u.responseStream?l="bidi":l="clientStream":u.responseStream?l="serverStream":l="unary";let c=a[s],d;if(c===void 0&&typeof u.originalName=="string"&&(c=a[u.originalName]),c!==void 0?d=c.bind(a):d=Ane(l,s),this.register(u.path,d,u.responseSerialize,u.requestDeserialize,l)===!1)throw new Error(`Method handler for ${u.path} already provided.`)})}removeService(i){if(i===null||typeof i!="object")throw new Error("removeService() requires object as argument");Object.keys(i).forEach(o=>{let s=i[o];this.unregister(s.path)})}bind(i,a){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(i){return(0,nr.registerChannelzSocket)((0,Ho.subchannelAddressToString)(i),()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(i){let a;if(i._isSecure()){let o=Object.assign(this.commonServerOptions,i._getSettings());o.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,a=Sn.createSecureServer(o),a.on("secureConnection",s=>{s.on("error",u=>{this.trace("An incoming TLS connection closed with error: "+u.message)})})}else a=Sn.createServer(this.commonServerOptions);return a.setTimeout(0,Ene),this._setupHandlers(a),a}bindOneAddress(i,a){this.trace("Attempting to bind "+(0,Ho.subchannelAddressToString)(i));let o=this.createHttp2Server(a.credentials);return new Promise((s,u)=>{let l=c=>{this.trace("Failed to bind "+(0,Ho.subchannelAddressToString)(i)+" with error "+c.message),s({port:"port"in i?i.port:1,error:c.message})};o.once("error",l),o.listen(i,()=>{let c=o.address(),d;typeof c=="string"?d={path:c}:d={host:c.address,port:c.port};let f=this.registerListenerToChannelz(d);this.listenerChildrenTracker.refChild(f),this.http2Servers.set(o,{channelzRef:f,sessions:new Set}),a.listeningServers.add(o),this.trace("Successfully bound "+(0,Ho.subchannelAddressToString)(d)),s({port:"port"in d?d.port:1}),o.removeListener("error",l)})})}async bindManyPorts(i,a){if(i.length===0)return{count:0,port:0,errors:[]};if((0,Ho.isTcpSubchannelAddress)(i[0])&&i[0].port===0){let o=await this.bindOneAddress(i[0],a);if(o.error){let s=await this.bindManyPorts(i.slice(1),a);return Object.assign(Object.assign({},s),{errors:[o.error,...s.errors]})}else{let s=i.slice(1).map(c=>(0,Ho.isTcpSubchannelAddress)(c)?{host:c.host,port:o.port}:c),u=await Promise.all(s.map(c=>this.bindOneAddress(c,a))),l=[o,...u];return{count:l.filter(c=>c.error===void 0).length,port:o.port,errors:l.filter(c=>c.error).map(c=>c.error)}}}else{let o=await Promise.all(i.map(s=>this.bindOneAddress(s,a)));return{count:o.filter(s=>s.error===void 0).length,port:o[0].port,errors:o.filter(s=>s.error).map(s=>s.error)}}}async bindAddressList(i,a){let o=await this.bindManyPorts(i,a);if(o.count>0)return o.count<i.length&&uv.log(Wt.LogVerbosity.INFO,`WARNING Only ${o.count} addresses added out of total ${i.length} resolved`),o.port;{let s=`No address added out of total ${i.length} resolved`;throw uv.log(Wt.LogVerbosity.ERROR,s),new Error(`${s} errors: [${o.errors.join(",")}]`)}}resolvePort(i){return new Promise((a,o)=>{let s={onSuccessfulResolution:(l,c,d)=>{s.onSuccessfulResolution=()=>{};let f=[].concat(...l.map(p=>p.addresses));if(f.length===0){o(new Error(`No addresses resolved for port ${i}`));return}a(f)},onError:l=>{o(new Error(l.details))}};(0,Vq.createResolver)(i,s,this.options).updateResolution()})}async bindPort(i,a){let o=await this.resolvePort(i);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let s=await this.bindAddressList(o,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return s}normalizePort(i){let a=(0,Mi.parseUri)(i);if(a===null)throw new Error(`Could not parse port "${i}"`);let o=(0,Vq.mapUriDefaultScheme)(a);if(o===null)throw new Error(`Could not get a default scheme for port "${i}"`);return o}bindAsync(i,a,o){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof i!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof bne.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof o!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+i);let s=this.normalizePort(i),u=(f,p)=>{process.nextTick(()=>o(f,p))},l=this.boundPorts.get((0,Mi.uriToString)(s));if(l){if(!a._equals(l.credentials)){u(new Error(`${i} already bound with incompatible credentials`),0);return}l.cancelled=!1,l.completionPromise?l.completionPromise.then(f=>o(null,f),f=>o(f,0)):u(null,l.portNumber);return}l={mapKey:(0,Mi.uriToString)(s),originalUri:s,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let c=(0,Mi.splitHostPort)(s.path),d=this.bindPort(s,l);l.completionPromise=d,c?.port===0?d.then(f=>{let p={scheme:s.scheme,authority:s.authority,path:(0,Mi.combineHostPort)({host:c.host,port:f})};l.mapKey=(0,Mi.uriToString)(p),l.completionPromise=null,l.portNumber=f,this.boundPorts.set(l.mapKey,l),o(null,f)},f=>{o(f,0)}):(this.boundPorts.set(l.mapKey,l),d.then(f=>{l.completionPromise=null,l.portNumber=f,o(null,f)},f=>{o(f,0)}))}closeServer(i,a){this.trace("Closing server with address "+JSON.stringify(i.address()));let o=this.http2Servers.get(i);i.close(()=>{o&&(this.listenerChildrenTracker.unrefChild(o.channelzRef),(0,nr.unregisterChannelzRef)(o.channelzRef)),this.http2Servers.delete(i),a?.()})}closeSession(i,a){var o;this.trace("Closing session initiated by "+((o=i.socket)===null||o===void 0?void 0:o.remoteAddress));let s=this.sessions.get(i),u=()=>{s&&(this.sessionChildrenTracker.unrefChild(s.ref),(0,nr.unregisterChannelzRef)(s.ref)),a?.()};i.closed?queueMicrotask(u):i.close(u)}completeUnbind(i){for(let a of i.listeningServers){let o=this.http2Servers.get(a);if(this.closeServer(a,()=>{i.listeningServers.delete(a)}),o)for(let s of o.sessions)this.closeSession(s)}this.boundPorts.delete(i.mapKey)}unbind(i){this.trace("unbind port="+i);let a=this.normalizePort(i),o=(0,Mi.splitHostPort)(a.path);if(o?.port===0)throw new Error("Cannot unbind port 0");let s=this.boundPorts.get((0,Mi.uriToString)(a));s&&(this.trace("unbinding "+s.mapKey+" originally bound as "+(0,Mi.uriToString)(s.originalUri)),s.completionPromise?s.cancelled=!0:this.completeUnbind(s))}drain(i,a){var o,s;this.trace("drain port="+i+" graceTimeMs="+a);let u=this.normalizePort(i),l=(0,Mi.splitHostPort)(u.path);if(l?.port===0)throw new Error("Cannot drain port 0");let c=this.boundPorts.get((0,Mi.uriToString)(u));if(!c)return;let d=new Set;for(let f of c.listeningServers){let p=this.http2Servers.get(f);if(p)for(let g of p.sessions)d.add(g),this.closeSession(g,()=>{d.delete(g)})}(s=(o=setTimeout(()=>{for(let f of d)f.destroy(Sn.constants.NGHTTP2_CANCEL)},a)).unref)===null||s===void 0||s.call(o)}forceShutdown(){for(let i of this.boundPorts.values())i.cancelled=!0;this.boundPorts.clear();for(let i of this.http2Servers.keys())this.closeServer(i);this.sessions.forEach((i,a)=>{this.closeSession(a),a.destroy(Sn.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,nr.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(i,a,o,s,u){return this.handlers.has(i)?!1:(this.handlers.set(i,{func:a,serialize:o,deserialize:s,type:u,path:i}),!0)}unregister(i){return this.handlers.delete(i)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(i=>!i.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(i){var a;let o=l=>{(0,nr.unregisterChannelzRef)(this.channelzRef),i(l)},s=0;function u(){s--,s===0&&o()}this.shutdown=!0;for(let[l,c]of this.http2Servers.entries()){s++;let d=c.channelzRef.name;this.trace("Waiting for server "+d+" to close"),this.closeServer(l,()=>{this.trace("Server "+d+" finished closing"),u()});for(let f of c.sessions.keys()){s++;let p=(a=f.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+p+" to close"),this.closeSession(f,()=>{this.trace("Session "+p+" finished closing"),u()})}}s===0&&o()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(i,a){let o=a[Sn.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof o!="string"||!o.startsWith("application/grpc")?(i.respond({[Sn.constants.HTTP2_HEADER_STATUS]:Sn.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(i){this.trace("Received call to method "+i+" at address "+this.serverAddressString);let a=this.handlers.get(i);return a===void 0?(this.trace("No handler registered for method "+i+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(i,a,o=null){var s,u;let l=Object.assign({"grpc-status":(s=i.code)!==null&&s!==void 0?s:Wt.Status.INTERNAL,"grpc-message":i.details,[Sn.constants.HTTP2_HEADER_STATUS]:Sn.constants.HTTP_STATUS_OK,[Sn.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(u=i.metadata)===null||u===void 0?void 0:u.toHttp2Headers());a.respond(l,{endStream:!0}),this.callTracker.addCallFailed(),o?.streamTracker.addCallFailed()}_channelzHandler(i,a){this.onStreamOpened(i);let o=this.sessions.get(i.session);if(this.callTracker.addCallStarted(),o?.streamTracker.addCallStarted(),!this._verifyContentType(i,a)){this.callTracker.addCallFailed(),o?.streamTracker.addCallFailed();return}let s=a[Gq],u=this._retrieveHandler(s);if(!u){this._respondWithError(DO(s),i,o);return}let l={addMessageSent:()=>{o&&(o.messagesSent+=1,o.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{o&&(o.messagesReceived+=1,o.lastMessageReceivedTimestamp=new Date)},onCallEnd:d=>{d.code===Wt.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:d=>{o&&(d?o.streamTracker.addCallSucceeded():o.streamTracker.addCallFailed())}},c=(0,Jq.getServerInterceptingCall)(this.interceptors,i,a,l,u,this.options);this._runHandlerForCall(c,u)||(this.callTracker.addCallFailed(),o?.streamTracker.addCallFailed(),c.sendStatus({code:Wt.Status.INTERNAL,details:`Unknown handler type: ${u.type}`}))}_streamHandler(i,a){if(this.onStreamOpened(i),this._verifyContentType(i,a)!==!0)return;let o=a[Gq],s=this._retrieveHandler(o);if(!s){this._respondWithError(DO(o),i,null);return}let u=(0,Jq.getServerInterceptingCall)(this.interceptors,i,a,null,s,this.options);this._runHandlerForCall(u,s)||u.sendStatus({code:Wt.Status.INTERNAL,details:`Unknown handler type: ${s.type}`})}_runHandlerForCall(i,a){let{type:o}=a;if(o==="unary")kne(i,a);else if(o==="clientStream")Ine(i,a);else if(o==="serverStream")One(i,a);else if(o==="bidi")Nne(i,a);else return!1;return!0}_setupHandlers(i){if(i===null)return;let a=i.address(),o="null";a&&(typeof a=="string"?o=a:o=a.address+":"+a.port),this.serverAddressString=o;let s=this.channelzEnabled?this._channelzHandler:this._streamHandler,u=this.channelzEnabled?this._channelzSessionHandler(i):this._sessionHandler(i);i.on("stream",s.bind(this)),i.on("session",u)}_sessionHandler(i){return a=>{var o,s;(o=this.http2Servers.get(i))===null||o===void 0||o.sessions.add(a);let u=null,l=null,c=null,d=!1,f=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==_f){let v=this.maxConnectionAgeMs/10,E=Math.random()*v*2-v;u=setTimeout(()=>{var k,O;d=!0,this.trace("Connection dropped by max connection age: "+((k=a.socket)===null||k===void 0?void 0:k.remoteAddress));try{a.goaway(Sn.constants.NGHTTP2_NO_ERROR,~(1<<31),Hq)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==_f&&(l=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(O=l.unref)===null||O===void 0||O.call(l))},this.maxConnectionAgeMs+E),(s=u.unref)===null||s===void 0||s.call(u)}let p=()=>{c&&(clearTimeout(c),c=null)},g=()=>!a.destroyed&&this.keepaliveTimeMs<BO&&this.keepaliveTimeMs>0,m,b=()=>{var v;g()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),c=setTimeout(()=>{p(),m()},this.keepaliveTimeMs),(v=c.unref)===null||v===void 0||v.call(c))};m=()=>{var v;if(!g())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let E="";try{a.ping((O,M,P)=>{p(),O?(this.keepaliveTrace("Ping failed with error: "+O.message),d=!0,a.close()):(this.keepaliveTrace("Received ping response"),b())})||(E="Ping returned false")}catch(k){E=(k instanceof Error?k.message:"")||"Unknown error"}if(E){this.keepaliveTrace("Ping send failed: "+E),this.trace("Connection dropped due to ping send error: "+E),d=!0,a.close();return}c=setTimeout(()=>{p(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),d=!0,a.close()},this.keepaliveTimeoutMs),(v=c.unref)===null||v===void 0||v.call(c)},b(),a.on("close",()=>{var v,E;d||this.trace(`Connection dropped by client ${(v=a.socket)===null||v===void 0?void 0:v.remoteAddress}`),u&&clearTimeout(u),l&&clearTimeout(l),p(),f!==null&&(clearTimeout(f.timeout),this.sessionIdleTimeouts.delete(a)),(E=this.http2Servers.get(i))===null||E===void 0||E.sessions.delete(a)})}}_channelzSessionHandler(i){return a=>{var o,s,u,l;let c=(0,nr.registerChannelzSocket)((s=(o=a.socket)===null||o===void 0?void 0:o.remoteAddress)!==null&&s!==void 0?s:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),d={ref:c,streamTracker:new nr.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(u=this.http2Servers.get(i))===null||u===void 0||u.sessions.add(a),this.sessions.set(a,d);let f=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+f),this.trace("Connection established by client "+f),this.sessionChildrenTracker.refChild(c);let p=null,g=null,m=null,b=!1,v=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==_f){let P=this.maxConnectionAgeMs/10,q=Math.random()*P*2-P;p=setTimeout(()=>{var z;b=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+f);try{a.goaway(Sn.constants.NGHTTP2_NO_ERROR,~(1<<31),Hq)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==_f&&(g=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(z=g.unref)===null||z===void 0||z.call(g))},this.maxConnectionAgeMs+q),(l=p.unref)===null||l===void 0||l.call(p)}let E=()=>{m&&(clearTimeout(m),m=null)},k=()=>!a.destroyed&&this.keepaliveTimeMs<BO&&this.keepaliveTimeMs>0,O,M=()=>{var P;k()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),m=setTimeout(()=>{E(),O()},this.keepaliveTimeMs),(P=m.unref)===null||P===void 0||P.call(m))};O=()=>{var P;if(!k())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let q="";try{a.ping((me,ne,w)=>{E(),me?(this.keepaliveTrace("Ping failed with error: "+me.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+me.message+" return in "+ne),b=!0,a.close()):(this.keepaliveTrace("Received ping response"),M())})||(q="Ping returned false")}catch(z){q=(z instanceof Error?z.message:"")||"Unknown error"}if(q){this.keepaliveTrace("Ping send failed: "+q),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+q),b=!0,a.close();return}d.keepAlivesSent+=1,m=setTimeout(()=>{E(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+f),b=!0,a.close()},this.keepaliveTimeoutMs),(P=m.unref)===null||P===void 0||P.call(m)},M(),a.on("close",()=>{var P;b||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+f),this.sessionChildrenTracker.unrefChild(c),(0,nr.unregisterChannelzRef)(c),p&&clearTimeout(p),g&&clearTimeout(g),E(),v!==null&&(clearTimeout(v.timeout),this.sessionIdleTimeouts.delete(a)),(P=this.http2Servers.get(i))===null||P===void 0||P.sessions.delete(a),this.sessions.delete(a)})}}enableIdleTimeout(i){var a,o;if(this.sessionIdleTimeout>=Wq)return null;let s={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,i),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,i)};(o=(a=s.timeout).unref)===null||o===void 0||o.call(a),this.sessionIdleTimeouts.set(i,s);let{socket:u}=i;return this.trace("Enable idle timeout for "+u.remoteAddress+":"+u.remotePort),s}onIdleTimeout(i,a){let{socket:o}=a,s=i.sessionIdleTimeouts.get(a);s!==void 0&&s.activeStreams===0&&Date.now()-s.lastIdle>=i.sessionIdleTimeout&&(i.trace("Session idle timeout triggered for "+o?.remoteAddress+":"+o?.remotePort+" last idle at "+s.lastIdle),i.closeSession(a))}onStreamOpened(i){let a=i.session,o=this.sessionIdleTimeouts.get(a);o&&(o.activeStreams+=1,i.once("close",o.onClose))}onStreamClose(i){var a,o;let s=this.sessionIdleTimeouts.get(i);s&&(s.activeStreams-=1,s.activeStreams===0&&(s.lastIdle=Date.now(),s.timeout.refresh(),this.trace("Session onStreamClose"+((a=i.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((o=i.socket)===null||o===void 0?void 0:o.remotePort)+" at "+s.lastIdle)))}},(()=>{let n=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;r=[Tne("Calling start() is no longer necessary. It can be safely omitted.")],yne(t,null,r,{kind:"method",name:"start",static:!1,private:!1,access:{has:i=>"start"in i,get:i=>i.start},metadata:n},null,e),n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})})(),t})();zo.Server=Cne;async function kne(t,e){let r;function n(o,s,u,l){if(o){t.sendStatus((0,Ef.serverErrorToStatus)(o,u));return}t.sendMessage(s,()=>{t.sendStatus({code:Wt.Status.OK,details:"OK",metadata:u??null})})}let i,a=null;t.start({onReceiveMetadata(o){i=o,t.startRead()},onReceiveMessage(o){if(a){t.sendStatus({code:Wt.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=o,t.startRead()},onReceiveHalfClose(){if(!a){t.sendStatus({code:Wt.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new Ef.ServerWritableStreamImpl(e.path,t,i,a);try{e.func(r,n)}catch(o){t.sendStatus({code:Wt.Status.UNKNOWN,details:`Server method handler threw error ${o.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"))}})}function Ine(t,e){let r;function n(i,a,o,s){if(i){t.sendStatus((0,Ef.serverErrorToStatus)(i,o));return}t.sendMessage(a,()=>{t.sendStatus({code:Wt.Status.OK,details:"OK",metadata:o??null})})}t.start({onReceiveMetadata(i){r=new Ef.ServerDuplexStreamImpl(e.path,t,i);try{e.func(r,n)}catch(a){t.sendStatus({code:Wt.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(i){r.push(i)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function One(t,e){let r,n,i=null;t.start({onReceiveMetadata(a){n=a,t.startRead()},onReceiveMessage(a){if(i){t.sendStatus({code:Wt.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}i=a,t.startRead()},onReceiveHalfClose(){if(!i){t.sendStatus({code:Wt.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new Ef.ServerWritableStreamImpl(e.path,t,n,i);try{e.func(r)}catch(a){t.sendStatus({code:Wt.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function Nne(t,e){let r;t.start({onReceiveMetadata(n){r=new Ef.ServerDuplexStreamImpl(e.path,t,n);try{e.func(r)}catch(i){t.sendStatus({code:Wt.Status.UNKNOWN,details:`Server method handler threw error ${i.message}`,metadata:null})}},onReceiveMessage(n){r.push(n)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}});var Qq=h(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.StatusBuilder=void 0;var MO=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};lv.StatusBuilder=MO});var LO=h(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.isDuration=Qo.durationToMs=Qo.msToDuration=void 0;function Rne(t){return{seconds:t/1e3|0,nanos:t%1e3*1e6|0}}Qo.msToDuration=Rne;function wne(t){return t.seconds*1e3+t.nanos/1e6|0}Qo.durationToMs=wne;function Pne(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}Qo.isDuration=Pne});var cv=h(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.setup=Kn.LeafLoadBalancer=Kn.PickFirstLoadBalancer=Kn.shuffled=Kn.PickFirstLoadBalancingConfig=void 0;var qO=du(),Gt=Fn(),Tf=wo(),xne=yt(),Bne=Me(),Kq=wi(),Zq=Ve("net"),Dne="pick_first";function FO(t){xne.trace(Bne.LogVerbosity.DEBUG,Dne,t)}var zm="pick_first",Mne=250,Ko=class{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return zm}toJsonObject(){return{[zm]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new Ko(e.shuffleAddressList===!0)}};Kn.PickFirstLoadBalancingConfig=Ko;var UO=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Tf.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Xq(t){let e=t.slice();for(let r=e.length-1;r>1;r--){let n=Math.floor(Math.random()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}return e}Kn.shuffled=Xq;function Lne(t){let e=[],r=[],n=[],i=(0,Kq.isTcpSubchannelAddress)(t[0])&&(0,Zq.isIPv6)(t[0].host);for(let s of t)(0,Kq.isTcpSubchannelAddress)(s)&&(0,Zq.isIPv6)(s.host)?r.push(s):n.push(s);let a=i?r:n,o=i?n:r;for(let s=0;s<Math.max(a.length,o.length);s++)s<a.length&&e.push(a[s]),s<o.length&&e.push(o[s]);return e}var Yq="grpc-node.internal.pick-first.report_health_status",Qm=class{constructor(e,r){this.channelControlHelper=e,this.children=[],this.currentState=Gt.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(n,i,a,o,s)=>{this.onSubchannelStateUpdate(n,i,a,s)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=r[Yq]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(Gt.ConnectivityState.TRANSIENT_FAILURE,new Tf.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(Gt.ConnectivityState.READY,new UO(this.currentPick)):this.children.length===0?this.updateState(Gt.ConnectivityState.IDLE,new Tf.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Gt.ConnectivityState.TRANSIENT_FAILURE,new Tf.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Gt.ConnectivityState.CONNECTING,new Tf.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,r,n,i){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){n!==Gt.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){n===Gt.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),n===Gt.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[r,n]of this.children.entries())if(r>=e){let i=n.subchannel.getConnectivityState();if(i===Gt.ConnectivityState.IDLE||i===Gt.ConnectivityState.CONNECTING){this.startConnecting(r);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var r,n;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Gt.ConnectivityState.IDLE&&(FO("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},Mne),(n=(r=this.connectionDelayTimeout).unref)===null||n===void 0||n.call(r)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(FO("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,r){FO(Gt.ConnectivityState[this.currentState]+" -> "+Gt.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let r=e.map(n=>({subchannel:this.channelControlHelper.createSubchannel(n,{}),hasReportedTransientFailure:!1}));for(let{subchannel:n}of r)n.ref(),this.channelControlHelper.addChannelzChild(n.getChannelzRef());this.resetSubchannelList(),this.children=r;for(let{subchannel:n}of this.children)if(n.addConnectivityStateListener(this.subchannelStateListener),n.getConnectivityState()===Gt.ConnectivityState.READY){this.pickSubchannel(n);return}for(let n of this.children)n.subchannel.getConnectivityState()===Gt.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,r){if(!(r instanceof Ko))return;r.getShuffleAddressList()&&(e=Xq(e));let n=[].concat(...e.map(a=>a.addresses));if(n.length===0)throw new Error("No addresses in endpoint list passed to pick_first");let i=Lne(n);this.latestAddressList=i,this.connectToAddressList(i)}exitIdle(){this.currentState===Gt.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return zm}};Kn.PickFirstLoadBalancer=Qm;var Fne=new Ko(!1),VO=class{constructor(e,r,n){this.endpoint=e,this.latestState=Gt.ConnectivityState.IDLE;let i=(0,qO.createChildChannelControlHelper)(r,{updateState:(a,o)=>{this.latestState=a,this.latestPicker=o,r.updateState(a,o)}});this.pickFirstBalancer=new Qm(i,Object.assign(Object.assign({},n),{[Yq]:!0})),this.latestPicker=new Tf.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],Fne)}updateEndpoint(e){this.endpoint=e,this.latestState!==Gt.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};Kn.LeafLoadBalancer=VO;function qne(){(0,qO.registerLoadBalancerType)(zm,Qm,Ko),(0,qO.registerDefaultLoadBalancerType)(zm)}Kn.setup=qne});var WO=h(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.BaseSubchannelWrapper=fe.registerAdminService=fe.FilterStackFactory=fe.BaseFilter=fe.PickResultType=fe.QueuePicker=fe.UnavailablePicker=fe.ChildLoadBalancerHandler=fe.EndpointMap=fe.endpointHasAddress=fe.endpointToString=fe.subchannelAddressToString=fe.LeafLoadBalancer=fe.isLoadBalancerNameRegistered=fe.parseLoadBalancingConfig=fe.selectLbConfigFromList=fe.registerLoadBalancerType=fe.createChildChannelControlHelper=fe.BackoffTimeout=fe.durationToMs=fe.uriToString=fe.createResolver=fe.registerResolver=fe.log=fe.trace=void 0;var $q=yt();Object.defineProperty(fe,"trace",{enumerable:!0,get:function(){return $q.trace}});Object.defineProperty(fe,"log",{enumerable:!0,get:function(){return $q.log}});var jq=ia();Object.defineProperty(fe,"registerResolver",{enumerable:!0,get:function(){return jq.registerResolver}});Object.defineProperty(fe,"createResolver",{enumerable:!0,get:function(){return jq.createResolver}});var Une=yn();Object.defineProperty(fe,"uriToString",{enumerable:!0,get:function(){return Une.uriToString}});var Vne=LO();Object.defineProperty(fe,"durationToMs",{enumerable:!0,get:function(){return Vne.durationToMs}});var Jne=gm();Object.defineProperty(fe,"BackoffTimeout",{enumerable:!0,get:function(){return Jne.BackoffTimeout}});var Km=du();Object.defineProperty(fe,"createChildChannelControlHelper",{enumerable:!0,get:function(){return Km.createChildChannelControlHelper}});Object.defineProperty(fe,"registerLoadBalancerType",{enumerable:!0,get:function(){return Km.registerLoadBalancerType}});Object.defineProperty(fe,"selectLbConfigFromList",{enumerable:!0,get:function(){return Km.selectLbConfigFromList}});Object.defineProperty(fe,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return Km.parseLoadBalancingConfig}});Object.defineProperty(fe,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return Km.isLoadBalancerNameRegistered}});var Wne=cv();Object.defineProperty(fe,"LeafLoadBalancer",{enumerable:!0,get:function(){return Wne.LeafLoadBalancer}});var dv=wi();Object.defineProperty(fe,"subchannelAddressToString",{enumerable:!0,get:function(){return dv.subchannelAddressToString}});Object.defineProperty(fe,"endpointToString",{enumerable:!0,get:function(){return dv.endpointToString}});Object.defineProperty(fe,"endpointHasAddress",{enumerable:!0,get:function(){return dv.endpointHasAddress}});Object.defineProperty(fe,"EndpointMap",{enumerable:!0,get:function(){return dv.EndpointMap}});var Gne=X0();Object.defineProperty(fe,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Gne.ChildLoadBalancerHandler}});var JO=wo();Object.defineProperty(fe,"UnavailablePicker",{enumerable:!0,get:function(){return JO.UnavailablePicker}});Object.defineProperty(fe,"QueuePicker",{enumerable:!0,get:function(){return JO.QueuePicker}});Object.defineProperty(fe,"PickResultType",{enumerable:!0,get:function(){return JO.PickResultType}});var Hne=eO();Object.defineProperty(fe,"BaseFilter",{enumerable:!0,get:function(){return Hne.BaseFilter}});var zne=YI();Object.defineProperty(fe,"FilterStackFactory",{enumerable:!0,get:function(){return zne.FilterStackFactory}});var Qne=j0();Object.defineProperty(fe,"registerAdminService",{enumerable:!0,get:function(){return Qne.registerAdminService}});var Kne=jy();Object.defineProperty(fe,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return Kne.BaseSubchannelWrapper}})});var eU=h(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.setup=void 0;var Zne=ia(),GO=class{constructor(e,r,n){this.listener=r,this.hasReturnedResult=!1,this.endpoints=[];let i;e.authority===""?i="/"+e.path:i=e.path,this.endpoints=[{addresses:[{path:i}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}};function Xne(){(0,Zne.registerResolver)("unix",GO)}fv.setup=Xne});var aU=h(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.setup=void 0;var tU=Ve("net"),hv=Me(),HO=Br(),rU=ia(),nU=yn(),Yne=yt(),$ne="ip_resolver";function iU(t){Yne.trace(hv.LogVerbosity.DEBUG,$ne,t)}var zO="ipv4",QO="ipv6",jne=443,pv=class{constructor(e,r,n){var i;this.listener=r,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,iU("Resolver constructed for target "+(0,nU.uriToString)(e));let a=[];if(!(e.scheme===zO||e.scheme===QO)){this.error={code:hv.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new HO.Metadata};return}let o=e.path.split(",");for(let s of o){let u=(0,nU.splitHostPort)(s);if(u===null){this.error={code:hv.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new HO.Metadata};return}if(e.scheme===zO&&!(0,tU.isIPv4)(u.host)||e.scheme===QO&&!(0,tU.isIPv6)(u.host)){this.error={code:hv.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new HO.Metadata};return}a.push({host:u.host,port:(i=u.port)!==null&&i!==void 0?i:jne})}this.endpoints=a.map(s=>({addresses:[s]})),iU("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function eie(){(0,rU.registerResolver)(zO,pv),(0,rU.registerResolver)(QO,pv)}mv.setup=eie});var lU=h(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.setup=Af.RoundRobinLoadBalancer=void 0;var uU=du(),_n=Fn(),KO=wo(),tie=yt(),rie=Me(),oU=wi(),nie=cv(),iie="round_robin";function sU(t){tie.trace(rie.LogVerbosity.DEBUG,iie,t)}var gv="round_robin",Zm=class{getLoadBalancerName(){return gv}constructor(){}toJsonObject(){return{[gv]:{}}}static createFromJson(e){return new Zm}},ZO=class{constructor(e,r=0){this.children=e,this.nextIndex=r}pick(e){let r=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,r.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},yv=class{constructor(e,r){this.channelControlHelper=e,this.options=r,this.children=[],this.currentState=_n.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,uU.createChildChannelControlHelper)(e,{updateState:(n,i)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(r=>r.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(_n.ConnectivityState.READY)>0){let e=this.children.filter(n=>n.getConnectivityState()===_n.ConnectivityState.READY),r=0;if(this.currentReadyPicker!==null){let n=this.currentReadyPicker.peekNextEndpoint();r=e.findIndex(i=>(0,oU.endpointEqual)(i.getEndpoint(),n)),r<0&&(r=0)}this.updateState(_n.ConnectivityState.READY,new ZO(e.map(n=>({endpoint:n.getEndpoint(),picker:n.getPicker()})),r))}else this.countChildrenWithState(_n.ConnectivityState.CONNECTING)>0?this.updateState(_n.ConnectivityState.CONNECTING,new KO.QueuePicker(this)):this.countChildrenWithState(_n.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(_n.ConnectivityState.TRANSIENT_FAILURE,new KO.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(_n.ConnectivityState.IDLE,new KO.QueuePicker(this));for(let e of this.children)e.getConnectivityState()===_n.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,r){sU(_n.ConnectivityState[this.currentState]+" -> "+_n.ConnectivityState[e]),e===_n.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,r)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,r){this.resetSubchannelList(),sU("Connect to endpoint list "+e.map(oU.endpointToString)),this.updatesPaused=!0,this.children=e.map(n=>new nie.LeafLoadBalancer(n,this.childChannelControlHelper,this.options));for(let n of this.children)n.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return gv}};Af.RoundRobinLoadBalancer=yv;function aie(){(0,uU.registerLoadBalancerType)(gv,yv,Zm)}Af.setup=aie});var fU=h(Zo=>{"use strict";var XO;Object.defineProperty(Zo,"__esModule",{value:!0});Zo.setup=Zo.OutlierDetectionLoadBalancer=Zo.OutlierDetectionLoadBalancingConfig=void 0;var oie=Fn(),cU=Me(),Tu=LO(),dU=WO(),sie=du(),uie=X0(),lie=wo(),YO=wi(),cie=jy(),die=yt(),fie="outlier_detection";function ir(t){die.trace(cU.LogVerbosity.DEBUG,fie,t)}var nN="outlier_detection",hie=((XO=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&XO!==void 0?XO:"true")==="true",pie={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},mie={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Cf(t,e,r,n){if(e in t&&t[e]!==void 0&&typeof t[e]!==r){let i=n?`${n}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof t[e]}`)}}function $O(t,e,r){let n=r?`${r}.${e}`:e;if(e in t&&t[e]!==void 0){if(!(0,Tu.isDuration)(t[e]))throw new Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function vv(t,e,r){let n=r?`${r}.${e}`:e;if(Cf(t,e,"number",r),e in t&&t[e]!==void 0&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}var Au=class{constructor(e,r,n,i,a,o,s){if(this.childPolicy=s,s.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=r??3e4,this.maxEjectionTimeMs=n??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=a?Object.assign(Object.assign({},pie),a):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},mie),o):null}getLoadBalancerName(){return nN}toJsonObject(){var e,r;return{outlier_detection:{interval:(0,Tu.msToDuration)(this.intervalMs),base_ejection_time:(0,Tu.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Tu.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(r=this.failurePercentageEjection)!==null&&r!==void 0?r:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var r;if($O(e,"interval"),$O(e,"base_ejection_time"),$O(e,"max_ejection_time"),vv(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Cf(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),vv(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Cf(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Cf(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");vv(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),vv(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Cf(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Cf(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let n=(0,sie.selectLbConfigFromList)(e.child_policy);if(!n)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new Au(e.interval?(0,Tu.durationToMs)(e.interval):null,e.base_ejection_time?(0,Tu.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Tu.durationToMs)(e.max_ejection_time):null,(r=e.max_ejection_percent)!==null&&r!==void 0?r:null,e.success_rate_ejection,e.failure_percentage_ejection,n)}};Zo.OutlierDetectionLoadBalancingConfig=Au;var eN=class extends cie.BaseSubchannelWrapper{constructor(e,r){super(e),this.mapEntry=r,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function jO(){return{success:0,failure:0}}var tN=class{constructor(){this.activeBucket=jO(),this.inactiveBucket=jO()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=jO()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},rN=class{constructor(e,r){this.wrappedPicker=e,this.countCalls=r}pick(e){let r=this.wrappedPicker.pick(e);if(r.pickResultType===lie.PickResultType.COMPLETE){let n=r.subchannel,i=n.getMapEntry();if(i){let a=r.onCallEnded;return this.countCalls&&(a=o=>{var s;o===cU.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(s=r.onCallEnded)===null||s===void 0||s.call(r,o)}),Object.assign(Object.assign({},r),{subchannel:n.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},r),{subchannel:n.getWrappedSubchannel()})}else return r}},bv=class{constructor(e,r){this.entryMap=new YO.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new uie.ChildLoadBalancerHandler((0,dU.createChildChannelControlHelper)(e,{createSubchannel:(n,i)=>{let a=e.createSubchannel(n,i),o=this.entryMap.getForSubchannelAddress(n),s=new eN(a,o);return o?.currentEjectionTimestamp!==null&&s.eject(),o?.subchannelWrappers.push(s),s},updateState:(n,i)=>{n===oie.ConnectivityState.READY?e.updateState(n,new rN(i,this.isCountingEnabled())):e.updateState(n,i)}}),r),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let r of this.entryMap.values())r.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getSuccessRateEjectionConfig();if(!r)return;ir("Running success rate check");let n=r.request_volume,i=0,a=[];for(let[d,f]of this.entryMap.entries()){let p=f.counter.getLastSuccesses(),g=f.counter.getLastFailures();ir("Stats for "+(0,YO.endpointToString)(d)+": successes="+p+" failures="+g+" targetRequestVolume="+n),p+g>=n&&(i+=1,a.push(p/(p+g)))}if(ir("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),i<r.minimum_hosts)return;let o=a.reduce((d,f)=>d+f)/a.length,s=0;for(let d of a){let f=d-o;s+=f*f}let u=s/a.length,l=Math.sqrt(u),c=o-l*(r.stdev_factor/1e3);ir("stdev="+l+" ejectionThreshold="+c);for(let[d,f]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let p=f.counter.getLastSuccesses(),g=f.counter.getLastFailures();if(p+g<n)continue;let m=p/(p+g);if(ir("Checking candidate "+d+" successRate="+m),m<c){let b=Math.random()*100;ir("Candidate "+d+" randomNumber="+b+" enforcement_percentage="+r.enforcement_percentage),b<r.enforcement_percentage&&(ir("Ejecting candidate "+d),this.eject(f,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getFailurePercentageEjectionConfig();if(!r)return;ir("Running failure percentage check. threshold="+r.threshold+" request volume threshold="+r.request_volume);let n=0;for(let i of this.entryMap.values()){let a=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();a+o>=r.request_volume&&(n+=1)}if(!(n<r.minimum_hosts))for(let[i,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=a.counter.getLastSuccesses(),s=a.counter.getLastFailures();if(ir("Candidate successes="+o+" failures="+s),o+s<r.request_volume)continue;if(s*100/(s+o)>r.threshold){let l=Math.random()*100;ir("Candidate "+i+" randomNumber="+l+" enforcement_percentage="+r.enforcement_percentage),l<r.enforcement_percentage&&(ir("Ejecting candidate "+i),this.eject(a,e))}}}eject(e,r){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let n of e.subchannelWrappers)n.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let r of e.subchannelWrappers)r.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var r,n;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(n=(r=this.ejectionTimer).unref)===null||n===void 0||n.call(r)}runChecks(){let e=new Date;if(ir("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[r,n]of this.entryMap.entries())if(n.currentEjectionTimestamp===null)n.ejectionTimeMultiplier>0&&(n.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(n.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*n.ejectionTimeMultiplier,Math.max(i,a))),o<new Date&&(ir("Unejecting "+r),this.uneject(n))}}}updateAddressList(e,r,n){if(!(r instanceof Au))return;for(let a of e)this.entryMap.has(a)||(ir("Adding map entry for "+(0,YO.endpointToString)(a)),this.entryMap.set(a,{counter:new tN,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let i=r.getChildPolicy();if(this.childBalancer.updateAddressList(e,i,n),r.getSuccessRateEjectionConfig()||r.getFailurePercentageEjectionConfig())if(this.timerStartTime){ir("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=r.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else ir("Starting new timer"),this.timerStartTime=new Date,this.startTimer(r.getIntervalMs()),this.switchAllBuckets();else{ir("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=r}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return nN}};Zo.OutlierDetectionLoadBalancer=bv;function gie(){hie&&(0,dU.registerLoadBalancerType)(nN,bv,Au)}Zo.setup=gie});var Xo=h(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.experimental=X.ServerInterceptingCall=X.ResponderBuilder=X.ServerListenerBuilder=X.addAdminServicesToServer=X.getChannelzHandlers=X.getChannelzServiceDefinition=X.InterceptorConfigurationError=X.InterceptingCall=X.RequesterBuilder=X.ListenerBuilder=X.StatusBuilder=X.getClientChannel=X.ServerCredentials=X.Server=X.setLogVerbosity=X.setLogger=X.load=X.loadObject=X.CallCredentials=X.ChannelCredentials=X.waitForClientReady=X.closeClient=X.Channel=X.makeGenericClientConstructor=X.makeClientConstructor=X.loadPackageDefinition=X.Client=X.compressionAlgorithms=X.propagate=X.connectivityState=X.status=X.logVerbosity=X.Metadata=X.credentials=void 0;var Sv=sk();Object.defineProperty(X,"CallCredentials",{enumerable:!0,get:function(){return Sv.CallCredentials}});var yie=Fk();Object.defineProperty(X,"Channel",{enumerable:!0,get:function(){return yie.ChannelImplementation}});var vie=$I();Object.defineProperty(X,"compressionAlgorithms",{enumerable:!0,get:function(){return vie.CompressionAlgorithms}});var bie=Fn();Object.defineProperty(X,"connectivityState",{enumerable:!0,get:function(){return bie.ConnectivityState}});var _v=W0();Object.defineProperty(X,"ChannelCredentials",{enumerable:!0,get:function(){return _v.ChannelCredentials}});var hU=Lk();Object.defineProperty(X,"Client",{enumerable:!0,get:function(){return hU.Client}});var iN=Me();Object.defineProperty(X,"logVerbosity",{enumerable:!0,get:function(){return iN.LogVerbosity}});Object.defineProperty(X,"status",{enumerable:!0,get:function(){return iN.Status}});Object.defineProperty(X,"propagate",{enumerable:!0,get:function(){return iN.Propagate}});var pU=yt(),aN=Uk();Object.defineProperty(X,"loadPackageDefinition",{enumerable:!0,get:function(){return aN.loadPackageDefinition}});Object.defineProperty(X,"makeClientConstructor",{enumerable:!0,get:function(){return aN.makeClientConstructor}});Object.defineProperty(X,"makeGenericClientConstructor",{enumerable:!0,get:function(){return aN.makeClientConstructor}});var Sie=Br();Object.defineProperty(X,"Metadata",{enumerable:!0,get:function(){return Sie.Metadata}});var _ie=zq();Object.defineProperty(X,"Server",{enumerable:!0,get:function(){return _ie.Server}});var Eie=kO();Object.defineProperty(X,"ServerCredentials",{enumerable:!0,get:function(){return Eie.ServerCredentials}});var Tie=Qq();Object.defineProperty(X,"StatusBuilder",{enumerable:!0,get:function(){return Tie.StatusBuilder}});X.credentials={combineChannelCredentials:(t,...e)=>e.reduce((r,n)=>r.compose(n),t),combineCallCredentials:(t,...e)=>e.reduce((r,n)=>r.compose(n),t),createInsecure:_v.ChannelCredentials.createInsecure,createSsl:_v.ChannelCredentials.createSsl,createFromSecureContext:_v.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:Sv.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:Sv.CallCredentials.createFromGoogleCredential,createEmpty:Sv.CallCredentials.createEmpty};var Aie=t=>t.close();X.closeClient=Aie;var Cie=(t,e,r)=>t.waitForReady(e,r);X.waitForClientReady=Cie;var kie=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};X.loadObject=kie;var Iie=(t,e,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};X.load=Iie;var Oie=t=>{pU.setLogger(t)};X.setLogger=Oie;var Nie=t=>{pU.setLoggerVerbosity(t)};X.setLogVerbosity=Nie;var Rie=t=>hU.Client.prototype.getChannel.call(t);X.getClientChannel=Rie;var Ev=Bk();Object.defineProperty(X,"ListenerBuilder",{enumerable:!0,get:function(){return Ev.ListenerBuilder}});Object.defineProperty(X,"RequesterBuilder",{enumerable:!0,get:function(){return Ev.RequesterBuilder}});Object.defineProperty(X,"InterceptingCall",{enumerable:!0,get:function(){return Ev.InterceptingCall}});Object.defineProperty(X,"InterceptorConfigurationError",{enumerable:!0,get:function(){return Ev.InterceptorConfigurationError}});var mU=vu();Object.defineProperty(X,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return mU.getChannelzServiceDefinition}});Object.defineProperty(X,"getChannelzHandlers",{enumerable:!0,get:function(){return mU.getChannelzHandlers}});var wie=j0();Object.defineProperty(X,"addAdminServicesToServer",{enumerable:!0,get:function(){return wie.addAdminServicesToServer}});var oN=xO();Object.defineProperty(X,"ServerListenerBuilder",{enumerable:!0,get:function(){return oN.ServerListenerBuilder}});Object.defineProperty(X,"ResponderBuilder",{enumerable:!0,get:function(){return oN.ResponderBuilder}});Object.defineProperty(X,"ServerInterceptingCall",{enumerable:!0,get:function(){return oN.ServerInterceptingCall}});var Pie=WO();X.experimental=Pie;var xie=VI(),Bie=eU(),Die=aU(),Mie=cv(),Lie=lU(),Fie=fU(),qie=vu();xie.setup(),Bie.setup(),Die.setup(),Mie.setup(),Lie.setup(),Fie.setup(),qie.setup()});var gU=h(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.Metadata=void 0;Tv.Metadata=function(e){let r=new Map,n={set(i,a){if(i=kf(i),Array.isArray(a))if(a.length===0)r.delete(i);else{for(let o of a)sN(i,o);r.set(i,i.endsWith("-bin")?a:[a.join(", ")])}else sN(i,a),r.set(i,[a]);return n},append(i,a){i=kf(i),sN(i,a);let o=r.get(i);return o==null&&(o=[],r.set(i,o)),o.push(a),i.endsWith("-bin")||r.set(i,[o.join(", ")]),n},delete(i){i=kf(i),r.delete(i)},get(i){var a;return i=kf(i),(a=r.get(i))===null||a===void 0?void 0:a[0]},getAll(i){var a;return i=kf(i),(a=r.get(i))!==null&&a!==void 0?a:[]},has(i){return i=kf(i),r.has(i)},[Symbol.iterator](){return r[Symbol.iterator]()}};if(e!=null){let i=Uie(e)?e:Object.entries(e);for(let[a,o]of i)n.set(a,o)}return n};function kf(t){return t.toLowerCase()}function sN(t,e){if(!/^[0-9a-z_.-]+$/.test(t))throw new Error(`Metadata key '${t}' contains illegal characters`);if(t.endsWith("-bin")){if(!(e instanceof Uint8Array))throw new Error(`Metadata key '${t}' ends with '-bin', thus it must have binary value`)}else{if(typeof e!="string")throw new Error(`Metadata key '${t}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(e))throw new Error(`Metadata value '${e}' of key '${t}' contains illegal characters`)}}function Uie(t){return Symbol.iterator in t}});var Av=h(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.Status=void 0;var Vie;(function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(Vie=Xm.Status||(Xm.Status={}))});var vU=h(yU=>{"use strict";Object.defineProperty(yU,"__esModule",{value:!0})});var SU=h(bU=>{"use strict";Object.defineProperty(bU,"__esModule",{value:!0})});var EU=h(_U=>{"use strict";Object.defineProperty(_U,"__esModule",{value:!0})});var TU=h(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.composeClientMiddleware=void 0;function Jie(t,e){return(r,n)=>e(Object.assign(Object.assign({},r),{next:(i,a)=>t(Object.assign(Object.assign({},r),{request:i}),a)}),n)}Cv.composeClientMiddleware=Jie});var uN={};vl(uN,{ExtendableError:()=>kv,default:()=>Wie});var kv,Wie,lN=ae(()=>{kv=class extends Error{constructor(...e){super(...e);var r=e.length>0&&typeof e[0]=="string"?e[0]:"";(this.name===void 0||this.name==="Error")&&Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:this.constructor.name,writable:!0}),Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(this,"stack",{configurable:!0,enumerable:!1,value:"",writable:!0}),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack===""&&(this.stack=new Error(r).stack)}},Wie=kv});var AU=h(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.ClientError=void 0;var Gie=(lN(),Hr(uN)),Hie=Av(),If=class extends Gie.ExtendableError{constructor(e,r,n){super(`${e} ${Hie.Status[r]}: ${n}`),this.path=e,this.code=r,this.details=n,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](e){return this!==If?this.prototype.isPrototypeOf(e):typeof e=="object"&&e!==null&&(e.constructor===If||e["@@nice-grpc:ClientError"]===!0||e.name==="ClientError"&&e["@@nice-grpc"]===!0)}};Iv.ClientError=If});var kU=h(CU=>{"use strict";Object.defineProperty(CU,"__esModule",{value:!0})});var OU=h(IU=>{"use strict";Object.defineProperty(IU,"__esModule",{value:!0})});var NU=h(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.composeServerMiddleware=void 0;function zie(t,e){return(r,n)=>t(Object.assign(Object.assign({},r),{next:(i,a)=>e(Object.assign(Object.assign({},r),{request:i}),a)}),n)}Ov.composeServerMiddleware=zie});var RU=h(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.ServerError=void 0;var Qie=(lN(),Hr(uN)),Kie=Av(),Of=class extends Qie.ExtendableError{constructor(e,r){super(`${Kie.Status[e]}: ${r}`),this.code=e,this.details=r,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](e){return this!==Of?this.prototype.isPrototypeOf(e):typeof e=="object"&&e!==null&&(e.constructor===Of||e["@@nice-grpc:ServerError"]===!0||e.name==="ServerError"&&e["@@nice-grpc"]===!0)}};Nv.ServerError=Of});var Mr=h(ar=>{"use strict";var Zie=ar&&ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Li=ar&&ar.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zie(e,t,r)};Object.defineProperty(ar,"__esModule",{value:!0});Li(gU(),ar);Li(Av(),ar);Li(vU(),ar);Li(SU(),ar);Li(EU(),ar);Li(TU(),ar);Li(AU(),ar);Li(kU(),ar);Li(OU(),ar);Li(NU(),ar);Li(RU(),ar)});var wU=h(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.fromGrpcJsServiceDefinition=Xie;Rv.isGrpcJsServiceDefinition=Yie;function Xie(t){let e={};for(let[r,n]of Object.entries(t))e[r]={path:n.path,requestStream:n.requestStream,responseStream:n.responseStream,requestDeserialize:i=>n.requestDeserialize(Buffer.from(i)),requestSerialize:n.requestSerialize,responseDeserialize:i=>n.responseDeserialize(Buffer.from(i)),responseSerialize:n.responseSerialize,options:{}};return e}function Yie(t){return Object.values(t).every(e=>typeof e=="object"&&e!=null&&typeof e.path=="string")}});var PU=h(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.fromTsProtoServiceDefinition=$ie;wv.isTsProtoServiceDefinition=jie;function $ie(t){let e={};for(let[r,n]of Object.entries(t.methods)){let i=n.requestType.encode,a=n.requestType.fromPartial,o=n.responseType.encode,s=n.responseType.fromPartial;e[r]={path:`/${t.fullName}/${n.name}`,requestStream:n.requestStream,responseStream:n.responseStream,requestDeserialize:n.requestType.decode,requestSerialize:a!=null?u=>i(a(u)).finish():u=>i(u).finish(),responseDeserialize:n.responseType.decode,responseSerialize:s!=null?u=>o(s(u)).finish():u=>o(u).finish(),options:n.options}}return e}function jie(t){return"name"in t&&"fullName"in t&&"methods"in t}});var Cu=h(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.normalizeServiceDefinition=eae;Ym.toGrpcJsServiceDefinition=tae;Ym.toGrpcJsMethodDefinition=DU;var xU=wU(),BU=PU();function eae(t){return(0,xU.isGrpcJsServiceDefinition)(t)?(0,xU.fromGrpcJsServiceDefinition)(t):(0,BU.isTsProtoServiceDefinition)(t)?(0,BU.fromTsProtoServiceDefinition)(t):t}function tae(t){let e={};for(let[r,n]of Object.entries(t))e[r]=DU(n);return e}function DU(t){return{path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,requestDeserialize:t.requestDeserialize,requestSerialize:e=>Buffer.from(t.requestSerialize(e)),responseDeserialize:t.responseDeserialize,responseSerialize:e=>Buffer.from(t.responseSerialize(e))}}});function En(t){return typeof t=="object"&&t!==null&&t.name==="AbortError"}function rae(t){if(t.aborted)throw new Lr}function cN(t){if(En(t))throw t}function ku(t){if(!En(t))throw t}var Lr,Za=ae(()=>{Lr=class extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}});function Fi(t,e){return new Promise((r,n)=>{if(t.aborted){n(new Lr);return}let i,a=!1;function o(){a||(a=!0,i?.())}let s=e(u=>{r(u),o()},u=>{n(u),o()});if(!a){let u=()=>{let l=s();l==null?n(new Lr):l.then(()=>{n(new Lr)},c=>{n(c)}),o()};t.addEventListener("abort",u),i=()=>{t.removeEventListener("abort",u)}}})}var Iu=ae(()=>{Za()});function nae(t,e){if(t.aborted){let r=()=>{};e.then(r,r)}return Fi(t,(r,n)=>(e.then(r,n),()=>{}))}var MU=ae(()=>{Iu()});function $m(t,e){return Fi(t,r=>{let n=typeof e=="number"?e:e.getTime()-Date.now(),i=setTimeout(r,n);return()=>{clearTimeout(i)}})}var Pv=ae(()=>{Iu()});function iae(t){return Fi(t,()=>()=>{})}var LU=ae(()=>{Iu()});function aae(t,e,r,n){return Fi(t,i=>{let a,o=!1;return a=oae(e,r,(...u)=>{i(u.length>1?u:u[0]),o=!0,a?.()},n),o&&a(),()=>{o=!0,a?.()}})}function oae(t,e,r,n){if(lae(t))return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n);if(uae(t))return t.on(e,r),()=>t.off(e,r);if(sae(t))return t.addListener(e,r),()=>t.removeListener(e,r);throw new Error("Invalid event target")}function sae(t){return Nf(t.addListener)&&Nf(t.removeListener)}function uae(t){return Nf(t.on)&&Nf(t.off)}function lae(t){return Nf(t.addEventListener)&&Nf(t.removeEventListener)}var Nf,FU=ae(()=>{Iu();Nf=t=>typeof t=="function"});function cae(t,e){return new Promise((r,n)=>{if(t.aborted){n(new Lr);return}let i=new AbortController,a=e(i.signal);if(a.length===0){r([]);return}let o=()=>{i.abort()};t.addEventListener("abort",o);let s,u=new Array(a.length),l=0;function c(){l+=1,l===a.length&&(t.removeEventListener("abort",o),s!=null?n(s.reason):r(u))}for(let[d,f]of a.entries())f.then(p=>{u[d]=p,c()},p=>{i.abort(),(s==null||!En(p)&&En(s.reason))&&(s={reason:p}),c()})})}var qU=ae(()=>{Za()});function dae(t,e){return new Promise((r,n)=>{if(t.aborted){n(new Lr);return}let i=new AbortController,a=e(i.signal),o=()=>{i.abort()};t.addEventListener("abort",o);let s=0;function u(c){i.abort(),s+=1,s===a.length&&(t.removeEventListener("abort",o),c.status==="fulfilled"?r(c.value):n(c.reason))}let l;for(let c of a)c.then(d=>{l==null&&(l={status:"fulfilled",value:d}),u(l)},d=>{(l==null||!En(d)&&(l.status==="fulfilled"||En(l.reason)))&&(l={status:"rejected",reason:d}),u(l)})})}var UU=ae(()=>{Za()});async function fae(t,e,r={}){let{baseMs:n=1e3,maxDelayMs:i=3e4,onError:a,maxAttempts:o=1/0}=r,s=0,u=()=>{s=-1};for(;;)try{return await e(t,s,u)}catch(l){if(cN(l),s>=o)throw l;let c;if(s===-1)c=0;else{let d=Math.min(i,Math.pow(2,s)*n);c=Math.round(d*(1+Math.random())/2)}a&&a(l,s,c),c!==0&&await $m(t,c),s+=1}}var VU=ae(()=>{Pv();Za()});function hae(t,e){if(t.aborted)return Promise.reject(new Lr);let r=[],n=new AbortController,i=n.signal,a=()=>{n.abort()};t.addEventListener("abort",a);let o=()=>{t.removeEventListener("abort",a)},s=new Set,u=()=>{for(let d of s)d.abort()};i.addEventListener("abort",u);let l=()=>{i.removeEventListener("abort",u)},c=new Promise((d,f)=>{let p,g;m(b=>e(b,{defer(v){r.push(v)},fork:m})).join().then(b=>{n.abort(),p={value:b}},b=>{n.abort(),(!En(b)||g==null)&&(g={error:b})});function m(b){if(i.aborted)return{abort(){},async join(){throw new Lr}};let v=new AbortController,E=v.signal,k=b(E),O={abort(){v.abort()},join:()=>k};return s.add(O),k.catch(ku).catch(M=>{g={error:M},n.abort()}).finally(()=>{s.delete(O),s.size===0&&(g!=null?f(g.error):d(p.value))}),O}});return c=c.finally(()=>{o(),l();let d=Promise.resolve();for(let f=r.length-1;f>=0;f--)d=d.finally(r[f]);return d}),c}var JU=ae(()=>{Za()});function pae(t){let e=new AbortController,r=t(e.signal).catch(ku);return()=>(e.abort(),r)}var WU=ae(()=>{Za()});function mae(t,e,r={}){let{baseMs:n=1e3,onError:i,maxAttempts:a=1/0}=r;return Fi(t,(o,s)=>{let u=new AbortController,l=!1,c=new Map;function d(g){u.abort(),c.clear(),o(g)}function f(g,m){if(c.delete(m),l&&c.size===0){s(g);return}if(!En(g)&&i)try{i(g,m)}catch(b){u.abort(),c.clear(),s(b)}}async function p(g){for(let m=0;;m++){let b=e(g,m);if(c.set(m,b),b.then(d,k=>f(k,m)),m+1>=a)break;let v=Math.pow(2,m)*n,E=Math.round(v*(1+Math.random())/2);await $m(g,E)}l=!0}return p(u.signal).catch(ku),()=>{u.abort()}})}var GU=ae(()=>{Za();Pv();Iu()});var Yo={};vl(Yo,{AbortError:()=>Lr,abortable:()=>nae,all:()=>cae,catchAbortError:()=>ku,delay:()=>$m,execute:()=>Fi,forever:()=>iae,isAbortError:()=>En,proactiveRetry:()=>mae,race:()=>dae,rethrowAbortError:()=>cN,retry:()=>fae,run:()=>pae,spawn:()=>hae,throwIfAborted:()=>rae,waitForEvent:()=>aae});var $o=ae(()=>{MU();Za();Pv();Iu();LU();FU();qU();UU();VU();JU();WU();GU()});var va=h(ya=>{"use strict";var gae=ya&&ya.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yae=ya&&ya.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vae=ya&&ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gae(e,t,r);return yae(e,t),e};Object.defineProperty(ya,"__esModule",{value:!0});ya.convertMetadataToGrpcJs=_ae;ya.convertMetadataFromGrpcJs=Eae;var bae=vae(Xo()),Sae=Mr();function _ae(t){let e=new bae.Metadata;for(let[r,n]of t)for(let i of n)e.add(r,typeof i=="string"?i:Buffer.from(i));return e}function Eae(t){let e=(0,Sae.Metadata)();for(let r of Object.keys(t.getMap())){let n=t.get(r);e.set(r,n)}return e}});var Xa=h(dN=>{"use strict";Object.defineProperty(dN,"__esModule",{value:!0});dN.isAsyncIterable=Tae;function Tae(t){return t!=null&&Symbol.asyncIterator in t}});var jm=h(fN=>{"use strict";Object.defineProperty(fN,"__esModule",{value:!0});fN.readableToAsyncIterable=Cae;var HU=!1;function Aae(t){if(HU)return!0;let e=t&&typeof t=="object"&&"errored"in t&&"errorEmitted"in t&&"endEmitted"in t&&"closeEmitted"in t&&typeof t.errorEmitted=="boolean"&&typeof t.endEmitted=="boolean"&&typeof t.closeEmitted=="boolean";return HU=e,e}async function*Cae(t){let e=zU;function r(u){this===t?(e(),e=zU):e=u}let n=t._readableState;if(!Aae(n))throw new Error("nice-grpc: _readableState members incompatible");let i=n.errored,a=n.errorEmitted,o=n.endEmitted,s=n.closeEmitted;for(t.on("readable",r).on("error",function(u){i=u,a=!0,r.call(this)}).on("end",function(){o=!0,r.call(this)}).on("close",function(){s=!0,r.call(this)});;){let u=t.destroyed?null:t.read();if(u!==null)yield u;else{if(a)throw i;if(o)break;if(s)break;await new Promise(r)}}}var zU=()=>{}});var eg=h(hN=>{"use strict";Object.defineProperty(hN,"__esModule",{value:!0});hN.createCallContext=kae;var QU=Mr(),KU=va();function kae(t){let e=new AbortController,r={signal:e.signal,cancel(){e.abort()}},n=(0,QU.Metadata)(),i=(0,QU.Metadata)();t.cancelled?(r.cancel?.(),r.cancel=void 0):(t.on("close",()=>{r.cancel=void 0}),t.on("finish",()=>{r.cancel=void 0}),t.on("cancelled",()=>{r.cancel?.(),r.cancel=void 0}));let a=!1;return{context:{metadata:(0,KU.convertMetadataFromGrpcJs)(t.metadata),peer:t.getPeer(),header:n,sendHeader(){a||(t.sendMetadata((0,KU.convertMetadataToGrpcJs)(n)),a=!0)},trailer:i,signal:r.signal},maybeCancel:r}}});var tg=h(pN=>{"use strict";Object.defineProperty(pN,"__esModule",{value:!0});pN.createErrorStatusObject=Nae;var ZU=Xo(),Iae=($o(),Hr(Yo)),Oae=Mr();function Nae(t,e,r){return e instanceof Oae.ServerError?{code:e.code,details:e.details,metadata:r}:(0,Iae.isAbortError)(e)?{code:ZU.status.CANCELLED,details:"The operation was cancelled",metadata:r}:(process.emitWarning(`${t}: Uncaught error in server implementation method. Server methods should only throw ServerError or AbortError. ${e instanceof Error?e.stack:e}`),{code:ZU.status.UNKNOWN,details:"Unknown server error occurred",metadata:r})}});var $U=h(mN=>{"use strict";Object.defineProperty(mN,"__esModule",{value:!0});mN.createBidiStreamingMethodHandler=Bae;var XU=($o(),Hr(Yo)),YU=va(),Rae=Xa(),wae=jm(),Pae=eg(),xae=tg();function Bae(t,e,r){let n={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*i(o,s){if(!(0,Rae.isAsyncIterable)(o))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");yield*e(o,s)}let a=r==null?i:(o,s)=>r({method:n,requestStream:!0,request:o,responseStream:!0,next:i},s);return o=>{let{context:s,maybeCancel:u}=(0,Pae.createCallContext)(o);Promise.resolve().then(async()=>{let c=a((0,wae.readableToAsyncIterable)(o),s)[Symbol.asyncIterator]();try{let d=await c.next();for(;;){if(!d.done){try{s.sendHeader(),o.write(d.value)||await(0,XU.waitForEvent)(s.signal,o,"drain")}catch(f){d=(0,XU.isAbortError)(f)?await c.return():await c.throw(f);continue}d=await c.next();continue}if(d.value!=null){d=await c.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method"));continue}break}}finally{u.cancel=void 0,s.sendHeader()}}).then(()=>{o.end((0,YU.convertMetadataToGrpcJs)(s.trailer))},l=>{o.emit("error",(0,xae.createErrorStatusObject)(t.path,l,(0,YU.convertMetadataToGrpcJs)(s.trailer)))})}}});var e4=h(gN=>{"use strict";Object.defineProperty(gN,"__esModule",{value:!0});gN.createClientStreamingMethodHandler=qae;var jU=va(),Dae=Xa(),Mae=jm(),Lae=eg(),Fae=tg();function qae(t,e,r){let n={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*i(o,s){if(!(0,Dae.isAsyncIterable)(o))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");return await e(o,s)}let a=r==null?i:(o,s)=>r({method:n,requestStream:!0,request:o,responseStream:!1,next:i},s);return(o,s)=>{let{context:u,maybeCancel:l}=(0,Lae.createCallContext)(o);Promise.resolve().then(async()=>{let d=a((0,Mae.readableToAsyncIterable)(o),u)[Symbol.asyncIterator]();try{let f=await d.next();for(;;){if(!f.done){f=await d.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(f.value==null){f=await d.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return f.value}}finally{l.cancel=void 0,u.sendHeader()}}).then(c=>{s(null,c,(0,jU.convertMetadataToGrpcJs)(u.trailer))},c=>{s((0,Fae.createErrorStatusObject)(t.path,c,(0,jU.convertMetadataToGrpcJs)(u.trailer)))})}}});var n4=h(yN=>{"use strict";Object.defineProperty(yN,"__esModule",{value:!0});yN.createServerStreamingMethodHandler=Wae;var t4=($o(),Hr(Yo)),r4=va(),Uae=Xa(),Vae=eg(),Jae=tg();function Wae(t,e,r){let n={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*i(o,s){if((0,Uae.isAsyncIterable)(o))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");yield*e(o,s)}let a=r==null?i:(o,s)=>r({method:n,requestStream:!1,request:o,responseStream:!0,next:i},s);return o=>{let{context:s,maybeCancel:u}=(0,Vae.createCallContext)(o);Promise.resolve().then(async()=>{let c=a(o.request,s)[Symbol.asyncIterator]();try{let d=await c.next();for(;;){if(!d.done){try{s.sendHeader(),o.write(d.value)||await(0,t4.waitForEvent)(s.signal,o,"drain")}catch(f){d=(0,t4.isAbortError)(f)?await c.return():await c.throw(f);continue}d=await c.next();continue}if(d.value!=null){d=await c.throw(new Error("A middleware returned a message, but expected to return void for server streaming method"));continue}break}}finally{u.cancel=void 0,s.sendHeader()}}).then(()=>{o.end((0,r4.convertMetadataToGrpcJs)(s.trailer))},l=>{o.emit("error",(0,Jae.createErrorStatusObject)(t.path,l,(0,r4.convertMetadataToGrpcJs)(s.trailer)))})}}});var a4=h(vN=>{"use strict";Object.defineProperty(vN,"__esModule",{value:!0});vN.createUnaryMethodHandler=Qae;var i4=va(),Gae=Xa(),Hae=eg(),zae=tg();function Qae(t,e,r){let n={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*i(o,s){if((0,Gae.isAsyncIterable)(o))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");return await e(o,s)}let a=r==null?i:(o,s)=>r({method:n,requestStream:!1,request:o,responseStream:!1,next:i},s);return(o,s)=>{let{context:u,maybeCancel:l}=(0,Hae.createCallContext)(o);Promise.resolve().then(async()=>{let d=a(o.request,u)[Symbol.asyncIterator]();try{let f=await d.next();for(;;){if(!f.done){f=await d.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(f.value==null){f=await d.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return f.value}}finally{l.cancel=void 0,u.sendHeader()}}).then(c=>{s(null,c,(0,i4.convertMetadataToGrpcJs)(u.trailer))},c=>{s((0,zae.createErrorStatusObject)(t.path,c,(0,i4.convertMetadataToGrpcJs)(u.trailer)))})}}});var c4=h(bN=>{"use strict";Object.defineProperty(bN,"__esModule",{value:!0});bN.createServer=$ae;var o4=Xo(),s4=Mr(),u4=Cu(),Kae=$U(),Zae=e4(),Xae=n4(),Yae=a4();function $ae(t={}){return l4(t)}function l4(t,e){let r=[],n;function i(a){return{with(o){return i(a==null?o:(0,s4.composeServerMiddleware)(a,o))},add(o,s){if(n!=null)throw new Error("server.add() must be used before listen()");r.push({definition:(0,u4.normalizeServiceDefinition)(o),middleware:a,implementation:s})}}}return{use(a){if(n!=null)throw new Error("server.use() must be used before listen()");if(r.length>0)throw new Error("server.use() must be used before adding any services");return l4(t,e==null?a:(0,s4.composeServerMiddleware)(e,a))},...i(e),async listen(a,o){if(n!=null)throw new Error("server.listen() has already been called");n=new o4.Server(t);for(let{definition:u,middleware:l,implementation:c}of r){let d={};for(let[f,p]of Object.entries(u)){let g=c[f].bind(c);p.requestStream?p.responseStream?d[f]=(0,Kae.createBidiStreamingMethodHandler)(p,g,l):d[f]=(0,Zae.createClientStreamingMethodHandler)(p,g,l):p.responseStream?d[f]=(0,Xae.createServerStreamingMethodHandler)(p,g,l):d[f]=(0,Yae.createUnaryMethodHandler)(p,g,l)}n.addService((0,u4.toGrpcJsServiceDefinition)(u),d)}return await new Promise((u,l)=>{n.bindAsync(a,o??o4.ServerCredentials.createInsecure(),(c,d)=>{c!=null?(n=void 0,l(c)):u(d)})})},async shutdown(){n!=null&&(await new Promise((a,o)=>{n.tryShutdown(s=>{s!=null?o(s):a()})}),n=void 0)},forceShutdown(){n!=null&&(n.forceShutdown(),n=void 0)}}}});var f4=h(d4=>{"use strict";Object.defineProperty(d4,"__esModule",{value:!0})});var h4=h(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.createChannel=eoe;Bv.waitForChannelReady=toe;var xv=Xo(),jae=new Set(["http","https"]);function eoe(t,e,r={}){let n=/^(?:([^:]+):\/\/)?(.*?)(?::(\d+))?$/.exec(t);if(n==null)throw new Error(`Invalid address: '${t}'`);let[,i,a,o]=n,s=!i||jae.has(i),u=e?._isSecure()||i?.includes("https");e??(e=u?xv.ChannelCredentials.createSsl():xv.ChannelCredentials.createInsecure()),o??(o=u?"443":"80");let l=s?`${a}:${o}`:t;return new xv.Channel(l,e,r)}async function toe(t,e){for(;;){let r=t.getConnectivityState(!0);if(r===xv.connectivityState.READY)return;await new Promise((n,i)=>{t.watchConnectivityState(r,e,a=>{a!=null?i(a):n()})})}}});var rg=h(SN=>{"use strict";Object.defineProperty(SN,"__esModule",{value:!0});SN.wrapClientError=ioe;var roe=Mr(),noe=Xo();function ioe(t,e){return aoe(t)?new roe.ClientError(e,t.code,t.details):t}function aoe(t){return typeof t=="object"&&t!==null&&typeof t.code=="number"&&typeof t.details=="string"&&t.metadata instanceof noe.Metadata}});var p4=h(EN=>{"use strict";Object.defineProperty(EN,"__esModule",{value:!0});EN.createBidiStreamingMethod=doe;var Dv=($o(),Hr(Yo)),ooe=Mr(),soe=Cu(),_N=va(),uoe=Xa(),loe=jm(),coe=rg();function doe(t,e,r,n){let i=(0,soe.toGrpcJsMethodDefinition)(t),a={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*o(u,l){if(!(0,uoe.isAsyncIterable)(u))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");let{metadata:c=(0,ooe.Metadata)(),onHeader:d,onTrailer:f}=l,p=l.signal??new AbortController().signal,g=new AbortController,m=e.makeBidiStreamRequest(i.path,i.requestSerialize,i.responseDeserialize,(0,_N.convertMetadataToGrpcJs)(c));m.on("metadata",E=>{d?.((0,_N.convertMetadataFromGrpcJs)(E))}),m.on("status",E=>{f?.((0,_N.convertMetadataFromGrpcJs)(E.metadata))});let b;foe(g.signal,u,m).then(()=>{m.end()},E=>{(0,Dv.isAbortError)(E)||(b=E,m.cancel())});let v=()=>{g.abort(),m.cancel()};p.addEventListener("abort",v);try{yield*(0,loe.readableToAsyncIterable)(m)}catch(E){throw(0,coe.wrapClientError)(E,t.path)}finally{if(g.abort(),p.removeEventListener("abort",v),(0,Dv.throwIfAborted)(p),m.cancel(),b)throw b}}let s=r==null?o:(u,l)=>r({method:a,requestStream:!0,request:u,responseStream:!0,next:o},l);return(u,l)=>{let d=s(u,{...n,...l})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){let f=await d.next();return f.done&&f.value!=null?await d.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):f},return(){return d.return()},throw(f){return d.throw(f)}}}}}}async function foe(t,e,r){for await(let n of e)(0,Dv.throwIfAborted)(t),r.write(n)||await(0,Dv.waitForEvent)(t,r,"drain")}});var m4=h(AN=>{"use strict";Object.defineProperty(AN,"__esModule",{value:!0});AN.createClientStreamingMethod=yoe;var Mv=($o(),Hr(Yo)),hoe=Mr(),poe=Cu(),TN=va(),moe=Xa(),goe=rg();function yoe(t,e,r,n){let i=(0,poe.toGrpcJsMethodDefinition)(t),a={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*o(u,l){if(!(0,moe.isAsyncIterable)(u))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");let{metadata:c=(0,hoe.Metadata)(),signal:d=new AbortController().signal,onHeader:f,onTrailer:p}=l;return await(0,Mv.execute)(d,(g,m)=>{let b=new AbortController,v=e.makeClientStreamRequest(i.path,i.requestSerialize,i.responseDeserialize,(0,TN.convertMetadataToGrpcJs)(c),(E,k)=>{b.abort(),E!=null?m((0,goe.wrapClientError)(E,t.path)):g(k)});return v.on("metadata",E=>{f?.((0,TN.convertMetadataFromGrpcJs)(E))}),v.on("status",E=>{p?.((0,TN.convertMetadataFromGrpcJs)(E.metadata))}),voe(b.signal,u,v).then(()=>{v.end()},E=>{(0,Mv.isAbortError)(E)||(m(E),v.cancel())}),()=>{b.abort(),v.cancel()}})}let s=r==null?o:(u,l)=>r({method:a,requestStream:!0,request:u,responseStream:!1,next:o},l);return async(u,l)=>{let d=s(u,{...n,...l})[Symbol.asyncIterator](),f=await d.next();for(;;){if(!f.done){f=await d.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(f.value==null){f=await d.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return f.value}}}async function voe(t,e,r){for await(let n of e)(0,Mv.throwIfAborted)(t),r.write(n)||await(0,Mv.waitForEvent)(t,r,"drain")}});var g4=h(kN=>{"use strict";Object.defineProperty(kN,"__esModule",{value:!0});kN.createServerStreamingMethod=Coe;var boe=($o(),Hr(Yo)),Soe=Mr(),_oe=Cu(),CN=va(),Eoe=Xa(),Toe=jm(),Aoe=rg();function Coe(t,e,r,n){let i=(0,_oe.toGrpcJsMethodDefinition)(t),a={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*o(u,l){if((0,Eoe.isAsyncIterable)(u))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");let{metadata:c=(0,Soe.Metadata)(),onHeader:d,onTrailer:f}=l,p=l.signal??new AbortController().signal,g=e.makeServerStreamRequest(i.path,i.requestSerialize,i.responseDeserialize,u,(0,CN.convertMetadataToGrpcJs)(c));g.on("metadata",b=>{d?.((0,CN.convertMetadataFromGrpcJs)(b))}),g.on("status",b=>{f?.((0,CN.convertMetadataFromGrpcJs)(b.metadata))});let m=()=>{g.cancel()};p.addEventListener("abort",m);try{yield*(0,Toe.readableToAsyncIterable)(g)}catch(b){throw(0,Aoe.wrapClientError)(b,t.path)}finally{p.removeEventListener("abort",m),(0,boe.throwIfAborted)(p),g.cancel()}}let s=r==null?o:(u,l)=>r({method:a,requestStream:!1,request:u,responseStream:!0,next:o},l);return(u,l)=>{let d=s(u,{...n,...l})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){let f=await d.next();return f.done&&f.value!=null?await d.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):f},return(){return d.return()},throw(f){return d.throw(f)}}}}}}});var y4=h(ON=>{"use strict";Object.defineProperty(ON,"__esModule",{value:!0});ON.createUnaryMethod=woe;var koe=($o(),Hr(Yo)),Ioe=Mr(),Ooe=Cu(),IN=va(),Noe=Xa(),Roe=rg();function woe(t,e,r,n){let i=(0,Ooe.toGrpcJsMethodDefinition)(t),a={path:t.path,requestStream:t.requestStream,responseStream:t.responseStream,options:t.options};async function*o(u,l){if((0,Noe.isAsyncIterable)(u))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");let{metadata:c=(0,Ioe.Metadata)(),signal:d=new AbortController().signal,onHeader:f,onTrailer:p}=l;return await(0,koe.execute)(d,(g,m)=>{let b=e.makeUnaryRequest(i.path,i.requestSerialize,i.responseDeserialize,u,(0,IN.convertMetadataToGrpcJs)(c),(v,E)=>{v!=null?m((0,Roe.wrapClientError)(v,t.path)):g(E)});return b.on("metadata",v=>{f?.((0,IN.convertMetadataFromGrpcJs)(v))}),b.on("status",v=>{p?.((0,IN.convertMetadataFromGrpcJs)(v.metadata))}),()=>{b.cancel()}})}let s=r==null?o:(u,l)=>r({method:a,requestStream:!1,request:u,responseStream:!1,next:o},l);return async(u,l)=>{let d=s(u,{...n,...l})[Symbol.asyncIterator](),f=await d.next();for(;;){if(!f.done){f=await d.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(f.value==null){f=await d.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return f.value}}}});var S4=h(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.createClientFactory=v4;Lv.createClient=qoe;var Poe=Xo(),xoe=Mr(),Boe=Cu(),Doe=p4(),Moe=m4(),Loe=g4(),Foe=y4();function v4(){return b4()}function qoe(t,e,r){return v4().create(t,e,r)}function b4(t){return{use(e){return b4(t==null?e:(0,xoe.composeClientMiddleware)(t,e))},create(e,r,n={}){let i=(0,Poe.makeClientConstructor)({},""),a=new i("",null,{channelOverride:r}),o={},s=Object.entries((0,Boe.normalizeServiceDefinition)(e));for(let[u,l]of s){let c={...n["*"],...n[u]};l.requestStream?l.responseStream?o[u]=(0,Doe.createBidiStreamingMethod)(l,a,t,c):o[u]=(0,Moe.createClientStreamingMethod)(l,a,t,c):l.responseStream?o[u]=(0,Loe.createServerStreamingMethod)(l,a,t,c):o[u]=(0,Foe.createUnaryMethod)(l,a,t,c)}return o}}}});var E4=h(_4=>{"use strict";Object.defineProperty(_4,"__esModule",{value:!0})});var C4=h(Ht=>{"use strict";var Uoe=Ht&&Ht.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ng=Ht&&Ht.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Uoe(e,t,r)};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.ChannelCredentials=Ht.Channel=Ht.waitForChannelReady=Ht.createChannel=void 0;ng(Mr(),Ht);ng(c4(),Ht);ng(f4(),Ht);var T4=h4();Object.defineProperty(Ht,"createChannel",{enumerable:!0,get:function(){return T4.createChannel}});Object.defineProperty(Ht,"waitForChannelReady",{enumerable:!0,get:function(){return T4.waitForChannelReady}});var A4=Xo();Object.defineProperty(Ht,"Channel",{enumerable:!0,get:function(){return A4.Channel}});Object.defineProperty(Ht,"ChannelCredentials",{enumerable:!0,get:function(){return A4.ChannelCredentials}});ng(S4(),Ht);ng(E4(),Ht)});var ig=h(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.messageTypeRegistry=void 0;Fv.messageTypeRegistry=new Map});var O4=h(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.Duration=Ya.protobufPackage=void 0;var Rf=Rr(),Voe=ig(),k4=CI();Ya.protobufPackage="google.protobuf";function I4(){return{$type:"google.protobuf.Duration",seconds:0,nanos:0}}Ya.Duration={$type:"google.protobuf.Duration",encode(t,e=Rf.Writer.create()){return t.seconds!==0&&e.uint32(8).int64(t.seconds),t.nanos!==0&&e.uint32(16).int32(t.nanos),e},decode(t,e){let r=t instanceof Rf.Reader?t:Rf.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=I4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.seconds=Joe(r.int64());continue;case 2:if(a!==16)break;i.nanos=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return Ya.Duration.fromPartial(t??{})},fromPartial(t){var e,r;let n=I4();return n.seconds=(e=t.seconds)!==null&&e!==void 0?e:0,n.nanos=(r=t.nanos)!==null&&r!==void 0?r:0,n}};Voe.messageTypeRegistry.set(Ya.Duration.$type,Ya.Duration);function Joe(t){if(t.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return t.toNumber()}Rf.util.Long!==k4&&(Rf.util.Long=k4,Rf.configure())});var RN=h(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.LocalizedMessage=V.Help_Link=V.Help=V.ResourceInfo=V.RequestInfo=V.BadRequest_FieldViolation=V.BadRequest=V.PreconditionFailure_Violation=V.PreconditionFailure=V.ErrorInfo_MetadataEntry=V.ErrorInfo=V.QuotaFailure_Violation=V.QuotaFailure=V.DebugInfo=V.RetryInfo=V.protobufPackage=void 0;var Te=Rr(),Fr=ig(),NN=O4();V.protobufPackage="google.rpc";function N4(){return{$type:"google.rpc.RetryInfo",retryDelay:void 0}}V.RetryInfo={$type:"google.rpc.RetryInfo",encode(t,e=Te.Writer.create()){return t.retryDelay!==void 0&&NN.Duration.encode(t.retryDelay,e.uint32(10).fork()).ldelim(),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=N4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.retryDelay=NN.Duration.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.RetryInfo.fromPartial(t??{})},fromPartial(t){let e=N4();return e.retryDelay=t.retryDelay!==void 0&&t.retryDelay!==null?NN.Duration.fromPartial(t.retryDelay):void 0,e}};Fr.messageTypeRegistry.set(V.RetryInfo.$type,V.RetryInfo);function R4(){return{$type:"google.rpc.DebugInfo",stackEntries:[],detail:""}}V.DebugInfo={$type:"google.rpc.DebugInfo",encode(t,e=Te.Writer.create()){for(let r of t.stackEntries)e.uint32(10).string(r);return t.detail!==""&&e.uint32(18).string(t.detail),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=R4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.stackEntries.push(r.string());continue;case 2:if(a!==18)break;i.detail=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.DebugInfo.fromPartial(t??{})},fromPartial(t){var e,r;let n=R4();return n.stackEntries=((e=t.stackEntries)===null||e===void 0?void 0:e.map(i=>i))||[],n.detail=(r=t.detail)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.DebugInfo.$type,V.DebugInfo);function w4(){return{$type:"google.rpc.QuotaFailure",violations:[]}}V.QuotaFailure={$type:"google.rpc.QuotaFailure",encode(t,e=Te.Writer.create()){for(let r of t.violations)V.QuotaFailure_Violation.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=w4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.violations.push(V.QuotaFailure_Violation.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.QuotaFailure.fromPartial(t??{})},fromPartial(t){var e;let r=w4();return r.violations=((e=t.violations)===null||e===void 0?void 0:e.map(n=>V.QuotaFailure_Violation.fromPartial(n)))||[],r}};Fr.messageTypeRegistry.set(V.QuotaFailure.$type,V.QuotaFailure);function P4(){return{$type:"google.rpc.QuotaFailure.Violation",subject:"",description:""}}V.QuotaFailure_Violation={$type:"google.rpc.QuotaFailure.Violation",encode(t,e=Te.Writer.create()){return t.subject!==""&&e.uint32(10).string(t.subject),t.description!==""&&e.uint32(18).string(t.description),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=P4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.subject=r.string();continue;case 2:if(a!==18)break;i.description=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.QuotaFailure_Violation.fromPartial(t??{})},fromPartial(t){var e,r;let n=P4();return n.subject=(e=t.subject)!==null&&e!==void 0?e:"",n.description=(r=t.description)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.QuotaFailure_Violation.$type,V.QuotaFailure_Violation);function x4(){return{$type:"google.rpc.ErrorInfo",reason:"",domain:"",metadata:{}}}V.ErrorInfo={$type:"google.rpc.ErrorInfo",encode(t,e=Te.Writer.create()){return t.reason!==""&&e.uint32(10).string(t.reason),t.domain!==""&&e.uint32(18).string(t.domain),Object.entries(t.metadata).forEach(([r,n])=>{V.ErrorInfo_MetadataEntry.encode({$type:"google.rpc.ErrorInfo.MetadataEntry",key:r,value:n},e.uint32(26).fork()).ldelim()}),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=x4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.reason=r.string();continue;case 2:if(a!==18)break;i.domain=r.string();continue;case 3:if(a!==26)break;let o=V.ErrorInfo_MetadataEntry.decode(r,r.uint32());o.value!==void 0&&(i.metadata[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.ErrorInfo.fromPartial(t??{})},fromPartial(t){var e,r,n;let i=x4();return i.reason=(e=t.reason)!==null&&e!==void 0?e:"",i.domain=(r=t.domain)!==null&&r!==void 0?r:"",i.metadata=Object.entries((n=t.metadata)!==null&&n!==void 0?n:{}).reduce((a,[o,s])=>(s!==void 0&&(a[o]=globalThis.String(s)),a),{}),i}};Fr.messageTypeRegistry.set(V.ErrorInfo.$type,V.ErrorInfo);function B4(){return{$type:"google.rpc.ErrorInfo.MetadataEntry",key:"",value:""}}V.ErrorInfo_MetadataEntry={$type:"google.rpc.ErrorInfo.MetadataEntry",encode(t,e=Te.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==""&&e.uint32(18).string(t.value),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=B4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.ErrorInfo_MetadataEntry.fromPartial(t??{})},fromPartial(t){var e,r;let n=B4();return n.key=(e=t.key)!==null&&e!==void 0?e:"",n.value=(r=t.value)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.ErrorInfo_MetadataEntry.$type,V.ErrorInfo_MetadataEntry);function D4(){return{$type:"google.rpc.PreconditionFailure",violations:[]}}V.PreconditionFailure={$type:"google.rpc.PreconditionFailure",encode(t,e=Te.Writer.create()){for(let r of t.violations)V.PreconditionFailure_Violation.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=D4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.violations.push(V.PreconditionFailure_Violation.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.PreconditionFailure.fromPartial(t??{})},fromPartial(t){var e;let r=D4();return r.violations=((e=t.violations)===null||e===void 0?void 0:e.map(n=>V.PreconditionFailure_Violation.fromPartial(n)))||[],r}};Fr.messageTypeRegistry.set(V.PreconditionFailure.$type,V.PreconditionFailure);function M4(){return{$type:"google.rpc.PreconditionFailure.Violation",type:"",subject:"",description:""}}V.PreconditionFailure_Violation={$type:"google.rpc.PreconditionFailure.Violation",encode(t,e=Te.Writer.create()){return t.type!==""&&e.uint32(10).string(t.type),t.subject!==""&&e.uint32(18).string(t.subject),t.description!==""&&e.uint32(26).string(t.description),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=M4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.type=r.string();continue;case 2:if(a!==18)break;i.subject=r.string();continue;case 3:if(a!==26)break;i.description=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.PreconditionFailure_Violation.fromPartial(t??{})},fromPartial(t){var e,r,n;let i=M4();return i.type=(e=t.type)!==null&&e!==void 0?e:"",i.subject=(r=t.subject)!==null&&r!==void 0?r:"",i.description=(n=t.description)!==null&&n!==void 0?n:"",i}};Fr.messageTypeRegistry.set(V.PreconditionFailure_Violation.$type,V.PreconditionFailure_Violation);function L4(){return{$type:"google.rpc.BadRequest",fieldViolations:[]}}V.BadRequest={$type:"google.rpc.BadRequest",encode(t,e=Te.Writer.create()){for(let r of t.fieldViolations)V.BadRequest_FieldViolation.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=L4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.fieldViolations.push(V.BadRequest_FieldViolation.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.BadRequest.fromPartial(t??{})},fromPartial(t){var e;let r=L4();return r.fieldViolations=((e=t.fieldViolations)===null||e===void 0?void 0:e.map(n=>V.BadRequest_FieldViolation.fromPartial(n)))||[],r}};Fr.messageTypeRegistry.set(V.BadRequest.$type,V.BadRequest);function F4(){return{$type:"google.rpc.BadRequest.FieldViolation",field:"",description:""}}V.BadRequest_FieldViolation={$type:"google.rpc.BadRequest.FieldViolation",encode(t,e=Te.Writer.create()){return t.field!==""&&e.uint32(10).string(t.field),t.description!==""&&e.uint32(18).string(t.description),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=F4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.field=r.string();continue;case 2:if(a!==18)break;i.description=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.BadRequest_FieldViolation.fromPartial(t??{})},fromPartial(t){var e,r;let n=F4();return n.field=(e=t.field)!==null&&e!==void 0?e:"",n.description=(r=t.description)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.BadRequest_FieldViolation.$type,V.BadRequest_FieldViolation);function q4(){return{$type:"google.rpc.RequestInfo",requestId:"",servingData:""}}V.RequestInfo={$type:"google.rpc.RequestInfo",encode(t,e=Te.Writer.create()){return t.requestId!==""&&e.uint32(10).string(t.requestId),t.servingData!==""&&e.uint32(18).string(t.servingData),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=q4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.requestId=r.string();continue;case 2:if(a!==18)break;i.servingData=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.RequestInfo.fromPartial(t??{})},fromPartial(t){var e,r;let n=q4();return n.requestId=(e=t.requestId)!==null&&e!==void 0?e:"",n.servingData=(r=t.servingData)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.RequestInfo.$type,V.RequestInfo);function U4(){return{$type:"google.rpc.ResourceInfo",resourceType:"",resourceName:"",owner:"",description:""}}V.ResourceInfo={$type:"google.rpc.ResourceInfo",encode(t,e=Te.Writer.create()){return t.resourceType!==""&&e.uint32(10).string(t.resourceType),t.resourceName!==""&&e.uint32(18).string(t.resourceName),t.owner!==""&&e.uint32(26).string(t.owner),t.description!==""&&e.uint32(34).string(t.description),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=U4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.resourceType=r.string();continue;case 2:if(a!==18)break;i.resourceName=r.string();continue;case 3:if(a!==26)break;i.owner=r.string();continue;case 4:if(a!==34)break;i.description=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.ResourceInfo.fromPartial(t??{})},fromPartial(t){var e,r,n,i;let a=U4();return a.resourceType=(e=t.resourceType)!==null&&e!==void 0?e:"",a.resourceName=(r=t.resourceName)!==null&&r!==void 0?r:"",a.owner=(n=t.owner)!==null&&n!==void 0?n:"",a.description=(i=t.description)!==null&&i!==void 0?i:"",a}};Fr.messageTypeRegistry.set(V.ResourceInfo.$type,V.ResourceInfo);function V4(){return{$type:"google.rpc.Help",links:[]}}V.Help={$type:"google.rpc.Help",encode(t,e=Te.Writer.create()){for(let r of t.links)V.Help_Link.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=V4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.links.push(V.Help_Link.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.Help.fromPartial(t??{})},fromPartial(t){var e;let r=V4();return r.links=((e=t.links)===null||e===void 0?void 0:e.map(n=>V.Help_Link.fromPartial(n)))||[],r}};Fr.messageTypeRegistry.set(V.Help.$type,V.Help);function J4(){return{$type:"google.rpc.Help.Link",description:"",url:""}}V.Help_Link={$type:"google.rpc.Help.Link",encode(t,e=Te.Writer.create()){return t.description!==""&&e.uint32(10).string(t.description),t.url!==""&&e.uint32(18).string(t.url),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=J4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.description=r.string();continue;case 2:if(a!==18)break;i.url=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.Help_Link.fromPartial(t??{})},fromPartial(t){var e,r;let n=J4();return n.description=(e=t.description)!==null&&e!==void 0?e:"",n.url=(r=t.url)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.Help_Link.$type,V.Help_Link);function W4(){return{$type:"google.rpc.LocalizedMessage",locale:"",message:""}}V.LocalizedMessage={$type:"google.rpc.LocalizedMessage",encode(t,e=Te.Writer.create()){return t.locale!==""&&e.uint32(10).string(t.locale),t.message!==""&&e.uint32(18).string(t.message),e},decode(t,e){let r=t instanceof Te.Reader?t:Te.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=W4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.locale=r.string();continue;case 2:if(a!==18)break;i.message=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return V.LocalizedMessage.fromPartial(t??{})},fromPartial(t){var e,r;let n=W4();return n.locale=(e=t.locale)!==null&&e!==void 0?e:"",n.message=(r=t.message)!==null&&r!==void 0?r:"",n}};Fr.messageTypeRegistry.set(V.LocalizedMessage.$type,V.LocalizedMessage)});var qv=h($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.Any=$a.protobufPackage=void 0;var wN=Rr(),Woe=ig();$a.protobufPackage="google.protobuf";function G4(){return{$type:"google.protobuf.Any",typeUrl:"",value:new Uint8Array(0)}}$a.Any={$type:"google.protobuf.Any",encode(t,e=wN.Writer.create()){return t.typeUrl!==""&&e.uint32(10).string(t.typeUrl),t.value.length!==0&&e.uint32(18).bytes(t.value),e},decode(t,e){let r=t instanceof wN.Reader?t:wN.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=G4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.typeUrl=r.string();continue;case 2:if(a!==18)break;i.value=r.bytes();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return $a.Any.fromPartial(t??{})},fromPartial(t){var e,r;let n=G4();return n.typeUrl=(e=t.typeUrl)!==null&&e!==void 0?e:"",n.value=(r=t.value)!==null&&r!==void 0?r:new Uint8Array(0),n}};Woe.messageTypeRegistry.set($a.Any.$type,$a.Any)});var xN=h(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.RichServerError=void 0;var Goe=Mr(),PN=class extends Goe.ServerError{constructor(e,r,n=[]){super(e,r),this.name="RichServerError",this.extra=n}};Uv.RichServerError=PN});var BN=h(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.encodeErrorDetails=wf.decodeErrorDetails=void 0;var Tn=RN(),H4=qv(),z4=[Tn.RetryInfo,Tn.DebugInfo,Tn.QuotaFailure,Tn.QuotaFailure_Violation,Tn.ErrorInfo,Tn.PreconditionFailure,Tn.PreconditionFailure_Violation,Tn.BadRequest,Tn.BadRequest_FieldViolation,Tn.RequestInfo,Tn.ResourceInfo,Tn.Help,Tn.LocalizedMessage];function Hoe(t){return t.map(e=>{let r=z4.find(n=>e.typeUrl.endsWith(`/${n.$type}`));return r==null?e:r.decode(e.value)})}wf.decodeErrorDetails=Hoe;function zoe(t){return t.map(e=>{if(e.$type===H4.Any.$type)return e;let r=z4.find(n=>n.$type===e.$type);if(r==null)throw new Error(`Unknown error details type: ${e.$type}`);return H4.Any.fromPartial({typeUrl:`type.googleapis.com/${e.$type}`,value:r.encode(e).finish()})})}wf.encodeErrorDetails=zoe});var LN=h(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.Status=ja.protobufPackage=void 0;var DN=Rr(),Qoe=ig(),MN=qv();ja.protobufPackage="google.rpc";function Q4(){return{$type:"google.rpc.Status",code:0,message:"",details:[]}}ja.Status={$type:"google.rpc.Status",encode(t,e=DN.Writer.create()){t.code!==0&&e.uint32(8).int32(t.code),t.message!==""&&e.uint32(18).string(t.message);for(let r of t.details)MN.Any.encode(r,e.uint32(26).fork()).ldelim();return e},decode(t,e){let r=t instanceof DN.Reader?t:DN.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Q4();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.code=r.int32();continue;case 2:if(a!==18)break;i.message=r.string();continue;case 3:if(a!==26)break;i.details.push(MN.Any.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},create(t){return ja.Status.fromPartial(t??{})},fromPartial(t){var e,r,n;let i=Q4();return i.code=(e=t.code)!==null&&e!==void 0?e:0,i.message=(r=t.message)!==null&&r!==void 0?r:"",i.details=((n=t.details)===null||n===void 0?void 0:n.map(a=>MN.Any.fromPartial(a)))||[],i}};Qoe.messageTypeRegistry.set(ja.Status.$type,ja.Status)});var Z4=h(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.errorDetailsServerMiddleware=void 0;var Koe=BN(),K4=LN(),Zoe=xN(),Xoe=async function*(e,r){try{return yield*e.next(e.request,r)}catch(n){if(n instanceof Zoe.RichServerError){let i=K4.Status.fromPartial({code:n.code,message:n.details,details:(0,Koe.encodeErrorDetails)(n.extra)});r.trailer.set("grpc-status-details-bin",K4.Status.encode(i).finish())}throw n}};Vv.errorDetailsServerMiddleware=Xoe});var qN=h(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.RichClientError=void 0;var Yoe=Mr(),FN=class extends Yoe.ClientError{constructor(e,r,n,i){super(e,r,n),this.name="RichClientError",this.extra=i}};Jv.RichClientError=FN});var X4=h(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.errorDetailsClientMiddleware=void 0;var $oe=Mr(),joe=BN(),ese=LN(),tse=qN(),rse=async function*(e,r){let n;try{return yield*e.next(e.request,{...r,onTrailer(i){var a;let o=i.get("grpc-status-details-bin");o!=null&&(n=ese.Status.decode(o)),(a=r.onTrailer)===null||a===void 0||a.call(r,i)}})}catch(i){throw n!=null&&i instanceof $oe.ClientError?new tse.RichClientError(i.path,i.code,i.details,(0,joe.decodeErrorDetails)(n.details)):i}};Wv.errorDetailsClientMiddleware=rse});var Y4=h(or=>{"use strict";var nse=or&&or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ise=or&&or.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nse(e,t,r)};Object.defineProperty(or,"__esModule",{value:!0});or.errorDetailsClientMiddleware=or.RichClientError=or.errorDetailsServerMiddleware=or.RichServerError=or.Any=void 0;ise(RN(),or);var ase=qv();Object.defineProperty(or,"Any",{enumerable:!0,get:function(){return ase.Any}});var ose=xN();Object.defineProperty(or,"RichServerError",{enumerable:!0,get:function(){return ose.RichServerError}});var sse=Z4();Object.defineProperty(or,"errorDetailsServerMiddleware",{enumerable:!0,get:function(){return sse.errorDetailsServerMiddleware}});var use=qN();Object.defineProperty(or,"RichClientError",{enumerable:!0,get:function(){return use.RichClientError}});var lse=X4();Object.defineProperty(or,"errorDetailsClientMiddleware",{enumerable:!0,get:function(){return lse.errorDetailsClientMiddleware}})});var e7,t7=ae(()=>{e7=typeof globalThis=="object"?globalThis:global});var r7=ae(()=>{t7()});var n7=ae(()=>{r7()});var eo,UN=ae(()=>{eo="1.9.0"});function cse(t){var e=new Set([t]),r=new Set,n=t.match(i7);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===t};function a(s){return r.add(s),!1}function o(s){return e.add(s),!0}return function(u){if(e.has(u))return!0;if(r.has(u))return!1;var l=u.match(i7);if(!l)return a(u);var c={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return c.prerelease!=null||i.major!==c.major?a(u):i.major===0?i.minor===c.minor&&i.patch<=c.patch?o(u):a(u):i.minor<=c.minor?o(u):a(u)}}var i7,a7,o7=ae(()=>{UN();i7=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;a7=cse(eo)});function ba(t,e,r,n){var i;n===void 0&&(n=!1);var a=og[ag]=(i=og[ag])!==null&&i!==void 0?i:{version:eo};if(!n&&a[t]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(o.stack||o.message),!1}if(a.version!==eo){var o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+eo);return r.error(o.stack||o.message),!1}return a[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+eo+"."),!0}function An(t){var e,r,n=(e=og[ag])===null||e===void 0?void 0:e.version;if(!(!n||!a7(n)))return(r=og[ag])===null||r===void 0?void 0:r[t]}function Sa(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+eo+".");var r=og[ag];r&&delete r[t]}var dse,ag,og,Ou=ae(()=>{n7();UN();o7();dse=eo.split(".")[0],ag=Symbol.for("opentelemetry.js.api."+dse),og=e7});function sg(t,e,r){var n=An("diag");if(n)return r.unshift(e),n[t].apply(n,hse([],fse(r),!1))}var fse,hse,s7,u7=ae(()=>{Ou();fse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},hse=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},s7=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sg("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sg("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sg("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sg("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sg("verbose",this._namespace,e)},t}()});var sr,Gv=ae(()=>{(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(sr||(sr={}))});function l7(t,e){t<sr.NONE?t=sr.NONE:t>sr.ALL&&(t=sr.ALL),e=e||{};function r(n,i){var a=e[n];return typeof a=="function"&&t>=i?a.bind(e):function(){}}return{error:r("error",sr.ERROR),warn:r("warn",sr.WARN),info:r("info",sr.INFO),debug:r("debug",sr.DEBUG),verbose:r("verbose",sr.VERBOSE)}}var c7=ae(()=>{Gv()});var pse,mse,gse,Ar,Nu=ae(()=>{u7();c7();Gv();Ou();pse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},mse=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},gse="diag",Ar=function(){function t(){function e(i){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=An("diag");if(s)return s[i].apply(s,mse([],pse(a),!1))}}var r=this,n=function(i,a){var o,s,u;if(a===void 0&&(a={logLevel:sr.INFO}),i===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=l.stack)!==null&&o!==void 0?o:l.message),!1}typeof a=="number"&&(a={logLevel:a});var c=An("diag"),d=l7((s=a.logLevel)!==null&&s!==void 0?s:sr.INFO,i);if(c&&!a.suppressOverrideMessage){var f=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+f),d.warn("Current logger will overwrite one already registered from "+f)}return ba("diag",d,r,!0)};r.setLogger=n,r.disable=function(){Sa(gse,r)},r.createComponentLogger=function(i){return new s7(i)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()});var yse,vse,d7,f7=ae(()=>{yse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},vse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d7=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=yse(e,2),n=r[0],i=r[1];return[n,i]})},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=new t(this._entries);try{for(var o=vse(n),s=o.next();!s.done;s=o.next()){var u=s.value;a._entries.delete(u)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t}()});var h7,p7=ae(()=>{h7=Symbol("BaggageEntryMetadata")});function m7(t){return t===void 0&&(t={}),new d7(new Map(Object.entries(t)))}function g7(t){return typeof t!="string"&&(bse.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:h7,toString:function(){return t}}}var bse,VN=ae(()=>{Nu();f7();p7();bse=Ar.instance()});function xf(t){return Symbol.for(t)}var Sse,Hv,ug=ae(()=>{Sse=function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var a=new t(r._currentContext);return a._currentContext.set(n,i),a},r.deleteValue=function(n){var i=new t(r._currentContext);return i._currentContext.delete(n),i}}return t}(),Hv=new Sse});var JN,y7,v7=ae(()=>{JN=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],y7=function(){function t(){function e(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<JN.length;r++)this[JN[r].n]=e(JN[r].c)}return t}()});function b7(){return GN}var Ru,_se,zv,Ese,Tse,Ase,Cse,WN,kse,Ise,Ose,GN,Nse,Rse,wse,Pse,xse,Bse,Dse,HN=ae(()=>{Ru=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_se=function(){function t(){}return t.prototype.createGauge=function(e,r){return Rse},t.prototype.createHistogram=function(e,r){return wse},t.prototype.createCounter=function(e,r){return Nse},t.prototype.createUpDownCounter=function(e,r){return Pse},t.prototype.createObservableGauge=function(e,r){return Bse},t.prototype.createObservableCounter=function(e,r){return xse},t.prototype.createObservableUpDownCounter=function(e,r){return Dse},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t}(),zv=function(){function t(){}return t}(),Ese=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e}(zv),Tse=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e}(zv),Ase=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e}(zv),Cse=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e}(zv),WN=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),kse=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WN),Ise=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WN),Ose=function(t){Ru(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WN),GN=new _se,Nse=new Ese,Rse=new Ase,wse=new Cse,Pse=new Tse,xse=new kse,Bse=new Ise,Dse=new Ose});var Qv,S7=ae(()=>{(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(Qv||(Qv={}))});var Kv,Zv,zN=ae(()=>{Kv={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},Zv={set:function(t,e,r){t!=null&&(t[e]=r)}}});var Mse,Lse,_7,E7=ae(()=>{ug();Mse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Lse=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},_7=function(){function t(){}return t.prototype.active=function(){return Hv},t.prototype.with=function(e,r,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return r.call.apply(r,Lse([n],Mse(i),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}()});var Fse,qse,QN,Use,jo,lg=ae(()=>{E7();Ou();Nu();Fse=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},qse=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},QN="context",Use=new _7,jo=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return ba(QN,e,Ar.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var i,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,qse([e,r,n],Fse(a),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return An(QN)||Use},t.prototype.disable=function(){this._getContextManager().disable(),Sa(QN,Ar.instance())},t}()});var Bf,KN=ae(()=>{(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(Bf||(Bf={}))});var cg,dg,Xv,Yv=ae(()=>{KN();cg="0000000000000000",dg="00000000000000000000000000000000",Xv={traceId:dg,spanId:cg,traceFlags:Bf.NONE}});var es,$v=ae(()=>{Yv();es=function(){function t(e){e===void 0&&(e=Xv),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t}()});function jv(t){return t.getValue(ZN)||void 0}function T7(){return jv(jo.getInstance().active())}function fg(t,e){return t.setValue(ZN,e)}function A7(t){return t.deleteValue(ZN)}function C7(t,e){return fg(t,new es(e))}function eb(t){var e;return(e=jv(t))===null||e===void 0?void 0:e.spanContext()}var ZN,XN=ae(()=>{ug();$v();lg();ZN=xf("OpenTelemetry Context Key SPAN")});function YN(t){return Vse.test(t)&&t!==dg}function $N(t){return Jse.test(t)&&t!==cg}function Df(t){return YN(t.traceId)&&$N(t.spanId)}function k7(t){return new es(t)}var Vse,Jse,tb=ae(()=>{Yv();$v();Vse=/^([0-9a-f]{32})$/i,Jse=/^[0-9a-f]{16}$/i});function Wse(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var jN,rb,e2=ae(()=>{lg();XN();$v();tb();jN=jo.getInstance(),rb=function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=jN.active());var i=!!r?.root;if(i)return new es;var a=n&&eb(n);return Wse(a)&&Df(a)?new es(a):new es},t.prototype.startActiveSpan=function(e,r,n,i){var a,o,s;if(!(arguments.length<2)){arguments.length===2?s=r:arguments.length===3?(a=r,s=n):(a=r,o=n,s=i);var u=o??jN.active(),l=this.startSpan(e,a,u),c=fg(u,l);return jN.with(c,s,void 0,l)}},t}()});var Gse,nb,t2=ae(()=>{e2();Gse=new rb,nb=function(){function t(e,r,n,i){this._provider=e,this.name=r,this.version=n,this.options=i}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,i){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Gse},t}()});var I7,O7=ae(()=>{e2();I7=function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new rb},t}()});var Hse,hg,r2=ae(()=>{t2();O7();Hse=new I7,hg=function(){function t(){}return t.prototype.getTracer=function(e,r,n){var i;return(i=this.getDelegateTracer(e,r,n))!==null&&i!==void 0?i:new nb(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Hse},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,r,n)},t}()});var ib,N7=ae(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ib||(ib={}))});var ab,R7=ae(()=>{(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(ab||(ab={}))});var ob,w7=ae(()=>{(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(ob||(ob={}))});function P7(t){return Kse.test(t)}function x7(t){return Zse.test(t)&&!Xse.test(t)}var n2,zse,Qse,Kse,Zse,Xse,B7=ae(()=>{n2="[_0-9a-z-*/]",zse="[a-z]"+n2+"{0,255}",Qse="[a-z0-9]"+n2+"{0,240}@[a-z]"+n2+"{0,13}",Kse=new RegExp("^(?:"+zse+"|"+Qse+")$"),Zse=/^[ -~]{0,255}[!-~]$/,Xse=/,|=/});var D7,Yse,M7,L7,F7,q7=ae(()=>{B7();D7=32,Yse=512,M7=",",L7="=",F7=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,r){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,n){return r.push(n+L7+e.get(n)),r},[]).join(M7)},t.prototype._parse=function(e){e.length>Yse||(this._internalState=e.split(M7).reverse().reduce(function(r,n){var i=n.trim(),a=i.indexOf(L7);if(a!==-1){var o=i.slice(0,a),s=i.slice(a+1,n.length);P7(o)&&x7(s)&&r.set(o,s)}return r},new Map),this._internalState.size>D7&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,D7))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function U7(t){return new F7(t)}var V7=ae(()=>{q7()});var i2,J7=ae(()=>{lg();i2=jo.getInstance()});var a2,W7=ae(()=>{Nu();a2=Ar.instance()});var $se,G7,H7=ae(()=>{HN();$se=function(){function t(){}return t.prototype.getMeter=function(e,r,n){return GN},t}(),G7=new $se});var o2,z7,Q7=ae(()=>{H7();Ou();Nu();o2="metrics",z7=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return ba(o2,e,Ar.instance())},t.prototype.getMeterProvider=function(){return An(o2)||G7},t.prototype.getMeter=function(e,r,n){return this.getMeterProvider().getMeter(e,r,n)},t.prototype.disable=function(){Sa(o2,Ar.instance())},t}()});var pg,K7=ae(()=>{Q7();pg=z7.getInstance()});var Z7,X7=ae(()=>{Z7=function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t}()});function u2(t){return t.getValue(s2)||void 0}function Y7(){return u2(jo.getInstance().active())}function $7(t,e){return t.setValue(s2,e)}function j7(t){return t.deleteValue(s2)}var s2,e8=ae(()=>{lg();ug();s2=xf("OpenTelemetry Baggage Key")});var l2,jse,t8,r8=ae(()=>{Ou();X7();zN();e8();VN();Nu();l2="propagation",jse=new Z7,t8=function(){function t(){this.createBaggage=m7,this.getBaggage=u2,this.getActiveBaggage=Y7,this.setBaggage=$7,this.deleteBaggage=j7}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return ba(l2,e,Ar.instance())},t.prototype.inject=function(e,r,n){return n===void 0&&(n=Zv),this._getGlobalPropagator().inject(e,r,n)},t.prototype.extract=function(e,r,n){return n===void 0&&(n=Kv),this._getGlobalPropagator().extract(e,r,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Sa(l2,Ar.instance())},t.prototype._getGlobalPropagator=function(){return An(l2)||jse},t}()});var c2,n8=ae(()=>{r8();c2=t8.getInstance()});var d2,i8,a8=ae(()=>{Ou();r2();tb();XN();Nu();d2="trace",i8=function(){function t(){this._proxyTracerProvider=new hg,this.wrapSpanContext=k7,this.isSpanContextValid=Df,this.deleteSpan=A7,this.getSpan=jv,this.getActiveSpan=T7,this.getSpanContext=eb,this.setSpan=fg,this.setSpanContext=C7}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=ba(d2,this._proxyTracerProvider,Ar.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return An(d2)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Sa(d2,Ar.instance()),this._proxyTracerProvider=new hg},t}()});var f2,o8=ae(()=>{a8();f2=i8.getInstance()});var tue={};vl(tue,{DiagConsoleLogger:()=>y7,DiagLogLevel:()=>sr,INVALID_SPANID:()=>cg,INVALID_SPAN_CONTEXT:()=>Xv,INVALID_TRACEID:()=>dg,ProxyTracer:()=>nb,ProxyTracerProvider:()=>hg,ROOT_CONTEXT:()=>Hv,SamplingDecision:()=>ib,SpanKind:()=>ab,SpanStatusCode:()=>ob,TraceFlags:()=>Bf,ValueType:()=>Qv,baggageEntryMetadataFromString:()=>g7,context:()=>i2,createContextKey:()=>xf,createNoopMeter:()=>b7,createTraceState:()=>U7,default:()=>eue,defaultTextMapGetter:()=>Kv,defaultTextMapSetter:()=>Zv,diag:()=>a2,isSpanContextValid:()=>Df,isValidSpanId:()=>$N,isValidTraceId:()=>YN,metrics:()=>pg,propagation:()=>c2,trace:()=>f2});var eue,s8=ae(()=>{VN();ug();v7();Gv();HN();S7();zN();t2();r2();N7();R7();w7();KN();V7();tb();Yv();J7();W7();K7();n8();o8();eue={context:i2,diag:a2,metrics:pg,propagation:c2,trace:f2}});var gW=h((r5e,TR)=>{"use strict";var mde=Object.prototype.hasOwnProperty,Wr="~";function Kg(){}Object.create&&(Kg.prototype=Object.create(null),new Kg().__proto__||(Wr=!1));function gde(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function mW(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var a=new gde(r,n||t,i),o=Wr?Wr+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],a]:t._events[o].push(a):(t._events[o]=a,t._eventsCount++),t}function gS(t,e){--t._eventsCount===0?t._events=new Kg:delete t._events[e]}function Ir(){this._events=new Kg,this._eventsCount=0}Ir.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)mde.call(r,n)&&e.push(Wr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Ir.prototype.listeners=function(e){var r=Wr?Wr+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o};Ir.prototype.listenerCount=function(e){var r=Wr?Wr+e:e,n=this._events[r];return n?n.fn?1:n.length:0};Ir.prototype.emit=function(e,r,n,i,a,o){var s=Wr?Wr+e:e;if(!this._events[s])return!1;var u=this._events[s],l=arguments.length,c,d;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,a),!0;case 6:return u.fn.call(u.context,r,n,i,a,o),!0}for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];u.fn.apply(u.context,c)}else{var f=u.length,p;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(e,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,i);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];u[d].fn.apply(u[d].context,c)}}return!0};Ir.prototype.on=function(e,r,n){return mW(this,e,r,n,!1)};Ir.prototype.once=function(e,r,n){return mW(this,e,r,n,!0)};Ir.prototype.removeListener=function(e,r,n,i){var a=Wr?Wr+e:e;if(!this._events[a])return this;if(!r)return gS(this,a),this;var o=this._events[a];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&gS(this,a);else{for(var s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==r||i&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[a]=u.length===1?u[0]:u:gS(this,a)}return this};Ir.prototype.removeAllListeners=function(e){var r;return e?(r=Wr?Wr+e:e,this._events[r]&&gS(this,r)):(this._events=new Kg,this._eventsCount=0),this};Ir.prototype.off=Ir.prototype.removeListener;Ir.prototype.addListener=Ir.prototype.on;Ir.prefixed=Wr;Ir.EventEmitter=Ir;typeof TR<"u"&&(TR.exports=Ir)});var yS=h(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getChainType=mt.ChainId=mt.BTCChainId=mt.StarknetChainId=mt.CosmosChainId=mt.FuelChainId=mt.SolanaChainId=mt.SuiChainId=mt.AptosChainId=mt.EthChainId=mt.ChainType=void 0;var Yu;(function(t){t.SOLANA="solana",t.SUI="sui",t.APTOS="aptos",t.ETH="evm",t.BTC="btc"})(Yu||(mt.ChainType=Yu={}));var OR;(function(t){t.ETHEREUM="1",t.OPTIMISM="10",t.CRONOS="25",t.BINANCE="56",t.POLYGON="137",t.MANTA_PACIFIC="169",t.XLAYER_TESTNET="195",t.XLAYER_MAINNET="196",t.B2_MAINNET="223",t.FANTOM="250",t.FRAXTAL="252",t.KUCOIN="321",t.CRONOS_ZKEVM="388",t.ZKSYNC_ERA="324",t.CRONOS_TESTNET="338",t.ASTAR="592",t.LYRA="957",t.POLYGON_ZKEVM="1101",t.CONFLUX="1030",t.METIS="1088",t.MOONBEAM="1284",t.UNCHAIN_SEPOLIA="1301",t.SONEIUM_TESTNET="1946",t.BEVM="11501",t.MERLIN_MAINNET="4200",t.MANTLE="5000",t.BASE="8453",t.LUMIO_TESTNET="9990",t.HOLESKY="17000",t.ASTAR_ZKEVM="3776",t.MOVEMENT_EVM_TESTNET="30732",t.MODE="34443",t.ARBITRUM="42161",t.AVALANCHE="43114",t.ZIRCUIT_TESTNET="48899",t.ZIRCUIT_MAINNET="48900",t.BOB="60808",t.LINEA="59144",t.SONIC_TESTNET="64165",t.BLAST="81457",t.CHILIZ="88888",t.TAIKO="167000",t.TAIKO_TESTNET="167008",t.BITLAYER="200901",t.SCROLL="534352",t.ZKLINK_NOVA="810180",t.SEPOLIA="11155111",t.AURORA="1313161554",t.BLAST_SEPOLIA="168587773"})(OR||(mt.EthChainId=OR={}));var NR;(function(t){t.APTOS_MAINNET="aptos_mainnet",t.APTOS_TESTNET="aptos_testnet",t.APTOS_MOVEMENT_TESTNET="aptos_m2_testnet",t.APTOS_MOVEMENT_MAINNET="aptos_m2_mainnet"})(NR||(mt.AptosChainId=NR={}));var RR;(function(t){t.SUI_MAINNET="sui_mainnet",t.SUI_TESTNET="sui_testnet",t.SUI_MOVEMENT_TESTNET="sui_m2_testnet",t.SUI_MOVEMENT_MAINNET="sui_m2_mainnet"})(RR||(mt.SuiChainId=RR={}));var wR;(function(t){t.SOLANA_MAINNET="sol_mainnet",t.SOLANA_DEVNET="sol_devnet",t.SOLANA_TESTNET="sol_testnet",t.SOLANA_PYTH="sol_pyth"})(wR||(mt.SolanaChainId=wR={}));var PR;(function(t){t.FUEL_MAINNET="fuel_mainnet",t.FUEL_TESTNET="fuel_testnet"})(PR||(mt.FuelChainId=PR={}));var xR;(function(t){t.INJECTIVE_MAINNET="injective_mainnet",t.INJECTIVE_TESTNET="injective_testnet"})(xR||(mt.CosmosChainId=xR={}));var BR;(function(t){t.STARKNET_MAINNET="starknet_mainnet",t.STARKNET_SEPOLIA="starknet_sepolia"})(BR||(mt.StarknetChainId=BR={}));var DR;(function(t){t.BTC_MAINNET="btc_mainnet",t.BTC_TESTNET="btc_testnet"})(DR||(mt.BTCChainId=DR={}));mt.ChainId={...OR,...NR,...RR,...wR,...PR,...xR,...BR,...DR};function yde(t){let e=String(t).toLowerCase();return e.startsWith("sol")?Yu.SOLANA:e.startsWith("sui")?Yu.SUI:e.startsWith("apt")?Yu.APTOS:e.startsWith("btc")?Yu.BTC:Yu.ETH}mt.getChainType=yde});var MR=h(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getChainBlockscoutUrl=ht.getChainExternalUrl=ht.SolanaChainInfo=ht.AptosChainInfo=ht.BTCChainInfo=ht.EthChainInfo=ht.ExplorerApiType=void 0;var x=yS(),ye;(function(t){t.ETHERSCAN="etherscan",t.BLOCKSCOUT="blockscout",t.L2SCAN="l2scan",t.OKLINK="oklink"})(ye||(ht.ExplorerApiType=ye={}));ht.EthChainInfo={[x.EthChainId.ETHEREUM]:{name:"Ethereum",chainId:x.EthChainId.ETHEREUM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://etherscan.io",explorerApi:"https://api.etherscan.io",blockscoutUrl:"https://eth.blockscout.com"},[x.EthChainId.SEPOLIA]:{name:"Sepolia",chainId:x.EthChainId.SEPOLIA,mainnetChainId:x.EthChainId.ETHEREUM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x1ef5f52bdbe11af2377c58ecc914a8c72ea807cf",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://sepolia.etherscan.io",explorerApi:"https://api-sepolia.etherscan.io",blockscoutUrl:"https://eth-sepolia.blockscout.com"},[x.EthChainId.HOLESKY]:{name:"Holesky",chainId:x.EthChainId.HOLESKY,mainnetChainId:x.EthChainId.ETHEREUM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x94373a4919B3240D86eA41593D5eBa789FEF3848",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://holesky.etherscan.io",explorerApi:"https://api-holesky.etherscan.io",blockscoutUrl:"https://eth-holesky.blockscout.com"},[x.EthChainId.BINANCE]:{name:"Binance",chainId:x.EthChainId.BINANCE,priceTokenAddress:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",tokenSymbol:"BNB",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://bscscan.com",explorerApi:"https://api.bscscan.com"},[x.EthChainId.POLYGON]:{name:"Polygon",chainId:x.EthChainId.POLYGON,priceTokenAddress:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",tokenSymbol:"MATIC",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://polygonscan.com",explorerApi:"https://api.polygonscan.com"},[x.EthChainId.ARBITRUM]:{name:"Arbitrum",chainId:x.EthChainId.ARBITRUM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://arbiscan.io",explorerApi:"https://api.arbiscan.io"},[x.EthChainId.AVALANCHE]:{name:"Avalanche",chainId:x.EthChainId.AVALANCHE,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://snowtrace.io",explorerApi:"https://api.routescan.io/v2/network/mainnet/evm/43114/etherscan"},[x.EthChainId.POLYGON_ZKEVM]:{name:"Polygon zkEVM",chainId:x.EthChainId.POLYGON_ZKEVM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4F9A0e7FD2Bf6067db6994CF12E4495Df938E6e9",tokenSymbol:"ETH",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://zkevm.polygonscan.com",explorerApi:"https://api-zkevm.polygonscan.com"},[x.EthChainId.MOONBEAM]:{name:"Moonbeam",chainId:x.EthChainId.MOONBEAM,priceTokenAddress:"0xacc15dc74880c9944775448304b263d191c6077f",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xacc15dc74880c9944775448304b263d191c6077f",tokenSymbol:"GLMR",tokenDecimals:18,explorerApiType:ye.ETHERSCAN,explorerUrl:"https://moonscan.io",explorerApi:"https://api-moonbeam.moonscan.io"},[x.EthChainId.ASTAR]:{name:"Astar",chainId:x.EthChainId.ASTAR,priceTokenAddress:"0xaeaaf0e2c81af264101b9129c00f4440ccf0f720",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xaeaaf0e2c81af264101b9129c00f4440ccf0f720",tokenSymbol:"ASTR",tokenDecimals:18,explorerApiType:ye.BLOCKSCOUT,explorerUrl:"https://astar.blockscout.com",explorerApi:"https://astar.blockscout.com"},[x.EthChainId.ASTAR_ZKEVM]:{name:"Astar zkEVM",chainId:x.EthChainId.ASTAR_ZKEVM,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xE9CC37904875B459Fa5D0FE37680d36F1ED55e38",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://astar-zkevm.explorer.startale.com",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://astar-zkevm.explorer.startale.com"},[x.EthChainId.LINEA]:{name:"Linea",chainId:x.EthChainId.LINEA,priceTokenAddress:"0xe5d7c2a44ffddf6b295a15c148167daaaf5cf34f",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://lineascan.build",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.lineascan.build"},[x.EthChainId.SCROLL]:{name:"Scroll",chainId:x.EthChainId.SCROLL,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x5300000000000000000000000000000000000004",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://scrollscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.scrollscan.com"},[x.EthChainId.TAIKO]:{name:"Taiko Mainnet",chainId:x.EthChainId.TAIKO,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xA51894664A773981C6C112C43ce576f315d5b1B6",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://taikoscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.taikoscan.io"},[x.EthChainId.TAIKO_TESTNET]:{name:"Taiko Testnet",chainId:x.EthChainId.TAIKO_TESTNET,mainnetChainId:x.EthChainId.TAIKO,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xae2C46ddb314B9Ba743C6dEE4878F151881333D9",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://hekla.taikoscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api-hekla.taikoscan.io"},[x.EthChainId.XLAYER_TESTNET]:{name:"X Layer Testnet",chainId:x.EthChainId.XLAYER_TESTNET,mainnetChainId:x.EthChainId.XLAYER_MAINNET,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xa749ad81913cdc19881ebeb64631df72be708335",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://www.oklink.com/xlayer-test",explorerApiType:ye.OKLINK,explorerApi:"https://www.oklink.com/api/v5/explorer"},[x.EthChainId.XLAYER_MAINNET]:{name:"X Layer Mainnet",chainId:x.EthChainId.XLAYER_MAINNET,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x5a77f1443d16ee5761d310e38b62f77f726bc71c",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://www.oklink.com/xlayer",explorerApiType:ye.OKLINK,explorerApi:"https://www.oklink.com/api/v5/explorer"},[x.EthChainId.BLAST]:{name:"Blast Mainnet",chainId:x.EthChainId.BLAST,priceTokenAddress:"0x4300000000000000000000000000000000000004",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4300000000000000000000000000000000000004",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://blastscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.blastscan.io"},[x.EthChainId.BLAST_SEPOLIA]:{name:"Blast Mainnet",chainId:x.EthChainId.BLAST_SEPOLIA,mainnetChainId:x.EthChainId.BLAST,priceTokenAddress:"0x4200000000000000000000000000000000000023",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000023",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://sepolia.blastscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api-sepolia.blastscan.io"},[x.EthChainId.BASE]:{name:"Base",chainId:x.EthChainId.BASE,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://basescan.org",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.basescan.org"},[x.EthChainId.ZKSYNC_ERA]:{name:"zkSync Era",chainId:x.EthChainId.ZKSYNC_ERA,priceTokenAddress:"0x000000000000000000000000000000000000800A",tokenAddress:"0x000000000000000000000000000000000000800A",wrappedTokenAddress:"0x000000000000000000000000000000000000800A",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.zksync.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://block-explorer-api.mainnet.zksync.io"},[x.EthChainId.ZIRCUIT_TESTNET]:{name:"Zircuit Testnet",chainId:x.EthChainId.ZIRCUIT_TESTNET,mainnetChainId:x.EthChainId.ZIRCUIT_MAINNET,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.testnet.zircuit.com"},[x.EthChainId.ZIRCUIT_MAINNET]:{name:"Zircuit Mainnet",chainId:x.EthChainId.ZIRCUIT_MAINNET,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.zircuit.com"},[x.EthChainId.FANTOM]:{name:"Fantom Opera",chainId:x.EthChainId.FANTOM,priceTokenAddress:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",tokenSymbol:"WFTM",tokenDecimals:18,explorerUrl:"https://ftmscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.ftmscan.com"},[x.EthChainId.OPTIMISM]:{name:"Optimism Mainnet",chainId:x.EthChainId.OPTIMISM,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://optimistic.etherscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api-optimistic.etherscan.io"},[x.EthChainId.CRONOS]:{name:"Cronos Mainnet",chainId:x.EthChainId.CRONOS,priceTokenAddress:"0x5c7f8a570d578ed84e63fdfa7b1ee72deae1ae23",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x5c7f8a570d578ed84e63fdfa7b1ee72deae1ae23",tokenSymbol:"CRO",tokenDecimals:18,explorerUrl:"https://cronoscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.cronoscan.com"},[x.EthChainId.CRONOS_TESTNET]:{name:"Cronos Testnet",chainId:x.EthChainId.CRONOS_TESTNET,mainnetChainId:x.EthChainId.CRONOS,priceTokenAddress:"0x6a3173618859c7cd40faf6921b5e9eb6a76f1fd4",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x6a3173618859c7cd40faf6921b5e9eb6a76f1fd4",tokenSymbol:"CRO",tokenDecimals:18,explorerUrl:"https://explorer.cronos.org/testnet"},[x.EthChainId.BITLAYER]:{name:"Bitlayer Mainnet",chainId:x.EthChainId.BITLAYER,priceTokenAddress:"0xff204e2681a6fa0e2c3fade68a1b28fb90e4fc5f",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xff204e2681a6fa0e2c3fade68a1b28fb90e4fc5f",tokenSymbol:"BTC",tokenDecimals:18,explorerUrl:"https://www.btrscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.btrscan.com/scan"},[x.EthChainId.MANTA_PACIFIC]:{name:"Manta Pacific",chainId:x.EthChainId.MANTA_PACIFIC,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x0Dc808adcE2099A9F62AA87D9670745AbA741746",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://pacific-explorer.manta.network",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://pacific-explorer.manta.network"},[x.EthChainId.MANTLE]:{name:"Mantle",chainId:x.EthChainId.MANTLE,priceTokenAddress:"0x78c1b0c915c4faa5fffa6cabf0219da63d7f4cb8",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x78c1b0c915c4faa5fffa6cabf0219da63d7f4cb8",tokenSymbol:"MNT",tokenDecimals:18,explorerUrl:"https://mantlescan.xyz",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.mantlescan.xyz"},[x.EthChainId.B2_MAINNET]:{name:"B2 Mainnet",chainId:x.EthChainId.B2_MAINNET,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"BTC",tokenDecimals:18,explorerUrl:"https://explorer.bsquared.network",explorerApiType:ye.L2SCAN,explorerApi:"https://explorer.bsquared.network/api"},[x.EthChainId.MODE]:{name:"Mode Mainnet",chainId:x.EthChainId.MODE,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://modescan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.routescan.io/v2/network/mainnet/evm/34443/etherscan"},[x.EthChainId.BOB]:{name:"Bob Mainnet",chainId:x.EthChainId.BOB,priceTokenAddress:"0x4200000000000000000000000000000000000006",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.gobob.xyz",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://explorer.gobob.xyz"},[x.EthChainId.FRAXTAL]:{name:"Fraxtal Mainnet",chainId:x.EthChainId.FRAXTAL,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xFC00000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://fraxscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.fraxscan.com"},[x.EthChainId.KUCOIN]:{name:"KCC Mainnet",chainId:x.EthChainId.KUCOIN,priceTokenAddress:"0x4446Fc4eb47f2f6586f9fAAb68B3498F86C07521",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4446Fc4eb47f2f6586f9fAAb68B3498F86C07521",tokenSymbol:"KCS",tokenDecimals:18,explorerUrl:"https://scan.kcc.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://scan.kcc.io"},[x.EthChainId.CONFLUX]:{name:"Conflux eSpace",chainId:x.EthChainId.CONFLUX,priceTokenAddress:"0x14b2d3bc65e74dae1030eafd8ac30c533c976a9b",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x14b2d3bc65e74dae1030eafd8ac30c533c976a9b",tokenSymbol:"CFX",tokenDecimals:18,explorerUrl:"https://evm.confluxscan.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://evmapi.confluxscan.io"},[x.EthChainId.METIS]:{name:"Metis",chainId:x.EthChainId.METIS,priceTokenAddress:"0x75cb093E4D61d2A2e65D8e0BBb01DE8d89b53481",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x75cb093E4D61d2A2e65D8e0BBb01DE8d89b53481",tokenSymbol:"METIS",tokenDecimals:18,explorerUrl:"https://explorer.metis.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/"},[x.EthChainId.BEVM]:{name:"BEVM",chainId:x.EthChainId.BEVM,priceTokenAddress:"0xB5136FEba197f5fF4B765E5b50c74db717796dcD",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xB5136FEba197f5fF4B765E5b50c74db717796dcD",tokenSymbol:"BTC",tokenDecimals:18,explorerUrl:"https://scan.bevm.io",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://scan.bevm.io"},[x.EthChainId.MERLIN_MAINNET]:{name:"Merlin Mainnet",chainId:x.EthChainId.MERLIN_MAINNET,priceTokenAddress:"0xF6D226f9Dc15d9bB51182815b320D3fBE324e1bA",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0xF6D226f9Dc15d9bB51182815b320D3fBE324e1bA",tokenSymbol:"BTC",tokenDecimals:18,explorerUrl:"https://scan.merlinchain.io",explorerApiType:ye.L2SCAN,explorerApi:"https://scan.merlinchain.io/api"},[x.EthChainId.LUMIO_TESTNET]:{name:"Lumio Testnet",chainId:x.EthChainId.LUMIO_TESTNET,priceTokenAddress:"0x1F3dBeBA2513E87642750a278649dc828d054971",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x1F3dBeBA2513E87642750a278649dc828d054971",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.testnet.imola.movementlabs.xyz",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://explorer.testnet.imola.movementlabs.xyz"},[x.EthChainId.MOVEMENT_EVM_TESTNET]:{name:"Movement EVM Testnet",chainId:x.EthChainId.MOVEMENT_EVM_TESTNET,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x0000000000000000000000000000000000000000",tokenSymbol:"MOVE",tokenDecimals:18,explorerUrl:"https://explorer.testnet.imola.movementlabs.xyz"},[x.EthChainId.CHILIZ]:{name:"Chiliz",chainId:x.EthChainId.CHILIZ,priceTokenAddress:"0x721EF6871f1c4Efe730Dce047D40D1743B886946",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x721EF6871f1c4Efe730Dce047D40D1743B886946",tokenSymbol:"CHZ",tokenDecimals:18,explorerUrl:"https://chiliscan.com",explorerApiType:ye.ETHERSCAN,explorerApi:"https://api.routescan.io/v2/network/mainnet/evm/88888/etherscan"},[x.EthChainId.ZKLINK_NOVA]:{name:"zkLink Nova",chainId:x.EthChainId.ZKLINK_NOVA,priceTokenAddress:"0x000000000000000000000000000000000000800A",tokenAddress:"0x000000000000000000000000000000000000800A",wrappedTokenAddress:"0x000000000000000000000000000000000000800A",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.zklink.io",explorerApiType:ye.ETHERSCAN,explorerApi:"https://explorer-api.zklink.io"},[x.EthChainId.AURORA]:{name:"Auroa",chainId:x.EthChainId.AURORA,priceTokenAddress:"0xC9BdeEd33CD01541e1eeD10f90519d2C06Fe3feB",tokenAddress:"0x000000000000000000000000000000000000800A",wrappedTokenAddress:"0xC9BdeEd33CD01541e1eeD10f90519d2C06Fe3feB",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.aurora.dev",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://explorer.aurora.dev"},[x.EthChainId.SONIC_TESTNET]:{name:"Sonic Testnet",chainId:x.EthChainId.SONIC_TESTNET,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x000000000000000000000000000000000000800A",tokenSymbol:"FTM",tokenDecimals:18,explorerUrl:"https://testnet.soniclabs.com",explorerApiType:ye.L2SCAN,explorerApi:"https://testnet.soniclabs.com"},[x.EthChainId.SONEIUM_TESTNET]:{name:"Soneium Testnet",chainId:x.EthChainId.SONEIUM_TESTNET,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x728F2745410A56620B50a6E0592743450e08Cac6",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer-testnet.soneium.org",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://explorer-testnet.soneium.org"},[x.EthChainId.CRONOS_ZKEVM]:{name:"Cronos zkEVM",chainId:x.EthChainId.CRONOS_ZKEVM,priceTokenAddress:"0x000000000000000000000000000000000000800a",tokenAddress:"0x000000000000000000000000000000000000800a",wrappedTokenAddress:"0xc1bf55ee54e16229d9b369a5502bfe5fc9f20b6d",tokenSymbol:"zkCRO",tokenDecimals:18,explorerUrl:"https://explorer.zkevm.cronos.org",explorerApiType:ye.ETHERSCAN,explorerApi:"https://explorer.zkevm.cronos.org"},[x.EthChainId.LYRA]:{name:"Lyra",chainId:x.EthChainId.LYRA,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x15CEcd5190A43C7798dD2058308781D0662e678E",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://explorer.lyra.finance",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://explorer.lyra.finance"},[x.EthChainId.UNCHAIN_SEPOLIA]:{name:"Unchain Sepolia",chainId:x.EthChainId.UNCHAIN_SEPOLIA,priceTokenAddress:"0x0000000000000000000000000000000000000000",tokenAddress:"0x0000000000000000000000000000000000000000",wrappedTokenAddress:"0x4200000000000000000000000000000000000006",tokenSymbol:"ETH",tokenDecimals:18,explorerUrl:"https://unichain-sepolia.blockscout.com",explorerApiType:ye.BLOCKSCOUT,explorerApi:"https://unichain-sepolia.blockscout.com"}};function vde(t,e,r){let n=r,i=ht.EthChainInfo[t];if(i)return i.explorerApiType===ye.L2SCAN&&r==="block"&&(n="blocks"),`${i.explorerUrl}/${n}/${e}`}ht.BTCChainInfo={[x.BTCChainId.BTC_MAINNET]:{name:"Bitcoin Mainnet",chainId:x.BTCChainId.BTC_MAINNET,explorerUrl:"https://mempool.space"},[x.BTCChainId.BTC_TESTNET]:{name:"Bitcoin Mainnet",chainId:x.BTCChainId.BTC_TESTNET,explorerUrl:"https://mempool.space/testnet4"}};var bde={block:"block",address:"address",tx:"tx",token:void 0};function Sde(t,e,r){let n=ht.BTCChainInfo[t]?.explorerUrl,i=bde[r];if(!(!n||!i))return`${n}/${i}/${e}`}ht.AptosChainInfo={[x.AptosChainId.APTOS_MAINNET]:{name:"Aptos Mainnet",chainId:x.AptosChainId.APTOS_MAINNET,explorerUrl:"https://explorer.aptoslabs.com",suffix:"?network=mainnet"},[x.AptosChainId.APTOS_TESTNET]:{name:"Aptos Testenet",chainId:x.AptosChainId.APTOS_TESTNET,explorerUrl:"https://explorer.aptoslabs.com",suffix:"?network=mainnet"},[x.AptosChainId.APTOS_MOVEMENT_MAINNET]:{name:"Movement Mainnet Aptos",chainId:x.AptosChainId.APTOS_MOVEMENT_MAINNET,explorerUrl:"https://explorer.aptoslabs.com",suffix:"?network=mainnet"},[x.AptosChainId.APTOS_MOVEMENT_TESTNET]:{name:"Movement Testnet Aptos",chainId:x.AptosChainId.APTOS_MOVEMENT_TESTNET,explorerUrl:"https://explorer.aptoslabs.com",suffix:"?network=mainnet"}};var _de={block:"block",address:"account",tx:"txn",token:void 0};function Ede(t,e,r){let{explorerUrl:n,suffix:i}=ht.AptosChainInfo[t],a=_de[r];if(a)return`${n}/${a}/${e}${i}`}ht.SolanaChainInfo={[x.SolanaChainId.SOLANA_MAINNET]:{name:"Solana Mainnet",chainId:x.SolanaChainId.SOLANA_MAINNET,explorerUrl:"https://solscan.io/",suffix:""},[x.SolanaChainId.SOLANA_TESTNET]:{name:"Solana Testnet",chainId:x.SolanaChainId.SOLANA_MAINNET,explorerUrl:"https://solscan.io/",suffix:"?cluster=testnet"}};var Tde={block:"block",address:"address",tx:"tx",token:"token"};function Ade(t,e,r){let{explorerUrl:n,suffix:i}=ht.SolanaChainInfo[t],a=Tde[r];if(a)return`${n}${a}/${e}${i}`}var bW={[x.SuiChainId.SUI_MAINNET]:{name:"Sui Mainnet",chainId:x.SuiChainId.SUI_MAINNET,explorerUrl:"https://suivision.xyz"},[x.SuiChainId.SUI_TESTNET]:{name:"Sui Testnet",chainId:x.SuiChainId.SUI_TESTNET,explorerUrl:"https://testnet.suivision.xyz"}},Cde={block:"checkpoint",address:"account",tx:"txblock",token:void 0};function kde(t,e,r){let{explorerUrl:n}=bW[t],i=Cde[r];if(i)return`${n}/${i}/${e}`}function Ide(t,e,r){if(!t||!e||!r)return;let n=t.toString();if(Object.keys(ht.EthChainInfo).includes(n))return vde(n,e,r);if(Object.keys(ht.BTCChainInfo).includes(n))return Sde(n,e,r);if(Object.keys(ht.AptosChainInfo).includes(n))return Ede(n,e,r);if(Object.keys(ht.SolanaChainInfo).includes(n))return Ade(n,e,r);if(Object.keys(bW).includes(n))return kde(n,e,r)}ht.getChainExternalUrl=Ide;function Ode(t,e,r){if(!t||!e||!r)return;let n=ht.EthChainInfo[t];if(n&&n.blockscoutUrl)return`${n.blockscoutUrl}/${r}/${e}`}ht.getChainBlockscoutUrl=Ode});var _W=h($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.getChainScanUrl=$n.getChainName=$n.CHAIN_MAP=void 0;var $u=yS(),Nde=MR();$n.CHAIN_MAP={[$u.ChainId.APTOS_MOVEMENT_MAINNET]:"Movement Mainnet Aptos",[$u.ChainId.APTOS_MOVEMENT_TESTNET]:"Movement Testnet Aptos",[$u.ChainId.SUI_MOVEMENT_MAINNET]:"Movement Mainnet Sui",[$u.ChainId.SUI_MOVEMENT_TESTNET]:"Movement Testnet Sui",[$u.ChainId.BTC_MAINNET]:"Bitcoin Mainnet",[$u.ChainId.BTC_TESTNET]:"Bitcoin Testnet"};for(let[t,e]of Object.entries($u.ChainId)){if($n.CHAIN_MAP[e])continue;let r=Nde.EthChainInfo[e];if(r){$n.CHAIN_MAP[e]=r.name;continue}let n=t.split("_");$n.CHAIN_MAP[e]=n.map((i,a)=>i[0]+i.slice(1).toLowerCase()).join(" ")}function SW(t){if(typeof t=="number"&&(t=t.toString()),t){let e=$n.CHAIN_MAP[t];if(e)return e}return t||""}$n.getChainName=SW;function Rde(t,e,r){let n=SW(t);if(n==="Ethereum")return r==="block"?`https://etherscan.io/block/${e}`:r==="address"?`https://etherscan.io/address/${e}`:`https://etherscan.io/tx/${e}`;if(n==="Polygon")return r==="block"?`https://polygonscan.com/block/${e}`:r==="address"?`https://polygonscan.com/address/${e}`:`https://polygonscan.com/tx/${e}`;if(n.startsWith("Aptos ")){let i="?network=mainnet";return n.includes("Testnet")?i="?network=testnet":n.includes("Devnet")&&(i="?network=devnet"),r==="block"?`https://explorer.aptoslabs.com/block/${e}/${i}`:r==="address"?`https://explorer.aptoslabs.com/account/${e}/${i}`:`https://explorer.aptoslabs.com/txn/${e}/${i}`}if(n.startsWith("Solana "))return r==="block"?`https://explorer.solana.com/block/${e}`:r==="address"?`https://explorer.solana.com/address/${e}`:`https://explorer.solana.io/tx/${e}`;if(n.startsWith("Sui "))return r==="block"?`https://suivision.xyz/checkpoint/${e}`:r==="address"?`https://suivision.xyz/account/${e}`:`https://suivision.xyz/txblock/${e}`}$n.getChainScanUrl=Rde});var EW=h(uo=>{"use strict";var wde=uo&&uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LR=uo&&uo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wde(e,t,r)};Object.defineProperty(uo,"__esModule",{value:!0});LR(yS(),uo);LR(MR(),uo);LR(_W(),uo)});var $g={};vl($g,{__addDisposableResource:()=>XW,__assign:()=>SS,__asyncDelegator:()=>JW,__asyncGenerator:()=>VW,__asyncValues:()=>WW,__await:()=>ch,__awaiter:()=>DW,__classPrivateFieldGet:()=>QW,__classPrivateFieldIn:()=>ZW,__classPrivateFieldSet:()=>KW,__createBinding:()=>ES,__decorate:()=>PW,__disposeResources:()=>YW,__esDecorate:()=>qde,__exportStar:()=>LW,__extends:()=>RW,__generator:()=>MW,__importDefault:()=>zW,__importStar:()=>HW,__makeTemplateObject:()=>GW,__metadata:()=>BW,__param:()=>xW,__propKey:()=>Vde,__read:()=>VR,__rest:()=>wW,__runInitializers:()=>Ude,__setFunctionName:()=>Jde,__spread:()=>FW,__spreadArray:()=>UW,__spreadArrays:()=>qW,__values:()=>_S,default:()=>Hde});function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");UR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function wW(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PW(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function xW(t,e){return function(r,n){e(r,n,t)}}function qde(t,e,r,n,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var b=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],g);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=o(b.get))&&(c.get=d),(d=o(b.set))&&(c.set=d),(d=o(b.init))&&i.unshift(d)}else(d=o(b))&&(s==="field"?i.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function Ude(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Vde(t){return typeof t=="symbol"?t:"".concat(t)}function Jde(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function BW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function DW(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function MW(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function LW(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ES(e,t,r)}function _S(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VR(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function FW(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(VR(arguments[e]));return t}function qW(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function UW(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function ch(t){return this instanceof ch?(this.v=t,this):new ch(t)}function VW(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(g){return Promise.resolve(g).then(p,d)}}function s(p,g){n[p]&&(i[p]=function(m){return new Promise(function(b,v){a.push([p,m,b,v])>1||u(p,m)})},g&&(i[p]=g(i[p])))}function u(p,g){try{l(n[p](g))}catch(m){f(a[0][3],m)}}function l(p){p.value instanceof ch?Promise.resolve(p.value.v).then(c,d):f(a[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,g){p(g),a.shift(),a.length&&u(a[0][0],a[0][1])}}function JW(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:ch(t[i](o)),done:!1}:a?a(o):o}:a}}function WW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _S=="function"?_S(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,u){o=t[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}}function GW(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function HW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ES(e,t,r);return Wde(e,t),e}function zW(t){return t&&t.__esModule?t:{default:t}}function QW(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function KW(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function ZW(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function XW(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function YW(t){function e(n){t.error=t.hasError?new Gde(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(a){return e(a),r()})}catch(a){e(a)}}if(t.hasError)throw t.error}return r()}var UR,SS,ES,Wde,Gde,Hde,jg=ae(()=>{UR=function(t,e){return UR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UR(t,e)};SS=function(){return SS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},SS.apply(this,arguments)};ES=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};Wde=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Gde=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};Hde={__extends:RW,__assign:SS,__rest:wW,__decorate:PW,__param:xW,__metadata:BW,__awaiter:DW,__generator:MW,__createBinding:ES,__exportStar:LW,__values:_S,__read:VR,__spread:FW,__spreadArrays:qW,__spreadArray:UW,__await:ch,__asyncGenerator:VW,__asyncDelegator:JW,__asyncValues:WW,__makeTemplateObject:GW,__importStar:HW,__importDefault:zW,__classPrivateFieldGet:QW,__classPrivateFieldSet:KW,__classPrivateFieldIn:ZW,__addDisposableResource:XW,__disposeResources:YW}});var AS=h(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.AsyncSink=void 0;var zde="value",JR="error",WR=class{_ended;_values;_resolvers;constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(e){this._push({type:zde,value:e})}error(e){this._push({type:JR,error:e})}_push(e){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){let{resolve:r,reject:n}=this._resolvers.shift();e.type===JR?n(e.error):r({done:!1,value:e.value})}else this._values.push(e)}next(){if(this._values.length>0){let{type:e,value:r,error:n}=this._values.shift();return e===JR?Promise.reject(n):Promise.resolve({done:!1,value:r})}return this._ended?Promise.resolve({done:!0}):new Promise((e,r)=>{this._resolvers.push({resolve:e,reject:r})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}};TS.AsyncSink=WR});var GR=h(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.bindCallback=void 0;function Qde(t,e,r){if(typeof e>"u")return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,a){return t.call(e,n,i,a)};default:return function(){return t.apply(e,arguments)}}}CS.bindCallback=Qde});var dr=h(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.identityAsync=dh.identity=void 0;function Kde(t){return t}dh.identity=Kde;async function Zde(t){return t}dh.identityAsync=Zde});var Qi=h(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.isFetchResponse=de.isWritableDOMStream=de.isReadableDOMStream=de.isWritableNodeStream=de.isReadableNodeStream=de.isObservable=de.isAsyncIterable=de.isIterator=de.isIterable=de.isArrayLike=de.isPromise=de.isObject=de.isFunction=void 0;var Xde=t=>typeof t=="number",$W=t=>typeof t=="boolean",Yde=t=>typeof t=="function";de.isFunction=Yde;var $de=t=>t!=null&&Object(t)===t;de.isObject=$de;var jde=t=>(0,de.isObject)(t)&&(0,de.isFunction)(t.then);de.isPromise=jde;function efe(t){return(0,de.isObject)(t)&&Xde(t.length)}de.isArrayLike=efe;function tfe(t){return t!=null&&(0,de.isFunction)(t[Symbol.iterator])}de.isIterable=tfe;function rfe(t){return(0,de.isObject)(t)&&!(0,de.isFunction)(t[Symbol.iterator])&&(0,de.isFunction)(t.next)}de.isIterator=rfe;function nfe(t){return(0,de.isObject)(t)&&(0,de.isFunction)(t[Symbol.asyncIterator])}de.isAsyncIterable=nfe;function ife(t){return t!=null&&Object(t)===t&&typeof t.subscribe=="function"}de.isObservable=ife;var afe=t=>(0,de.isObject)(t)&&(0,de.isFunction)(t.pipe)&&(0,de.isFunction)(t._read)&&$W(t.readable)&&(0,de.isObject)(t._readableState);de.isReadableNodeStream=afe;var ofe=t=>(0,de.isObject)(t)&&(0,de.isFunction)(t.end)&&(0,de.isFunction)(t._write)&&$W(t.writable)&&(0,de.isObject)(t._writableState);de.isWritableNodeStream=ofe;var sfe=t=>(0,de.isObject)(t)&&(0,de.isFunction)(t.cancel)&&(0,de.isFunction)(t.getReader);de.isReadableDOMStream=sfe;var ufe=t=>(0,de.isObject)(t)&&(0,de.isFunction)(t.abort)&&(0,de.isFunction)(t.getWriter);de.isWritableDOMStream=ufe;var lfe=t=>(0,de.isObject)(t)&&(0,de.isReadableDOMStream)(t.body);de.isFetchResponse=lfe});var jW=h(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.toInteger=void 0;function cfe(t){let e=Number(t);return isNaN(e)?0:e===0||!isFinite(e)?e:(e>0?1:-1)*Math.floor(Math.abs(e))}kS.toInteger=cfe});var HR=h(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.toLength=void 0;var dfe=jW(),ffe=Math.pow(2,53)-1;function hfe(t){let e=(0,dfe.toInteger)(t);return Math.min(Math.max(e,0),ffe)}IS.toLength=hfe});var J=h(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.throwIfAborted=fh.AbortError=void 0;var pfe=Qi(),el=class extends Error{constructor(e="The operation has been aborted"){super(e),Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace(this,this.constructor),this.name="AbortError"}get[Symbol.toStringTag](){return"AbortError"}};fh.AbortError=el;function mfe(t){if(t&&t.aborted)throw new el}fh.throwIfAborted=mfe;Object.defineProperty(el,Symbol.hasInstance,{writable:!0,configurable:!0,value(t){return(0,pfe.isObject)(t)&&(t.constructor.name==="AbortError"||t[Symbol.toStringTag]==="AbortError")}})});var Z=h(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.FromObservableAsyncIterable=un.FromPromiseIterable=un.FromAsyncIterable=un.FromArrayIterable=un.AsyncSink=un.AsyncIterableX=void 0;var gfe=GR(),tl=dr(),wn=Qi(),yfe=HR(),zR=J(),Gr=class{async forEach(e,r,n){let i=n?new KR(this,n):this,a=0;for await(let o of i)await e.call(r,o,a++,n)}pipe(...e){let r=-1,n=e.length,i=this;for(;++r<n;)i=e[r](Gr.as(i));return i}static from(e,r=tl.identityAsync,n){let i=(0,gfe.bindCallback)(r,n,2);if((0,wn.isIterable)(e)||(0,wn.isAsyncIterable)(e))return new hh(e,i);if((0,wn.isPromise)(e))return new e0(e,i);if((0,wn.isObservable)(e))return new t0(e,i);if((0,wn.isArrayLike)(e))return new rl(e,i);if((0,wn.isIterator)(e))return new hh({[Symbol.asyncIterator]:()=>e},i);throw new TypeError("Input type not supported")}static as(e){return e instanceof Gr?e:typeof e=="string"?new rl([e],tl.identityAsync):(0,wn.isIterable)(e)||(0,wn.isAsyncIterable)(e)?new hh(e,tl.identityAsync):(0,wn.isPromise)(e)?new e0(e,tl.identityAsync):(0,wn.isObservable)(e)?new t0(e,tl.identityAsync):(0,wn.isArrayLike)(e)?new rl(e,tl.identityAsync):new rl([e],tl.identityAsync)}};un.AsyncIterableX=Gr;Gr.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(Gr,Symbol.hasInstance,{writable:!0,configurable:!0,value(t){return!!(t&&t[Symbol.toStringTag]==="AsyncIterableX")}});var vfe="value",QR="error",OS=class{_ended;_values;_resolvers;constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(e){this._push({type:vfe,value:e})}error(e){this._push({type:QR,error:e})}_push(e){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){let{resolve:r,reject:n}=this._resolvers.shift();e.type===QR?n(e.error):r({done:!1,value:e.value})}else this._values.push(e)}next(){if(this._values.length>0){let{type:e,value:r,error:n}=this._values.shift();return e===QR?Promise.reject(n):Promise.resolve({done:!1,value:r})}return this._ended?Promise.resolve({done:!0}):new Promise((e,r)=>{this._resolvers.push({resolve:e,reject:r})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}};un.AsyncSink=OS;var rl=class extends Gr{_source;_selector;constructor(e,r){super(),this._source=e,this._selector=r}async*[Symbol.asyncIterator](){let e=0,r=(0,yfe.toLength)(this._source.length);for(;e<r;)yield await this._selector(this._source[e],e++)}};un.FromArrayIterable=rl;var hh=class extends Gr{_source;_selector;constructor(e,r){super(),this._source=e,this._selector=r}async*[Symbol.asyncIterator](){let e=0;for await(let r of this._source)yield await this._selector(r,e++)}};un.FromAsyncIterable=hh;var e0=class extends Gr{_source;_selector;constructor(e,r){super(),this._source=e,this._selector=r}async*[Symbol.asyncIterator](){let e=await this._source;yield await this._selector(e,0)}};un.FromPromiseIterable=e0;var t0=class extends Gr{_observable;_selector;constructor(e,r){super(),this._observable=e,this._selector=r}async*[Symbol.asyncIterator](e){(0,zR.throwIfAborted)(e);let r=new OS,n=this._observable.subscribe({next(o){r.write(o)},error(o){r.error(o)},complete(){r.end()}});function i(){r.error(new zR.AbortError)}e&&e.addEventListener("abort",i);let a=0;try{for(let o;!(o=await r.next()).done;)(0,zR.throwIfAborted)(e),yield await this._selector(o.value,a++)}finally{e&&e.removeEventListener("abort",i),n.unsubscribe()}}};un.FromObservableAsyncIterable=t0;var KR=class{_source;_signal;constructor(e,r){this._source=e,this._signal=r}[Symbol.asyncIterator](){return this._source[Symbol.asyncIterator](this._signal)}};try{(t=>{if(t)return;Gr.prototype.pipe=r;let e=(n,i=n._writableState||{objectMode:!0})=>i;function r(...n){let i=-1,a,o=n.length,s=this,u;for(;++i<o;)if(u=n[i],typeof u=="function")s=u(Gr.as(s));else if((0,wn.isWritableNodeStream)(u))return{end:a=!0}=n[i+1]||{},(0,wn.isReadableNodeStream)(s)?s.pipe(u,{end:a}):Gr.as(s).toNodeStream(e(u)).pipe(u,{end:a});return s}})(typeof window=="object"&&typeof document=="object"&&document.nodeType===9)}catch{}});var YR=h(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.RefCountList=ph.MaxRefCountList=void 0;var ZR=class{_list=[];clear(){this._list=[]}get count(){return this._list.length}get(e){return this._list[e]}push(e){this._list.push(e)}done(){}};ph.MaxRefCountList=ZR;var XR=class{_readerCount;_list;_count=0;constructor(e){this._readerCount=e,this._list=new Map}clear(){this._list.clear()}get count(){return this._count}get readerCount(){return this._readerCount}set readerCount(e){this._readerCount=e}done(){this._readerCount--}get(e){if(!this._list.has(e))throw new Error("Element no longer available in the buffer.");let r=this._list.get(e),n=r.value;return--r.count===0&&this._list.delete(e),n}push(e){this._list.set(this._count++,{value:e,count:this._readerCount})}};ph.RefCountList=XR});var r0=h(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.create=void 0;var bfe=Z(),Sfe=J(),$R=class extends bfe.AsyncIterableX{_fn;constructor(e){super(),this._fn=e}async*[Symbol.asyncIterator](e){(0,Sfe.throwIfAborted)(e);let r=await this._fn(e),n;for(;!(n=await r.next()).done;)yield n.value}};function _fe(t){return new $R(t)}NS.create=_fe});var gh=h(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.memoize=mh.MemoizeAsyncBuffer=void 0;var Efe=Z(),e5=YR(),Tfe=r0(),Afe=J(),n0=class extends Efe.AsyncIterableX{_source;_buffer;_shared;_error;_stopped;constructor(e,r){super(),this._error=null,this._shared=null,this._stopped=!1,this._source=e,this._buffer=r}[Symbol.asyncIterator](e){return(0,Afe.throwIfAborted)(e),this._getIterable(0)}async*_getIterable(e=0){let r=e-1,n=!1,i=this._buffer;try{do{if(++r<i.count){yield i.get(r);continue}if(this._stopped)throw this._error;this._shared===null&&(this._shared=this._source.next().then(a=>(this._shared=null,a.done||i.push(a.value),a))),{done:n}=await this._shared.catch(a=>{throw this._error=a,this._stopped=!0,a}),n||(yield i.get(r))}while(!n)}finally{i.done()}}};mh.MemoizeAsyncBuffer=n0;function t5(t=-1,e){return function(n){return e?(0,Tfe.create)(()=>e(t5(t)(n))[Symbol.asyncIterator]()):t===-1?new n0(n[Symbol.asyncIterator](),new e5.MaxRefCountList):new n0(n[Symbol.asyncIterator](),new e5.RefCountList(t))}}mh.memoize=t5});var r5=h(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.asyncifyErrback=void 0;var Cfe=AS(),kfe=gh();function Ife(t){return function(...e){let r=new Cfe.AsyncSink,n=function(a,...o){a?(r.error(a),r.end()):(r.write(o.length===1?o[0]:o),r.end())};try{t(...e.concat(n))}catch(a){r.error(a),r.end()}let i=async function*(){for(let a;!(a=await r.next()).done;)yield a.value};return(0,kfe.memoize)()(i())}}RS.asyncifyErrback=Ife});var n5=h(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.asyncify=void 0;var Ofe=AS(),Nfe=gh();function Rfe(t){return function(...e){let r=new Ofe.AsyncSink,n=function(...a){r.write(a.length===1?a[0]:a),r.end()};try{t(...e.concat(n))}catch(a){r.error(a),r.end()}let i=async function*(){for(let a;!(a=await r.next()).done;)yield a.value};return(0,Nfe.memoize)()(i())}}wS.asyncify=Rfe});var K=h(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.wrapWithAbort=Ts.withAbort=Ts.WithAbortAsyncIterable=void 0;var wfe=Z(),nl=class extends wfe.AsyncIterableX{_source;_signal;constructor(e,r){super(),this._source=e,this._signal=r}withAbort(e){return new nl(this._source,e)}[Symbol.asyncIterator](){return this._source[Symbol.asyncIterator](this._signal)}};Ts.WithAbortAsyncIterable=nl;function Pfe(t){return function(r){return new nl(r,t)}}Ts.withAbort=Pfe;function xfe(t,e){return e?new nl(t,e):t}Ts.wrapWithAbort=xfe});var i5=h(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.average=void 0;var Bfe=dr(),Dfe=K(),Mfe=J();async function Lfe(t,e){let{["selector"]:r=Bfe.identityAsync,["signal"]:n,["thisArg"]:i}=e||{};(0,Mfe.throwIfAborted)(n);let a=0,o=0;for await(let s of(0,Dfe.wrapWithAbort)(t,n))a+=await r.call(i,s,n),o++;if(o===0)throw new Error("Empty collection");return a/o}PS.average=Lfe});var il=h(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.returnAsyncIterator=yh.returnIterator=void 0;function Ffe(t){typeof t.return=="function"&&t.return()}yh.returnIterator=Ffe;async function qfe(t){typeof t.return=="function"&&await t.return()}yh.returnAsyncIterator=qfe});var jR=h(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.catchError=As.catchAll=As.CatchAllAsyncIterable=void 0;var Ufe=Z(),a5=il(),Vfe=K(),Jfe=J(),i0=class extends Ufe.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,Jfe.throwIfAborted)(e);let r=null,n=!1;for(let i of this._source){let a=(0,Vfe.wrapWithAbort)(i,e)[Symbol.asyncIterator]();for(r=null,n=!1;;){let o={};try{let{done:s,value:u}=await a.next();if(s){await(0,a5.returnAsyncIterator)(a);break}o=u}catch(s){r=s,n=!0,await(0,a5.returnAsyncIterator)(a);break}yield o}if(!n)break}if(n)throw r}};As.CatchAllAsyncIterable=i0;function Wfe(t){return new i0(t)}As.catchAll=Wfe;function Gfe(...t){return new i0(t)}As.catchError=Gfe});var lo=h(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.safeRace=void 0;function o5(t){return t===null||typeof t!="object"&&typeof t!="function"}var e3=new WeakMap;function Hfe(t){let e;return new Promise((n,i)=>{e={resolve:n,reject:i};for(let a of t){if(o5(a)){Promise.resolve(a).then(n,i);continue}let o=e3.get(a);o===void 0?(o={deferreds:new Set([e]),settled:!1},e3.set(a,o),Promise.resolve(a).then(s=>{for(let{resolve:u}of o.deferreds)u(s);o.deferreds.clear(),o.settled=!0},s=>{for(let{reject:u}of o.deferreds)u(s);o.deferreds.clear(),o.settled=!0})):o.settled?Promise.resolve(a).then(n,i):o.deferreds.add(e)}}).finally(()=>{for(let n of t)o5(n)||e3.get(n).deferreds.delete(e)})}xS.safeRace=Hfe});var t3=h(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.combineLatest=vh.CombineLatestAsyncIterable=void 0;var zfe=Z(),Qfe=dr(),Kfe=K(),Zfe=J(),Xfe=lo(),Yfe=new Promise(()=>{});function s5(t,e){return t.then(r=>({value:r,index:e}))}var BS=class extends zfe.AsyncIterableX{_sources;constructor(e){super(),this._sources=e}async*[Symbol.asyncIterator](e){(0,Zfe.throwIfAborted)(e);let r=this._sources.length,n=new Array(r),i=new Array(r),a=!1,o=new Array(r),s=new Array(r),u=r;s.fill(!1);for(let l=0;l<r;l++){let c=(0,Kfe.wrapWithAbort)(this._sources[l],e)[Symbol.asyncIterator]();n[l]=c,i[l]=s5(c.next(),l)}for(;u>0;){let l=(0,Xfe.safeRace)(i),{value:{value:c,done:d},index:f}=await l;if(d)i[f]=Yfe,u--;else{o[f]=c,s[f]=!0;let p=n[f];i[f]=s5(p.next(),f),(a||(a=s.every(Qfe.identity)))&&(yield o)}}}};vh.CombineLatestAsyncIterable=BS;function $fe(...t){return new BS(t)}vh.combineLatest=$fe});var DS=h(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.concat=Cs._concatAll=Cs.ConcatAsyncIterable=void 0;var jfe=Z(),ehe=K(),the=J(),a0=class extends jfe.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,the.throwIfAborted)(e);for(let r of this._source)for await(let n of(0,ehe.wrapWithAbort)(r,e))yield n}};Cs.ConcatAsyncIterable=a0;function rhe(t){return new a0(t)}Cs._concatAll=rhe;function nhe(...t){return new a0(t)}Cs.concat=nhe});var u5=h(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.count=void 0;var ihe=K(),ahe=J();async function ohe(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i=async()=>!0}=e||{};(0,ahe.throwIfAborted)(r);let a=0;for await(let o of(0,ihe.wrapWithAbort)(t,r))await i.call(n,o,a,r)&&a++;return a}MS.count=ohe});var n3=h(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.defer=void 0;var she=Z(),uhe=K(),lhe=J(),r3=class extends she.AsyncIterableX{_fn;constructor(e){super(),this._fn=e}async*[Symbol.asyncIterator](e){(0,lhe.throwIfAborted)(e);let r=await this._fn(e);for await(let n of(0,uhe.wrapWithAbort)(r,e))yield n}};function che(t){return new r3(t)}LS.defer=che});var l5=h(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.elementAt=void 0;var dhe=K(),fhe=J();async function hhe(t,e,r){(0,fhe.throwIfAborted)(r);let n=e;for await(let i of(0,dhe.wrapWithAbort)(t,r)){if(n===0)return i;n--}}FS.elementAt=hhe});var US=h(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.empty=void 0;var phe=Z(),mhe=J(),i3=class extends phe.AsyncIterableX{async*[Symbol.asyncIterator](e){(0,mhe.throwIfAborted)(e)}};function ghe(){return new i3}qS.empty=ghe});var c5=h(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.every=void 0;var yhe=K(),vhe=J();async function bhe(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i}=e;(0,vhe.throwIfAborted)(r);let a=0;for await(let o of(0,yhe.wrapWithAbort)(t,r))if(!await i.call(n,o,a++,r))return!1;return!0}VS.every=bhe});var d5=h(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.findIndex=void 0;var She=K(),_he=J();async function Ehe(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i}=e;(0,_he.throwIfAborted)(r);let a=0;for await(let o of(0,She.wrapWithAbort)(t,r))if(await i.call(n,o,a++,r))return a;return-1}JS.findIndex=Ehe});var f5=h(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.find=void 0;var The=K(),Ahe=J();async function Che(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i}=e;(0,Ahe.throwIfAborted)(r);let a=0;for await(let o of(0,The.wrapWithAbort)(t,r))if(await i.call(n,o,a++,r))return o}WS.find=Che});var h5=h(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.first=void 0;var khe=K(),Ihe=J();async function Ohe(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i=async()=>!0}=e||{};(0,Ihe.throwIfAborted)(r);let a=0;for await(let o of(0,khe.wrapWithAbort)(t,r))if(await i.call(n,o,a++,r))return o}GS.first=Ohe});var m5=h(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.forkJoin=void 0;var Nhe=dr(),Rhe=K(),whe=lo(),Phe=new Promise(()=>{});function p5(t,e){return t.then(r=>({value:r,index:e}))}async function xhe(...t){let e=t.shift();e instanceof AbortSignal||(t.unshift(e),e=void 0);let r=t.length,n=new Array(r),i=new Array(r),a=r,o=new Array(r),s=new Array(r);s.fill(!1);for(let u=0;u<r;u++){let l=(0,Rhe.wrapWithAbort)(t[u],e)[Symbol.asyncIterator]();n[u]=l,i[u]=p5(l.next(),u)}for(;a>0;){let u=(0,whe.safeRace)(i),{value:l,index:c}=await u;if(l.done)i[c]=Phe,a--;else{let d=n[c];i[c]=p5(d.next(),c),s[c]=!0,o[c]=l.value}}if(s.length>0&&s.every(Nhe.identity))return o}HS.forkJoin=xhe});var a3=h(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.fromDOMStream=ks.AsyncIterableReadableByteStream=ks.AsyncIterableReadableStream=void 0;var Bhe=Z(),Dhe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer,o0=class extends Bhe.AsyncIterableX{_stream;constructor(e){super(),this._stream=e}[Symbol.asyncIterator](){let e=this._stream,r=e.getReader();return g5(e,r,Mhe(r))}};ks.AsyncIterableReadableStream=o0;var zS=class extends o0{[Symbol.asyncIterator](){let e=this._stream,r;try{r=e.getReader({mode:"byob"})}catch{return super[Symbol.asyncIterator]()}let n=g5(e,r,Lhe(r));return n.next(),n}};ks.AsyncIterableReadableByteStream=zS;async function*g5(t,e,r){let n=!1;try{yield*r}catch(i){(n=!0)&&e&&await e.cancel(i)}finally{if(e&&(n||await e.cancel(),t.locked))try{e.closed.catch(()=>{}),e.releaseLock()}catch{}}}async function*Mhe(t){let e;for(;!(e=await t.read()).done;)yield e.value}async function*Lhe(t){let e,r=yield null;for(;!(e=await Fhe(t,r,0)).done;)r=yield e.value}async function Fhe(t,e,r){let n,i;if(typeof e=="number")i=new ArrayBuffer(n=e);else if(e instanceof ArrayBuffer)n=(i=e).byteLength;else if(e instanceof Dhe)n=(i=e).byteLength;else return{done:!0,value:void 0};return await y5(t,i,r,n)}async function y5(t,e,r,n){let i=r;if(i>=n)return{done:!1,value:new Uint8Array(e,0,n)};let{done:a,value:o}=await t.read(new Uint8Array(e,i,n-i));return(i+=o.byteLength)<n&&!a?await y5(t,o.buffer,i,n):{done:a,value:new Uint8Array(o.buffer,0,i)}}function qhe(t,e){return!e||e.mode!=="byob"?new o0(t):new zS(t)}ks.fromDOMStream=qhe});var o3=h(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.fromEventPattern=void 0;var Uhe=gh(),Vhe=dr(),Jhe=Qi(),Whe=AS(),{isArray:Ghe}=Array;function Hhe(t,e){return Ghe(e)?t(...e):t(e)}function zhe(t,e,r){(0,Jhe.isFunction)(r)||(r=Vhe.identity);let n=new Whe.AsyncSink,i=(...o)=>n.write(Hhe(r,o));t(i);let a=async function*(){try{for(let o;!(o=await n.next()).done;)yield o.value}finally{e(i),n.end()}};return(0,Uhe.memoize)()(a())}QS.fromEventPattern=zhe});var v5=h(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.fromEvent=void 0;var s3=o3(),al=Qi();function Qhe(t){return!!t&&(0,al.isFunction)(t.on)&&(0,al.isFunction)(t.off)}function Khe(t){return!!t&&(0,al.isFunction)(t.addListener)&&(0,al.isFunction)(t.removeListener)}function Zhe(t){return!!t&&(0,al.isFunction)(t.addEventListener)&&(0,al.isFunction)(t.removeEventListener)}function Xhe(t,e,r,n){if((0,al.isFunction)(r)&&(n=r,r=void 0),Zhe(t)){let i=t;return(0,s3.fromEventPattern)(a=>i.addEventListener(e,a,r),a=>i.removeEventListener(e,a,r),n)}else if(Qhe(t)){let i=t;return(0,s3.fromEventPattern)(a=>i.on(e,a),a=>i.off(e,a),n)}else if(Khe(t)){let i=t;return(0,s3.fromEventPattern)(a=>i.addListener(e,a),a=>i.removeListener(e,a),n)}else throw new TypeError("Unsupported event target")}KS.fromEvent=Xhe});var b5=h(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.generate=void 0;var Yhe=Z(),$he=J(),u3=class extends Yhe.AsyncIterableX{_initialState;_condition;_iterate;_resultSelector;constructor(e,r,n,i){super(),this._initialState=e,this._condition=r,this._iterate=n,this._resultSelector=i}async*[Symbol.asyncIterator](e){(0,$he.throwIfAborted)(e);for(let r=this._initialState;await this._condition(r,e);r=await this._iterate(r,e))yield await this._resultSelector(r,e)}};function jhe(t,e,r,n){return new u3(t,e,r,n)}ZS.generate=jhe});var bh=h(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.sleep=void 0;var S5=J();function epe(t,e){return new Promise((r,n)=>{e&&e.aborted&&n(new S5.AbortError);let i=setTimeout(()=>{if(e&&(e.removeEventListener("abort",a),e.aborted)){a();return}r()},t);e&&e.addEventListener("abort",a,{once:!0});function a(){clearTimeout(i),n(new S5.AbortError)}})}XS.sleep=epe});var _5=h(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.generateTime=void 0;var tpe=Z(),rpe=bh(),npe=J(),l3=class extends tpe.AsyncIterableX{_initialState;_condition;_iterate;_resultSelector;_timeSelector;constructor(e,r,n,i,a){super(),this._initialState=e,this._condition=r,this._iterate=n,this._resultSelector=i,this._timeSelector=a}async*[Symbol.asyncIterator](e){(0,npe.throwIfAborted)(e);for(let r=this._initialState;await this._condition(r,e);r=await this._iterate(r,e)){let n=await this._timeSelector(r,e);await(0,rpe.sleep)(n,e),yield await this._resultSelector(r,e)}}};function ipe(t,e,r,n,i){return new l3(t,e,r,n,i)}YS.generateTime=ipe});var E5=h($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.iif=void 0;var ape=n3(),ope=US();function spe(t,e,r=(0,ope.empty)()){return(0,ape.defer)(async n=>await t(n)?e:r)}$S.iif=spe});var jn=h(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.equalityComparerAsync=Ia.equalityComparer=Ia.comparerAsync=Ia.comparer=void 0;function upe(t,e){return t===e||typeof t=="number"&&typeof e=="number"&&isNaN(t)&&isNaN(e)}Ia.comparer=upe;async function lpe(t,e){return t===e||typeof t=="number"&&typeof e=="number"&&isNaN(t)&&isNaN(e)}Ia.comparerAsync=lpe;function cpe(t,e){return t>e?1:t<e?-1:0}Ia.equalityComparer=cpe;async function dpe(t,e){return t>e?1:t<e?-1:0}Ia.equalityComparerAsync=dpe});var T5=h(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.includes=void 0;var fpe=jn(),hpe=K(),ppe=J();async function mpe(t,e,r=0,n){(0,ppe.throwIfAborted)(n);let i=r,a=0;Math.abs(i)&&(i=0);for await(let o of(0,hpe.wrapWithAbort)(t,n))if(a++>i&&(0,fpe.comparer)(o,e))return!0;return!1}jS.includes=mpe});var A5=h(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.interval=void 0;var gpe=Z(),ype=bh(),vpe=J(),c3=class extends gpe.AsyncIterableX{_dueTime;constructor(e){super(),this._dueTime=e}async*[Symbol.asyncIterator](e){(0,vpe.throwIfAborted)(e);let r=0;for(;;)await(0,ype.sleep)(this._dueTime,e),yield r++}};function bpe(t){return new c3(t)}e_.interval=bpe});var C5=h(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.isEmpty=void 0;var Spe=K(),_pe=J();async function Epe(t,e){(0,_pe.throwIfAborted)(e);for await(let r of(0,Spe.wrapWithAbort)(t,e))return!1;return!0}t_.isEmpty=Epe});var k5=h(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.last=void 0;var Tpe=K(),Ape=J();async function Cpe(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i=async()=>!0}=e||{};(0,Ape.throwIfAborted)(r);let a=0,o;for await(let s of(0,Tpe.wrapWithAbort)(t,r))await i.call(n,s,a++,r)&&(o=s);return o}r_.last=Cpe});var I5=h(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.max=void 0;var kpe=jn(),Ipe=dr(),Ope=K(),Npe=J();async function Rpe(t,e){let{["comparer"]:r=kpe.equalityComparerAsync,["signal"]:n,["selector"]:i=Ipe.identityAsync}=e||{};(0,Npe.throwIfAborted)(n);let a=(0,Ope.wrapWithAbort)(t,n)[Symbol.asyncIterator](),o=await a.next();if(o.done)throw new Error("Sequence contains no elements");let s=await i(o.value);for(;!(o=await a.next()).done;){let u=await i(o.value);await r(u,s)>0&&(s=u)}return s}n_.max=Rpe});var d3=h(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.extremaBy=void 0;var wpe=J(),Ppe=K();async function xpe(t,e,r,n){(0,wpe.throwIfAborted)(n);let i=[],a=(0,Ppe.wrapWithAbort)(t,n)[Symbol.asyncIterator](),{value:o,done:s}=await a.next();if(s)throw new Error("Sequence contains no elements");let u=await e(o,n);i.push(o);let l;for(;!(l=await a.next()).done;){let c=l.value,d=await e(c,n),f=await r(d,u,n);f===0?i.push(c):f>0&&(i=[c],u=d)}return i}i_.extremaBy=xpe});var O5=h(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.maxBy=void 0;var Bpe=d3(),Dpe=jn();function Mpe(t,e){let{["comparer"]:r=Dpe.equalityComparerAsync,["selector"]:n,["signal"]:i}=e||{};return(0,Bpe.extremaBy)(t,n,r,i)}a_.maxBy=Mpe});var s_=h(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.merge=Sh.MergeAsyncIterable=void 0;var Lpe=Z(),Fpe=K(),qpe=J(),Upe=lo(),Vpe=new Promise(()=>{});function N5(t,e){return t.then(r=>({value:r,index:e}))}var o_=class extends Lpe.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,qpe.throwIfAborted)(e);let r=this._source.length,n=new Array(r),i=new Array(r),a=r;for(let o=0;o<r;o++){let s=(0,Fpe.wrapWithAbort)(this._source[o],e)[Symbol.asyncIterator]();n[o]=s,i[o]=N5(s.next(),o)}for(;a>0;){let o=(0,Upe.safeRace)(i),{value:{done:s,value:u},index:l}=await o;if(s)i[l]=Vpe,a--;else{let c=n[l];i[l]=N5(c.next(),l),yield u}}}};Sh.MergeAsyncIterable=o_;function Jpe(t,...e){return new o_([t,...e])}Sh.merge=Jpe});var R5=h(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.min=void 0;var Wpe=jn(),Gpe=dr(),Hpe=K(),zpe=J();async function Qpe(t,e){let{["comparer"]:r=Wpe.equalityComparerAsync,["signal"]:n,["selector"]:i=Gpe.identityAsync}=e||{};(0,zpe.throwIfAborted)(n);let a=(0,Hpe.wrapWithAbort)(t,n)[Symbol.asyncIterator](),o=await a.next();if(o.done)throw new Error("Sequence contains no elements");let s=await i(o.value);for(;!(o=await a.next()).done;){let u=await i(o.value);await r(u,s)<0&&(s=u)}return s}u_.min=Qpe});var w5=h(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.minBy=void 0;var Kpe=d3(),Zpe=jn();function Xpe(t,e){let{["comparer"]:r=Zpe.equalityComparerAsync,["selector"]:n,["signal"]:i}=e||{},a=async(o,s)=>-await r(o,s);return(0,Kpe.extremaBy)(t,n,a,i)}l_.minBy=Xpe});var x5=h(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.never=_h.NeverAsyncIterable=void 0;var Ype=Z(),P5=J(),c_=class extends Ype.AsyncIterableX{constructor(){super()}async*[Symbol.asyncIterator](e){(0,P5.throwIfAborted)(e),await new Promise((r,n)=>{e&&e.addEventListener("abort",()=>n(new P5.AbortError),{once:!0})})}};_h.NeverAsyncIterable=c_;function $pe(){return new c_}_h.never=$pe});var B5=h(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.of=Eh.OfAsyncIterable=void 0;var jpe=Z(),eme=J(),d_=class extends jpe.AsyncIterableX{_args;constructor(e){super(),this._args=e}async*[Symbol.asyncIterator](e){(0,eme.throwIfAborted)(e);for(let r of this._args)yield r}};Eh.OfAsyncIterable=d_;function tme(...t){return new d_(t)}Eh.of=tme});var D5=h(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.onErrorResumeNext=Th.OnErrorResumeNextAsyncIterable=void 0;var rme=Z(),nme=K(),ime=J(),f_=class extends rme.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,ime.throwIfAborted)(e);for(let r of this._source){let n=(0,nme.wrapWithAbort)(r,e)[Symbol.asyncIterator]();for(;;){let i;try{i=await n.next()}catch{break}if(i.done)break;yield i.value}}}};Th.OnErrorResumeNextAsyncIterable=f_;function ame(...t){return new f_(t)}Th.onErrorResumeNext=ame});var f3=h(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.race=Ah.RaceAsyncIterable=void 0;var ome=Z(),sme=K(),ume=J(),lme=lo();function cme(t,e){return t.then(r=>({value:r,index:e}))}var h_=class extends ome.AsyncIterableX{_sources;constructor(e){super(),this._sources=e}async*[Symbol.asyncIterator](e){(0,ume.throwIfAborted)(e);let r=this._sources,n=r.length,i=new Array(n),a=new Array(n);for(let d=0;d<n;d++){let f=(0,sme.wrapWithAbort)(r[d],e)[Symbol.asyncIterator]();i[d]=f,a[d]=cme(f.next(),d)}let o=(0,lme.safeRace)(a),{value:s,index:u}=await o;s.done||(yield s.value);let l=i[u];for(let d=0;d<n;d++){if(d===u)continue;let f=i[d];f.return&&f.return()}let c;for(;!(c=await l.next()).done;)yield c.value}};Ah.RaceAsyncIterable=h_;function dme(...t){return new h_(t)}Ah.race=dme});var M5=h(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.range=void 0;var fme=Z(),hme=J(),h3=class extends fme.AsyncIterableX{_start;_count;constructor(e,r){super(),this._start=e,this._count=r}async*[Symbol.asyncIterator](e){(0,hme.throwIfAborted)(e);for(let r=this._start,n=this._start+this._count;r<n;r++)yield r}};function pme(t,e){return new h3(t,e)}p_.range=pme});var s0=h(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.toArray=void 0;var mme=K(),gme=J();async function yme(t,e){(0,gme.throwIfAborted)(e);let r=[];for await(let n of(0,mme.wrapWithAbort)(t,e))r.push(n);return r}m_.toArray=yme});var L5=h(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.reduceRight=void 0;var vme=s0(),bme=J();async function Sme(t,e){let{["seed"]:r,["signal"]:n,["callback"]:i}=e,a=e.hasOwnProperty("seed");(0,bme.throwIfAborted)(n);let o=await(0,vme.toArray)(t,n),s=!1,u=r;for(let l=o.length-1;l>=0;l--){let c=o[l];s||(s=a)?u=await i(u,c,l,n):(u=c,s=!0)}if(!(a||s))throw new Error("Sequence contains no elements");return u}g_.reduceRight=Sme});var F5=h(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.reduce=void 0;var _me=K(),Eme=J();async function Tme(t,e){let{["seed"]:r,["signal"]:n,["callback"]:i}=e,a=e.hasOwnProperty("seed");(0,Eme.throwIfAborted)(n);let o=0,s=!1,u=r;for await(let l of(0,_me.wrapWithAbort)(t,n))s||(s=a)?u=await i(u,l,o++,n):(u=l,s=!0,o++);if(!(a||s))throw new Error("Sequence contains no elements");return u}y_.reduce=Tme});var U5=h(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.repeatValue=Ch.RepeatValueAsyncIterable=void 0;var Ame=Z(),q5=J(),v_=class extends Ame.AsyncIterableX{_value;_count;constructor(e,r){super(),this._value=e,this._count=r}async*[Symbol.asyncIterator](e){if(this._count===-1)for(;;)(0,q5.throwIfAborted)(e),yield this._value;else for(let r=0;r<this._count;r++)(0,q5.throwIfAborted)(e),yield this._value}};Ch.RepeatValueAsyncIterable=v_;function Cme(t,e=-1){return new v_(t,e)}Ch.repeatValue=Cme});var J5=h(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.sequenceEqual=void 0;var kme=jn(),V5=K(),Ime=J();async function Ome(t,e,r){let{["comparer"]:n=kme.comparerAsync,["signal"]:i}=r||{};(0,Ime.throwIfAborted)(i);let a=(0,V5.wrapWithAbort)(t,i)[Symbol.asyncIterator](),o=(0,V5.wrapWithAbort)(e,i)[Symbol.asyncIterator](),s,u;for(;!(s=await a.next()).done;)if(!(!(u=await o.next()).done&&await n(s.value,u.value)))return!1;return!!(await o.next()).done}b_.sequenceEqual=Ome});var W5=h(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.single=void 0;var Nme=K(),Rme=J();async function wme(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i=async()=>!0}=e||{};(0,Rme.throwIfAborted)(r);let a,o=!1,s=0;for await(let u of(0,Nme.wrapWithAbort)(t,r)){if(o&&await i.call(n,u,s++,r))throw new Error("More than one element was found");await i.call(n,u,s++,r)&&(a=u,o=!0)}return a}S_.single=wme});var G5=h(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.some=void 0;var Pme=K(),xme=J();async function Bme(t,e){let{["signal"]:r,["thisArg"]:n,["predicate"]:i}=e;(0,xme.throwIfAborted)(r);let a=0;for await(let o of(0,Pme.wrapWithAbort)(t,r))if(await i.call(n,o,a++,r))return!0;return!1}__.some=Bme});var H5=h(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.sum=void 0;var Dme=dr(),Mme=K(),Lme=J();async function Fme(t,e){let{["selector"]:r=Dme.identityAsync,["signal"]:n,["thisArg"]:i}=e||{};(0,Lme.throwIfAborted)(n);let a=0;for await(let o of(0,Mme.wrapWithAbort)(t,n))a+=await r.call(i,o,n);return a}E_.sum=Fme});var z5=h(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.throwError=void 0;var qme=Z(),Ume=J(),p3=class extends qme.AsyncIterableX{_error;constructor(e){super(),this._error=e}async*[Symbol.asyncIterator](e){throw(0,Ume.throwIfAborted)(e),this._error}};function Vme(t){return new p3(t)}T_.throwError=Vme});var g3=h(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.publish=void 0;var Jme=YR(),Wme=r0(),Gme=gh(),Hme=J(),m3=class extends Gme.MemoizeAsyncBuffer{constructor(e){super(e,new Jme.RefCountList(0))}[Symbol.asyncIterator](e){return(0,Hme.throwIfAborted)(e),this._buffer.readerCount++,this._getIterable(this._buffer.count)[Symbol.asyncIterator]()}};function Q5(t){return function(r){return t?(0,Wme.create)(async()=>t(Q5()(r))[Symbol.asyncIterator]()):new m3(r[Symbol.asyncIterator]())}}A_.publish=Q5});var v3=h(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.toDOMStreamProto=kh.toDOMStream=void 0;var zme=g3(),K5=a3(),N_=Z();function Qme(t,e,r=0,n=e.byteLength){let i=t.byteLength,a=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,i,e.buffer.byteLength-e.byteOffset));return a.set(o,r),o.byteLength}var C_=class{_source;constructor(e){this._source=e}async cancel(){let e=this._source;e&&e.return&&await e.return(),this._source=null}},k_=class extends C_{constructor(e){super(e)}async pull(e){let r=this._source;if(r){let n=await r.next(e.desiredSize);if(!n.done)return e.enqueue(n.value)}e.close()}},I_=class extends C_{autoAllocateChunkSize;fallbackDefaultSource;constructor(e,r={}){super(e),this.type="bytes",this.autoAllocateChunkSize=r.autoAllocateChunkSize,this.fallbackDefaultSource=new k_(e)}async pull(e){if(!e.byobRequest)return await this.fallbackDefaultSource.pull(e);if(this._source){let{view:r}=e.byobRequest,{done:n,value:i}=await this._source.next(r);if(!n){if(typeof i=="number")return e.byobRequest.respond(i);if(ArrayBuffer.isView(i))return i.buffer===r.buffer?e.byobRequest.respondWithNewView(i):e.byobRequest.respond(Qme(r,i))}}e.close()}},Z5=(()=>{let t,e,n=(a,o)=>{class s extends ReadableStream{[Symbol.asyncIterator](){return(0,K5.fromDOMStream)(this)[Symbol.asyncIterator]()}}class u extends ReadableStream{[Symbol.asyncIterator](){return(0,K5.fromDOMStream)(this,{mode:"byob"})[Symbol.asyncIterator]()}}return t=u,e=s,n=i,i(a,o)},i=(a,o)=>a instanceof I_?new t(a,o):new e(a,o);return(a,o)=>n(a,o)})();function O_(t,e){return!e||!("type"in e)||e.type!=="bytes"?Z5(new k_(t[Symbol.asyncIterator]()),e):Z5(new I_(t[Symbol.asyncIterator](),e),e)}kh.toDOMStream=O_;N_.AsyncIterableX.prototype.tee=function(){return y3(this).tee()};N_.AsyncIterableX.prototype.pipeTo=function(t,e){return y3(this).pipeTo(t,e)};N_.AsyncIterableX.prototype.pipeThrough=function(t,e){return y3(this).pipeThrough(t,e)};function y3(t){return t._DOMStream||(t._DOMStream=t.pipe((0,zme.publish)(),O_))}function X5(t){return t?O_(this,t):O_(this)}kh.toDOMStreamProto=X5;N_.AsyncIterableX.prototype.toDOMStream=X5});var $5=h(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.toMap=void 0;var Y5=dr(),Kme=K(),Zme=J();async function Xme(t,e){let{["signal"]:r,["elementSelector"]:n=Y5.identityAsync,["keySelector"]:i=Y5.identityAsync}=e||{};(0,Zme.throwIfAborted)(r);let a=new Map;for await(let o of(0,Kme.wrapWithAbort)(t,r)){let s=await n(o,r),u=await i(o,r);a.set(u,s)}return a}R_.toMap=Xme});var b3=h(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.toObserver=void 0;var Ih=Qi(),Oh=t=>{};function Yme(t,e,r){let n=t;return n&&typeof n=="object"?{next:(0,Ih.isFunction)(n.next)?i=>n.next(i):Oh,error:(0,Ih.isFunction)(n.error)?i=>n.error(i):Oh,complete:(0,Ih.isFunction)(n.complete)?()=>n.complete():Oh}:{next:(0,Ih.isFunction)(t)?t:Oh,error:(0,Ih.isFunction)(e)?e:Oh,complete:(0,Ih.isFunction)(r)?r:Oh}}w_.toObserver=Yme});var j5=h(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.observable=void 0;P_.observable=typeof Symbol=="function"&&Symbol.observable||"@@observable"});var eG=h(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.toObservable=void 0;var $me=b3(),jme=j5(),S3=class{isUnsubscribed=!1;unsubscribe(){this.isUnsubscribed=!0}},_3=class{_source;constructor(e){this._source=e}[jme.observable](){return this}subscribe(e,r,n){let i=(0,$me.toObserver)(e,r,n),a=new S3,o=this._source[Symbol.asyncIterator](),s=()=>{o.next().then(({value:u,done:l})=>{a.isUnsubscribed||(l?i.complete():(i.next(u),s()))}).catch(u=>{a.isUnsubscribed||i.error(u)})};return s(),a}};function ege(t){return new _3(t)}x_.toObservable=ege});var tG=h(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.toSet=void 0;var tge=K(),rge=J();async function nge(t,e){(0,rge.throwIfAborted)(e);let r=new Set;for await(let n of(0,tge.wrapWithAbort)(t,e))r.add(n);return r}B_.toSet=nge});var T3=h(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.whileDo=void 0;var ige=Z(),age=K(),oge=J(),E3=class extends ige.AsyncIterableX{_condition;_source;constructor(e,r){super(),this._condition=e,this._source=r}async*[Symbol.asyncIterator](e){for((0,oge.throwIfAborted)(e);await this._condition(e);)for await(let r of(0,age.wrapWithAbort)(this._source,e))yield r}};function sge(t,e){return new E3(e,t)}D_.whileDo=sge});var A3=h(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.zip=Nh.ZipAsyncIterable=void 0;var uge=K(),lge=Z(),cge=il(),dge=J(),M_=class extends lge.AsyncIterableX{_sources;constructor(e){super(),this._sources=e}async*[Symbol.asyncIterator](e){(0,dge.throwIfAborted)(e);let r=this._sources.length,n=this._sources.map(i=>(0,uge.wrapWithAbort)(i,e)[Symbol.asyncIterator]());for(;r>0;){let i=new Array(r);for(let a=-1;++a<r;){let{value:o,done:s}=await n[a].next();if(s)return await Promise.all(n.map(cge.returnAsyncIterator)),void 0;i[a]=o}yield i}}};Nh.ZipAsyncIterable=M_;function fge(...t){return new M_(t)}Nh.zip=fge});var C3=h(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.from=ue.as=void 0;var pe=(jg(),Hr($g));pe.__exportStar(r5(),ue);pe.__exportStar(n5(),ue);pe.__exportStar(Z(),ue);pe.__exportStar(i5(),ue);pe.__exportStar(jR(),ue);pe.__exportStar(t3(),ue);pe.__exportStar(DS(),ue);pe.__exportStar(u5(),ue);pe.__exportStar(r0(),ue);pe.__exportStar(n3(),ue);pe.__exportStar(l5(),ue);pe.__exportStar(US(),ue);pe.__exportStar(c5(),ue);pe.__exportStar(d5(),ue);pe.__exportStar(f5(),ue);pe.__exportStar(h5(),ue);pe.__exportStar(m5(),ue);pe.__exportStar(a3(),ue);pe.__exportStar(o3(),ue);pe.__exportStar(v5(),ue);pe.__exportStar(b5(),ue);pe.__exportStar(_5(),ue);pe.__exportStar(E5(),ue);pe.__exportStar(T5(),ue);pe.__exportStar(A5(),ue);pe.__exportStar(C5(),ue);pe.__exportStar(k5(),ue);pe.__exportStar(I5(),ue);pe.__exportStar(O5(),ue);pe.__exportStar(s_(),ue);pe.__exportStar(R5(),ue);pe.__exportStar(w5(),ue);pe.__exportStar(x5(),ue);pe.__exportStar(B5(),ue);pe.__exportStar(D5(),ue);pe.__exportStar(f3(),ue);pe.__exportStar(M5(),ue);pe.__exportStar(L5(),ue);pe.__exportStar(F5(),ue);pe.__exportStar(U5(),ue);pe.__exportStar(J5(),ue);pe.__exportStar(W5(),ue);pe.__exportStar(G5(),ue);pe.__exportStar(H5(),ue);pe.__exportStar(z5(),ue);pe.__exportStar(s0(),ue);pe.__exportStar(v3(),ue);pe.__exportStar($5(),ue);pe.__exportStar(eG(),ue);pe.__exportStar(tG(),ue);pe.__exportStar(T3(),ue);pe.__exportStar(A3(),ue);var rG=Z();ue.as=rG.AsyncIterableX.as;ue.from=rG.AsyncIterableX.from});var nG=h(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});var hge=(jg(),Hr($g));hge.__exportStar(C3(),k3)});var iG=h(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.batch=Rh.BatchAsyncIterable=void 0;var pge=Z(),mge=K(),gge=J(),u0="waiting",L_="batching";function yge(t){throw new Error(`Unhandled discriminated union member ${t}`)}var F_=class extends pge.AsyncIterableX{_source;constructor(e){super(),this._source=e}[Symbol.asyncIterator](e){(0,gge.throwIfAborted)(e);let r=(0,mge.wrapWithAbort)(this._source,e)[Symbol.asyncIterator](),n={type:L_,values:[]},i=null,a=null;function o(){r.next().then(s=>{if(s.done)i=Promise.resolve({done:!0}),n.type===u0&&n.resolver.resolve(i);else{if(n.type===u0){let{resolve:u}=n.resolver;n={type:L_,values:[]},u({done:s.done,value:[s.value]})}else n.type===L_?n.values.push(s.value):yge(n);o()}},s=>{a=s,n.type===u0&&n.resolver.reject(s)})}return o(),{next(){if(a)return Promise.reject(a);if(n.type===L_&&n.values.length>0){let{values:s}=n;return n.values=[],Promise.resolve({done:!1,value:s})}if(i)return i;if(n.type===u0)throw new Error("Previous `next()` is still in progress");return new Promise((s,u)=>{n={type:u0,resolver:{resolve:s,reject:u}}})},return(s){return r.return?r.return(s).then(()=>({done:!0})):Promise.resolve({done:!0})}}}};Rh.BatchAsyncIterable=F_;function vge(){return function(e){return new F_(e)}}Rh.batch=vge});var aG=h(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.buffer=wh.BufferAsyncIterable=void 0;var bge=Z(),Sge=K(),_ge=J(),q_=class extends bge.AsyncIterableX{_source;_count;_skip;constructor(e,r,n){super(),this._source=e,this._count=r,this._skip=n}async*[Symbol.asyncIterator](e){(0,_ge.throwIfAborted)(e);let r=[],n=0;for await(let i of(0,Sge.wrapWithAbort)(this._source,e)){n%this._skip===0&&r.push([]);for(let a of r)a.push(i);r.length>0&&r[0].length===this._count&&(yield r.shift()),n++}for(;r.length>0;)yield r.shift()}};wh.BufferAsyncIterable=q_;function Ege(t,e){let r=e;return r==null&&(r=t),function(i){return new q_(i,t,r)}}wh.buffer=Ege});var V_=h(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.map=Ph.MapAsyncIterable=void 0;var Tge=Z(),Age=K(),Cge=J(),U_=class extends Tge.AsyncIterableX{_source;_selector;_thisArg;constructor(e,r,n){super(),this._source=e,this._selector=r,this._thisArg=n}async*[Symbol.asyncIterator](e){(0,Cge.throwIfAborted)(e);let r=0;for await(let n of(0,Age.wrapWithAbort)(this._source,e))yield await this._selector.call(this._thisArg,n,r++,e)}};Ph.MapAsyncIterable=U_;function kge(t,e){return function(n){return new U_(n,t,e)}}Ph.map=kge});var sG=h(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.bufferCountOrTime=void 0;var J_=C3(),Ige=V_(),Oge=s_(),Nge=K(),I3={},oG={},O3=class extends J_.AsyncIterableX{source;bufferSize;maxWaitTime;constructor(e,r,n){super(),this.source=e,this.bufferSize=r,this.maxWaitTime=n}async*[Symbol.asyncIterator](e){let r=[],n=(0,J_.interval)(this.maxWaitTime).pipe((0,Ige.map)(()=>I3)),i=(0,J_.concat)(this.source,(0,J_.of)(oG)),a=(0,Oge.merge)(i,n);for await(let o of(0,Nge.wrapWithAbort)(a,e)){if(o===oG)break;o!==I3&&r.push(o),(r.length>=this.bufferSize||r.length&&o===I3)&&(yield r.slice(),r.length=0)}r.length&&(yield r)}};function Rge(t,e){return function(n){return new O3(n,t,e)}}W_.bufferCountOrTime=Rge});var cG=h(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.catchError=xh.CatchWithAsyncIterable=void 0;var wge=Z(),uG=il(),lG=K(),Pge=J(),G_=class extends wge.AsyncIterableX{_source;_handler;constructor(e,r){super(),this._source=e,this._handler=r}async*[Symbol.asyncIterator](e){(0,Pge.throwIfAborted)(e);let r,n=!1,a=(0,lG.wrapWithAbort)(this._source,e)[Symbol.asyncIterator]();for(;;){let o={};try{if(o=await a.next(),o.done){await(0,uG.returnAsyncIterator)(a);break}}catch(s){r=await this._handler(s,e),n=!0,await(0,uG.returnAsyncIterator)(a);break}yield o.value}if(n)for await(let o of(0,lG.wrapWithAbort)(r,e))yield o}};xh.CatchWithAsyncIterable=G_;function xge(t){return function(r){return new G_(r,t)}}xh.catchError=xge});var dG=h(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.combineLatestWith=void 0;var Bge=t3();function Dge(...t){return function(r){return new Bge.CombineLatestAsyncIterable([r,...t])}}H_.combineLatestWith=Dge});var hG=h(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.concatAll=Bh.ConcatAllAsyncIterable=void 0;var Mge=Z(),fG=K(),Lge=J(),z_=class extends Mge.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,Lge.throwIfAborted)(e);for await(let r of(0,fG.wrapWithAbort)(this._source,e))for await(let n of(0,fG.wrapWithAbort)(r,e))yield n}};Bh.ConcatAllAsyncIterable=z_;function Fge(){return function(e){return new z_(e)}}Bh.concatAll=Fge});var gG=h(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.concatMap=void 0;var pG=Z(),mG=K(),qge=J(),Uge=Qi(),N3=class extends pG.AsyncIterableX{_source;_selector;_thisArg;constructor(e,r,n){super(),this._source=e,this._selector=r,this._thisArg=n}async*[Symbol.asyncIterator](e){(0,qge.throwIfAborted)(e);let r=0,{_thisArg:n,_selector:i}=this;for await(let a of(0,mG.wrapWithAbort)(this._source,e)){let o=i.call(n,a,r++,e),s=(0,Uge.isPromise)(o)?await o:o;for await(let u of(0,mG.wrapWithAbort)(pG.AsyncIterableX.as(s),e))yield u}}};function Vge(t,e){return function(n){return new N3(n,t,e)}}Q_.concatMap=Vge});var yG=h(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.concatWith=void 0;var Jge=DS();function Wge(...t){return function(r){return new Jge.ConcatAsyncIterable([r,...t])}}K_.concatWith=Wge});var bG=h(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.debounce=Dh.DebounceAsyncIterable=void 0;var Gge=Z(),vG=J(),Z_=class extends Gge.AsyncIterableX{_source;_time;constructor(e,r){super(),this._source=e,this._time=r}async*[Symbol.asyncIterator](e){(0,vG.throwIfAborted)(e);let r=!1,n=()=>{},i=()=>{},a=new Promise((o,s)=>{i=o,n=s});for((async()=>{let o=null,s=u=>{o=null,i(u),a=new Promise((l,c)=>{i=l,n=c})};e&&e.addEventListener("abort",()=>{r=!0,o&&clearTimeout(o),o=null,n(new vG.AbortError)},{once:!0});try{let u,l=this._source[Symbol.asyncIterator](e);for(;!r&&!(u=await l.next()).done&&!r;)o&&clearTimeout(o),o=setTimeout(s,this._time,u.value)}catch(u){n(u)}r=!0})();!r;)yield await a}};Dh.DebounceAsyncIterable=Z_;function Hge(t){return function(r){return new Z_(r,t)}}Dh.debounce=Hge});var SG=h(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.defaultIfEmpty=Mh.DefaultIfEmptyAsyncIterable=void 0;var zge=Z(),Qge=K(),Kge=J(),X_=class extends zge.AsyncIterableX{_source;_defaultValue;constructor(e,r){super(),this._source=e,this._defaultValue=r}async*[Symbol.asyncIterator](e){(0,Kge.throwIfAborted)(e);let r=1;for await(let n of(0,Qge.wrapWithAbort)(this._source,e))r=2,yield n;r===1&&(yield this._defaultValue)}};Mh.DefaultIfEmptyAsyncIterable=X_;function Zge(t){return function(r){return new X_(r,t)}}Mh.defaultIfEmpty=Zge});var _G=h(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.delayEach=Lh.DelayEachAsyncIterable=void 0;var Xge=Z(),Yge=bh(),$ge=K(),jge=J(),Y_=class extends Xge.AsyncIterableX{_source;_dueTime;constructor(e,r){super(),this._source=e,this._dueTime=r}async*[Symbol.asyncIterator](e){(0,jge.throwIfAborted)(e);for await(let r of(0,$ge.wrapWithAbort)(this._source,e))await(0,Yge.sleep)(this._dueTime,e),yield r}};Lh.DelayEachAsyncIterable=Y_;function e0e(t){return function(r){return new Y_(r,t)}}Lh.delayEach=e0e});var EG=h(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.delay=Fh.DelayAsyncIterable=void 0;var t0e=Z(),r0e=bh(),n0e=K(),i0e=J(),$_=class extends t0e.AsyncIterableX{_source;_dueTime;constructor(e,r){super(),this._source=e,this._dueTime=r}async*[Symbol.asyncIterator](e){(0,i0e.throwIfAborted)(e),await(0,r0e.sleep)(this._dueTime,e);for await(let r of(0,n0e.wrapWithAbort)(this._source,e))yield r}};Fh.DelayAsyncIterable=$_;function a0e(t){return function(r){return new $_(r,t)}}Fh.delay=a0e});var l0=h(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.arrayIndexOfAsync=qh.arrayIndexOf=void 0;function o0e(t,e,r){for(let n=0,i=t.length;n<i;n++)if(r(e,t[n]))return n;return-1}qh.arrayIndexOf=o0e;async function s0e(t,e,r){for(let n=0,i=t.length;n<i;n++)if(await r(e,t[n]))return n;return-1}qh.arrayIndexOfAsync=s0e});var TG=h(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.distinct=Uh.DistinctAsyncIterable=void 0;var u0e=Z(),l0e=dr(),c0e=l0(),d0e=jn(),f0e=K(),h0e=J(),j_=class extends u0e.AsyncIterableX{_source;_keySelector;_comparer;constructor(e,r,n){super(),this._source=e,this._keySelector=r,this._comparer=n}async*[Symbol.asyncIterator](e){(0,h0e.throwIfAborted)(e);let r=[];for await(let n of(0,f0e.wrapWithAbort)(this._source,e)){let i=await this._keySelector(n,e);await(0,c0e.arrayIndexOfAsync)(r,i,this._comparer)===-1&&(r.push(i),yield n)}}};Uh.DistinctAsyncIterable=j_;function p0e(t){return function(r){let{["keySelector"]:n=l0e.identityAsync,["comparer"]:i=d0e.comparerAsync}=t||{};return new j_(r,n,i)}}Uh.distinct=p0e});var AG=h(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.distinctUntilChanged=Vh.DistinctUntilChangedAsyncIterable=void 0;var m0e=Z(),g0e=dr(),y0e=jn(),v0e=K(),b0e=J(),eE=class extends m0e.AsyncIterableX{_source;_keySelector;_comparer;constructor(e,r,n){super(),this._source=e,this._keySelector=r,this._comparer=n}async*[Symbol.asyncIterator](e){(0,b0e.throwIfAborted)(e);let r,n=!1;for await(let i of(0,v0e.wrapWithAbort)(this._source,e)){let a=await this._keySelector(i,e),o=!1;n&&(o=await this._comparer(r,a)),(!n||!o)&&(n=!0,r=a,yield i)}}};Vh.DistinctUntilChangedAsyncIterable=eE;function S0e(t){return function(r){let{["keySelector"]:n=g0e.identityAsync,["comparer"]:i=y0e.comparerAsync}=t||{};return new eE(r,n,i)}}Vh.distinctUntilChanged=S0e});var CG=h(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.doWhile=void 0;var _0e=DS(),E0e=T3();function T0e(t){return function(r){return(0,_0e.concat)(r,(0,E0e.whileDo)(r,t))}}tE.doWhile=T0e});var kG=h(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.endWith=Jh.EndWithAsyncIterable=void 0;var A0e=Z(),C0e=K(),k0e=J(),rE=class extends A0e.AsyncIterableX{_source;_args;constructor(e,r){super(),this._source=e,this._args=r}async*[Symbol.asyncIterator](e){(0,k0e.throwIfAborted)(e);for await(let r of(0,C0e.wrapWithAbort)(this._source,e))yield r;for(let r of this._args)yield r}};Jh.EndWithAsyncIterable=rE;function I0e(...t){return function(r){return new rE(r,t)}}Jh.endWith=I0e});var OG=h(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.except=Wh.ExceptAsyncIterable=void 0;var O0e=Z(),N0e=l0(),R0e=jn(),IG=K(),w0e=J(),nE=class extends O0e.AsyncIterableX{_first;_second;_comparer;constructor(e,r,n){super(),this._first=e,this._second=r,this._comparer=n}async*[Symbol.asyncIterator](e){(0,w0e.throwIfAborted)(e);let r=[];for await(let n of(0,IG.wrapWithAbort)(this._second,e))r.push(n);for await(let n of(0,IG.wrapWithAbort)(this._first,e))await(0,N0e.arrayIndexOfAsync)(r,n,this._comparer)===-1&&(r.push(n),yield n)}};Wh.ExceptAsyncIterable=nE;function P0e(t,e=R0e.comparerAsync){return function(n){return new nE(n,t,e)}}Wh.except=P0e});var NG=h(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.expand=Gh.ExpandAsyncIterable=void 0;var x0e=Z(),B0e=K(),D0e=J(),iE=class extends x0e.AsyncIterableX{_source;_selector;constructor(e,r){super(),this._source=e,this._selector=r}async*[Symbol.asyncIterator](e){(0,D0e.throwIfAborted)(e);let r=[this._source];for(;r.length>0;){let n=r.shift();for await(let i of(0,B0e.wrapWithAbort)(n,e)){let a=await this._selector(i,e);r.push(a),yield i}}}};Gh.ExpandAsyncIterable=iE;function M0e(t){return function(r){return new iE(r,t)}}Gh.expand=M0e});var RG=h(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.filter=Hh.FilterAsyncIterable=void 0;var L0e=Z(),F0e=K(),q0e=J(),aE=class extends L0e.AsyncIterableX{_source;_predicate;_thisArg;constructor(e,r,n){super(),this._source=e,this._predicate=r,this._thisArg=n}async*[Symbol.asyncIterator](e){(0,q0e.throwIfAborted)(e);let r=0;for await(let n of(0,F0e.wrapWithAbort)(this._source,e))await this._predicate.call(this._thisArg,n,r++)&&(yield n)}};Hh.FilterAsyncIterable=aE;function U0e(t,e){return function(n){return new aE(n,t,e)}}Hh.filter=U0e});var wG=h(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.finalize=zh.FinallyAsyncIterable=void 0;var V0e=Z(),J0e=K(),W0e=J(),oE=class extends V0e.AsyncIterableX{_source;_action;constructor(e,r){super(),this._source=e,this._action=r}async*[Symbol.asyncIterator](e){(0,W0e.throwIfAborted)(e);try{for await(let r of(0,J0e.wrapWithAbort)(this._source,e))yield r}finally{await this._action()}}};zh.FinallyAsyncIterable=oE;function G0e(t){return function(r){return new oE(r,t)}}zh.finalize=G0e});var c0=h(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.FlattenConcurrentAsyncIterable=void 0;var PG=Z(),H0e=K(),sE=J(),z0e=lo(),Q0e=Qi(),K0e=il(),DG=new Promise(()=>{});function xG(t){return function(r){if(t.aborted&&r instanceof sE.AbortError)return DG;throw r}}async function*BG(t,e,r,n){(0,sE.throwIfAborted)(n);for await(let i of(0,H0e.wrapWithAbort)(t,n))(0,sE.throwIfAborted)(n),yield{type:r,index:e,value:i};return{type:r,index:e,value:void 0}}var R3=class extends PG.AsyncIterableX{_source;_selector;_concurrent;_switchMode;_thisArg;constructor(e,r,n,i,a){super(),this._source=e,this._selector=r,this._concurrent=n,this._switchMode=i,this._thisArg=a,this._concurrent=this._switchMode?1:Math.max(n,1)}async*[Symbol.asyncIterator](e){(0,sE.throwIfAborted)(e);let r=0,n=0,i=!1,a=this._thisArg,o=this._selector,s=this._switchMode,u=this._concurrent,l=new Array(0),c=new Array(0),d=new Array(isFinite(u)?u:0),f=new Array(isFinite(u)?u:0),p=BG(this._source,0,0,e),g=[p.next()];try{do{let{done:v=!1,value:{type:E,value:k,index:O}}=await(0,z0e.safeRace)(g);if(v)switch(g[O]=DG,E){case 0:{i=!0;break}case 1:{for(--r,c.push(O);r<u&&l.length;)m(l.shift());break}}else switch(E){case 0:{s&&(r=0),r<u?m(k):l.push(k),g[0]=p.next();break}case 1:{yield k;let{[O-1]:M}=f,{[O-1]:{signal:P}}=d;g[O]=M.next().catch(xG(P));break}}}while(!i||r+l.length>0)}finally{d.forEach(v=>v?.abort()),await Promise.all([p,...f].map(K0e.returnAsyncIterator))}function m(v){++r;let E=c.pop()||r;s&&d[E-1]&&d[E-1].abort(),d[E-1]=new AbortController;let k=d[E-1].signal,O=o.call(a,v,n++,k);g[E]=b(E,k,O).catch(xG(k))}function b(v,E,k){return(0,Q0e.isPromise)(k)?k.then(O=>b(v,E,O)):(f[v-1]=BG(PG.AsyncIterableX.as(k),v,1,E)).next()}}};uE.FlattenConcurrentAsyncIterable=R3});var w3=h(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});lE.flatMap=void 0;var Z0e=c0();function X0e(t,e=1/0,r){return function(i){return new Z0e.FlattenConcurrentAsyncIterable(i,t,e,!1,r)}}lE.flatMap=X0e});var LG=h(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.flat=void 0;var Y0e=w3(),$0e=Qi();function MG(t=-1,e=1/0){return t=t<0?1/0:t,function(n){return(0,Y0e.flatMap)(i=>(0,$0e.isAsyncIterable)(i)?t>0?MG(t-1)(i):i:[i],e)(n)}}cE.flat=MG});var fE=h(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.createGrouping=void 0;var j0e=K();async function eye(t,e,r,n){let i=new Map;for await(let a of(0,j0e.wrapWithAbort)(t,n)){let o=await e(a,n),s=i.get(o);i.has(o)||(s=[],i.set(o,s));let u=await r(a,n);s.push(u)}return i}dE.createGrouping=eye});var UG=h(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.groupBy=Is.GroupByAsyncIterable=Is.GroupedAsyncIterable=void 0;var FG=Z(),tye=dr(),rye=fE(),qG=J(),hE=class extends FG.AsyncIterableX{key;_source;constructor(e,r){super(),this.key=e,this._source=r}async*[Symbol.asyncIterator](e){(0,qG.throwIfAborted)(e);for(let r of this._source)yield r}};Is.GroupedAsyncIterable=hE;var pE=class extends FG.AsyncIterableX{_source;_keySelector;_elementSelector;constructor(e,r,n){super(),this._source=e,this._keySelector=r,this._elementSelector=n}async*[Symbol.asyncIterator](e){(0,qG.throwIfAborted)(e);let r=await(0,rye.createGrouping)(this._source,this._keySelector,this._elementSelector,e);for(let[n,i]of r)yield new hE(n,i)}};Is.GroupByAsyncIterable=pE;function nye(t,e=tye.identityAsync){return function(n){return new pE(n,t,e)}}Is.groupBy=nye});var JG=h(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.groupJoin=Qh.GroupJoinAsyncIterable=void 0;var VG=Z(),iye=fE(),aye=US(),oye=dr(),sye=K(),uye=J(),mE=class extends VG.AsyncIterableX{_outer;_inner;_outerSelector;_innerSelector;_resultSelector;constructor(e,r,n,i,a){super(),this._outer=e,this._inner=r,this._outerSelector=n,this._innerSelector=i,this._resultSelector=a}async*[Symbol.asyncIterator](e){(0,uye.throwIfAborted)(e);let r=await(0,iye.createGrouping)(this._inner,this._innerSelector,oye.identity,e);for await(let n of(0,sye.wrapWithAbort)(this._outer,e)){let i=await this._outerSelector(n,e),a=r.has(i)?r.get(i):(0,aye.empty)();yield await this._resultSelector(n,VG.AsyncIterableX.as(a),e)}}};Qh.GroupJoinAsyncIterable=mE;function lye(t,e,r,n){return function(a){return new mE(a,t,e,r,n)}}Qh.groupJoin=lye});var WG=h(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.ignoreElements=Kh.IgnoreElementsAsyncIterable=void 0;var cye=Z(),dye=K(),fye=J(),gE=class extends cye.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,fye.throwIfAborted)(e);for await(let r of(0,dye.wrapWithAbort)(this._source,e));}};Kh.IgnoreElementsAsyncIterable=gE;function hye(){return function(e){return new gE(e)}}Kh.ignoreElements=hye});var GG=h(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.innerJoin=Zh.JoinAsyncIterable=void 0;var pye=Z(),mye=fE(),gye=dr(),yye=K(),vye=J(),yE=class extends pye.AsyncIterableX{_outer;_inner;_outerSelector;_innerSelector;_resultSelector;constructor(e,r,n,i,a){super(),this._outer=e,this._inner=r,this._outerSelector=n,this._innerSelector=i,this._resultSelector=a}async*[Symbol.asyncIterator](e){(0,vye.throwIfAborted)(e);let r=await(0,mye.createGrouping)(this._inner,this._innerSelector,gye.identity,e);for await(let n of(0,yye.wrapWithAbort)(this._outer,e)){let i=await this._outerSelector(n,e);if(r.has(i))for(let a of r.get(i))yield await this._resultSelector(n,a,e)}}};Zh.JoinAsyncIterable=yE;function bye(t,e,r,n){return function(a){return new yE(a,t,e,r,n)}}Zh.innerJoin=bye});var zG=h(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.intersect=Xh.IntersectAsyncIterable=void 0;var Sye=Z(),_ye=l0(),Eye=jn(),HG=K(),Tye=J();async function Aye(t,e,r,n){(0,Tye.throwIfAborted)(n);let i=await(0,_ye.arrayIndexOfAsync)(t,e,r);return i===-1?!1:(t.splice(i,1),!0)}var vE=class extends Sye.AsyncIterableX{_first;_second;_comparer;constructor(e,r,n){super(),this._first=e,this._second=r,this._comparer=n}async*[Symbol.asyncIterator](e){let r=[];for await(let n of(0,HG.wrapWithAbort)(this._second,e))r.push(n);for await(let n of(0,HG.wrapWithAbort)(this._first,e))await Aye(r,n,this._comparer,e)&&(yield n)}};Xh.IntersectAsyncIterable=vE;function Cye(t,e=Eye.comparerAsync){return function(n){return new vE(n,t,e)}}Xh.intersect=Cye});var QG=h(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.mergeAll=void 0;var kye=c0();function Iye(t=1/0){return function(r){return new kye.FlattenConcurrentAsyncIterable(r,n=>n,t,!1)}}bE.mergeAll=Iye});var KG=h(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});SE.mergeWith=void 0;var Oye=s_();function Nye(...t){return function(r){return new Oye.MergeAsyncIterable([r,...t])}}SE.mergeWith=Nye});var ZG=h(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.sorter=void 0;function Rye(t,e){return t>e?1:t<e?-1:0}_E.sorter=Rye});var XG=h(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.thenByDescending=ln.thenBy=ln.orderByDescending=ln.orderBy=ln.OrderedAsyncIterableX=ln.OrderedAsyncIterableBaseX=void 0;var wye=Z(),Pye=s0(),Yh=ZG(),xye=J(),EE=class extends wye.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,xye.throwIfAborted)(e);let r=await(0,Pye.toArray)(this._source,e),n=r.length,i=new Array(n);for(let a=0;a<n;a++)i[a]=a;i.sort(this._getSorter(r));for(let a of i)yield r[a]}thenBy(e,r=Yh.sorter){return new co(this._source,e,r,!1,this)}thenByDescending(e,r=Yh.sorter){return new co(this._source,e,r,!0,this)}};ln.OrderedAsyncIterableBaseX=EE;var co=class extends EE{_keySelector;_comparer;_descending;_parent;constructor(e,r,n,i,a){super(e),this._keySelector=r,this._comparer=n,this._descending=i,this._parent=a}_getSorter(e,r){let n=e.map(this._keySelector),i=this._comparer,a=this._parent,o=this._descending,s=(u,l)=>{let c=i(n[u],n[l]);return c===0?r?r(u,l):u-l:o?-c:c};return a?a._getSorter(e,s):s}};ln.OrderedAsyncIterableX=co;function Bye(t,e=Yh.sorter){return function(n){return new co(n,t,e,!1)}}ln.orderBy=Bye;function Dye(t,e=Yh.sorter){return function(n){return new co(n,t,e,!0)}}ln.orderByDescending=Dye;function Mye(t,e=Yh.sorter){return function(n){let i=n;return new co(i._source,t,e,!1,i)}}ln.thenBy=Mye;function Lye(t,e=Yh.sorter){return function(n){let i=n;return new co(i._source,t,e,!0,i)}}ln.thenByDescending=Lye});var YG=h($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.pairwise=$h.PairwiseAsyncIterable=void 0;var Fye=Z(),qye=K(),Uye=J(),TE=class extends Fye.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,Uye.throwIfAborted)(e);let r,n=!1;for await(let i of(0,qye.wrapWithAbort)(this._source,e))n?yield[r,i]:n=!0,r=i}};$h.PairwiseAsyncIterable=TE;function Vye(){return function(e){return new TE(e)}}$h.pairwise=Vye});var $G=h(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});AE.pluck=void 0;var Jye=V_();function Wye(t,e){return n=>{let i=n;for(let a=0;a<e;a++){let o=i[t[a]];if(typeof o<"u")i=o;else return}return i}}function Gye(...t){return function(r){return(0,Jye.map)(Wye(t,t.length))(r)}}AE.pluck=Gye});var jG=h(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.raceWith=void 0;var Hye=f3();function zye(...t){return function(r){return new Hye.RaceAsyncIterable([r,...t])}}CE.raceWith=zye});var tH=h(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.repeat=jh.RepeatAsyncIterable=void 0;var Qye=Z(),eH=K(),Kye=J(),kE=class extends Qye.AsyncIterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}async*[Symbol.asyncIterator](e){if((0,Kye.throwIfAborted)(e),this._count===-1)for(;;)for await(let r of(0,eH.wrapWithAbort)(this._source,e))yield r;else for(let r=0;r<this._count;r++)for await(let n of(0,eH.wrapWithAbort)(this._source,e))yield n}};jh.RepeatAsyncIterable=kE;function Zye(t=-1){return function(r){return new kE(r,t)}}jh.repeat=Zye});var P3=h(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.FromIterable=ep.IterableX=void 0;var IE=dr(),rH=GR(),Os=Qi(),Xye=HR(),ei=class{forEach(e,r){let n=(0,rH.bindCallback)(e,r,2),i=0;for(let a of this)n(a,i++)}pipe(...e){let r=-1,n=e.length,i=this;for(;++r<n;)i=e[r](ei.as(i));return i}static as(e){return e instanceof ei?e:typeof e=="string"?new fo([e],IE.identity):(0,Os.isIterable)(e)||(0,Os.isArrayLike)(e)?new fo(e,IE.identity):new fo([e],IE.identity)}static from(e,r=IE.identity,n){let i=(0,rH.bindCallback)(r,n,2);if((0,Os.isIterable)(e))return new fo(e,i);if((0,Os.isArrayLike)(e))return new fo(e,i);if((0,Os.isIterator)(e))return new fo({[Symbol.iterator]:()=>e},i);throw new TypeError("Input type not supported")}};ep.IterableX=ei;ei.prototype[Symbol.toStringTag]="IterableX";Object.defineProperty(ei,Symbol.hasInstance,{writable:!0,configurable:!0,value(t){return!!(t&&t[Symbol.toStringTag]==="IterableX")}});var fo=class extends ei{_source;_fn;constructor(e,r){super(),this._source=e,this._fn=r}*[Symbol.iterator](){let e=(0,Os.isIterable)(this._source),r=0;if(e)for(let n of this._source)yield this._fn(n,r++);else{let n=(0,Xye.toLength)(this._source.length);for(;r<n;){let i=this._source[r];yield this._fn(i,r++)}}}};ep.FromIterable=fo;try{(t=>{if(t)return;ei.prototype.pipe=r;let e=(n,i=n._writableState||{objectMode:!0})=>i;function r(...n){let i=-1,a,o=n.length,s=this,u;for(;++i<o;)if(u=n[i],typeof u=="function")s=u(ei.as(s));else if((0,Os.isWritableNodeStream)(u))return{end:a=!0}=n[i+1]||{},(0,Os.isReadableNodeStream)(s)?s.pipe(u,{end:a}):ei.as(s).toNodeStream(e(u)).pipe(u,{end:a});return s}})(typeof window=="object"&&typeof document=="object"&&document.nodeType===9)}catch{}});var nH=h(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.OfIterable=tp.of=void 0;var Yye=P3();function $ye(...t){return new OE(t)}tp.of=$ye;var OE=class extends Yye.IterableX{_args;constructor(e){super(),this._args=e}*[Symbol.iterator](){yield*this._args}};tp.OfIterable=OE});var iH=h(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.repeat=rp.RepeatIterable=void 0;var jye=P3(),NE=class extends jye.IterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}*[Symbol.iterator](){if(this._count===-1)for(;;)for(let e of this._source)yield e;else for(let e=0;e<this._count;e++)for(let r of this._source)yield r}};rp.RepeatIterable=NE;function eve(t=-1){return function(r){return new NE(r,t)}}rp.repeat=eve});var aH=h(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});RE.repeatValue=void 0;var tve=nH(),rve=iH();function nve(t,e=-1){return new rve.RepeatIterable((0,tve.of)(t),e)}RE.repeatValue=nve});var oH=h(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});wE.retry=void 0;var ive=aH(),ave=jR();function ove(t=-1){return function(r){return new ave.CatchAllAsyncIterable((0,ive.repeatValue)(r,t))}}wE.retry=ove});var sH=h(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.reverse=np.ReverseAsyncIterable=void 0;var sve=Z(),uve=K(),lve=J(),PE=class extends sve.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,lve.throwIfAborted)(e);let r=[];for await(let n of(0,uve.wrapWithAbort)(this._source,e))r.unshift(n);yield*r}};np.ReverseAsyncIterable=PE;function cve(){return function(e){return new PE(e)}}np.reverse=cve});var uH=h(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.scanRight=ip.ScanRightAsyncIterable=void 0;var dve=Z(),fve=s0(),hve=J(),xE=class extends dve.AsyncIterableX{_source;_fn;_seed;_hasSeed;constructor(e,r){super(),this._source=e,this._fn=r.callback,this._hasSeed=r.hasOwnProperty("seed"),this._seed=r.seed}async*[Symbol.asyncIterator](e){(0,hve.throwIfAborted)(e);let r=!1,n=this._seed,i=await(0,fve.toArray)(this._source,e);for(let a=i.length-1;a>=0;a--){let o=i[a];r||(r=this._hasSeed)?(n=await this._fn(n,o,a,e),yield n):(n=o,r=!0)}}};ip.ScanRightAsyncIterable=xE;function pve(t){return function(r){return new xE(r,t)}}ip.scanRight=pve});var lH=h(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.scan=ap.ScanAsyncIterable=void 0;var mve=Z(),gve=K(),yve=J(),BE=class extends mve.AsyncIterableX{_source;_fn;_seed;_hasSeed;constructor(e,r){super(),this._source=e,this._fn=r.callback,this._hasSeed=r.hasOwnProperty("seed"),this._seed=r.seed}async*[Symbol.asyncIterator](e){(0,yve.throwIfAborted)(e);let r=0,n=!1,i=this._seed;for await(let a of(0,gve.wrapWithAbort)(this._source,e))n||(n=this._hasSeed)?(i=await this._fn(i,a,r++,e),yield i):(i=a,n=!0,r++);r===1&&!this._hasSeed&&(yield i)}};ap.ScanAsyncIterable=BE;function vve(t){return function(r){return new BE(r,t)}}ap.scan=vve});var cH=h(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.share=void 0;var bve=Z(),Sve=r0(),_ve=J(),DE=class extends bve.AsyncIterableX{_it;constructor(e){super(),this._it={next(r){return e.next(r)}}}[Symbol.asyncIterator](e){return(0,_ve.throwIfAborted)(e),this._it}};function Eve(t){return function(r){return t?(0,Sve.create)(async n=>(await t(new DE(r[Symbol.asyncIterator](n)),n))[Symbol.asyncIterator](n)):new DE(r[Symbol.asyncIterator]())}}ME.share=Eve});var dH=h(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.skipLast=op.SkipLastAsyncIterable=void 0;var Tve=Z(),Ave=K(),Cve=J(),LE=class extends Tve.AsyncIterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}async*[Symbol.asyncIterator](e){(0,Cve.throwIfAborted)(e);let r=[];for await(let n of(0,Ave.wrapWithAbort)(this._source,e))r.push(n),r.length>this._count&&(yield r.shift())}};op.SkipLastAsyncIterable=LE;function kve(t){return function(r){return new LE(r,t)}}op.skipLast=kve});var fH=h(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.skip=sp.SkipAsyncIterable=void 0;var Ive=Z(),Ove=K(),Nve=J(),FE=class extends Ive.AsyncIterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}async*[Symbol.asyncIterator](e){(0,Nve.throwIfAborted)(e);let n=(0,Ove.wrapWithAbort)(this._source,e)[Symbol.asyncIterator](),i=this._count,a;for(;i>0&&!(a=await n.next()).done;)i--;if(i<=0)for(;!(a=await n.next()).done;)yield a.value}};sp.SkipAsyncIterable=FE;function Rve(t){return function(r){return new FE(r,t)}}sp.skip=Rve});var hH=h(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.skipUntil=up.SkipUntilAsyncIterable=void 0;var wve=Z(),Pve=K(),xve=J(),qE=class extends wve.AsyncIterableX{_source;_other;constructor(e,r){super(),this._source=e,this._other=r}async*[Symbol.asyncIterator](e){(0,xve.throwIfAborted)(e);let r=!1;this._other(e).then(()=>r=!0);for await(let n of(0,Pve.wrapWithAbort)(this._source,e))r&&(yield n)}};up.SkipUntilAsyncIterable=qE;function Bve(t){return function(r){return new qE(r,t)}}up.skipUntil=Bve});var pH=h(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.skipWhile=lp.SkipWhileAsyncIterable=void 0;var Dve=Z(),Mve=K(),Lve=J(),UE=class extends Dve.AsyncIterableX{_source;_predicate;constructor(e,r){super(),this._source=e,this._predicate=r}async*[Symbol.asyncIterator](e){(0,Lve.throwIfAborted)(e);let r=!1,n=0;for await(let i of(0,Mve.wrapWithAbort)(this._source,e))!r&&!await this._predicate(i,n++,e)&&(r=!0),r&&(yield i)}};lp.SkipWhileAsyncIterable=UE;function Fve(t){return function(r){return new UE(r,t)}}lp.skipWhile=Fve});var mH=h(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.slice=cp.SliceAsyncIterable=void 0;var qve=Z(),Uve=K(),Vve=J(),VE=class extends qve.AsyncIterableX{_source;_begin;_end;constructor(e,r,n){super(),this._source=e,this._begin=r,this._end=n}async*[Symbol.asyncIterator](e){(0,Vve.throwIfAborted)(e);let n=(0,Uve.wrapWithAbort)(this._source,e)[Symbol.asyncIterator](),i=this._begin,a;for(;i>0&&!(a=await n.next()).done;)i--;let o=this._end;if(o>0)for(;!(a=await n.next()).done&&(yield a.value,--o!==0););}};cp.SliceAsyncIterable=VE;function Jve(t,e=1/0){return function(n){return new VE(n,t,e)}}cp.slice=Jve});var gH=h(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.startWith=dp.StartWithAsyncIterable=void 0;var Wve=Z(),Gve=K(),Hve=J(),JE=class extends Wve.AsyncIterableX{_source;_args;constructor(e,r){super(),this._source=e,this._args=r}async*[Symbol.asyncIterator](e){(0,Hve.throwIfAborted)(e);for(let r of this._args)yield r;for await(let r of(0,Gve.wrapWithAbort)(this._source,e))yield r}};dp.StartWithAsyncIterable=JE;function zve(...t){return function(r){return new JE(r,t)}}dp.startWith=zve});var yH=h(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});WE.switchAll=void 0;var Qve=c0();function Kve(){return function(e){return new Qve.FlattenConcurrentAsyncIterable(e,r=>r,1,!0)}}WE.switchAll=Kve});var vH=h(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});GE.switchMap=void 0;var Zve=c0();function Xve(t,e){return function(n){return new Zve.FlattenConcurrentAsyncIterable(n,t,1,!0,e)}}GE.switchMap=Xve});var bH=h(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.takeLast=fp.TakeLastAsyncIterable=void 0;var Yve=Z(),$ve=K(),jve=J(),HE=class extends Yve.AsyncIterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}async*[Symbol.asyncIterator](e){if((0,jve.throwIfAborted)(e),this._count>0){let r=[];for await(let n of(0,$ve.wrapWithAbort)(this._source,e))r.length>=this._count&&r.shift(),r.push(n);for(;r.length>0;)yield r.shift()}}};fp.TakeLastAsyncIterable=HE;function ebe(t){return function(r){return new HE(r,t)}}fp.takeLast=ebe});var SH=h(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.take=hp.TakeAsyncIterable=void 0;var tbe=Z(),rbe=K(),nbe=J(),zE=class extends tbe.AsyncIterableX{_source;_count;constructor(e,r){super(),this._source=e,this._count=r}async*[Symbol.asyncIterator](e){(0,nbe.throwIfAborted)(e);let r=this._count;if(r>0){for await(let n of(0,rbe.wrapWithAbort)(this._source,e))if(yield n,--r===0)break}}};hp.TakeAsyncIterable=zE;function ibe(t){return function(r){return new zE(r,t)}}hp.take=ibe});var EH=h(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.takeUntil=pp.TakeUntilAsyncIterable=void 0;var abe=Z(),obe=K(),sbe=J(),ube=lo(),_H=void 0,QE=class extends abe.AsyncIterableX{_source;_other;constructor(e,r){super(),this._source=e,this._other=r}async*[Symbol.asyncIterator](e){(0,sbe.throwIfAborted)(e);let r=this._other(e).then(()=>_H),n=(0,obe.wrapWithAbort)(this._source,e)[Symbol.asyncIterator]();for(;;){let i=n.next(),a=await(0,ube.safeRace)([r,i]);if(a===_H||a.done)break;yield a.value}}};pp.TakeUntilAsyncIterable=QE;function lbe(t){return function(r){return new QE(r,t)}}pp.takeUntil=lbe});var TH=h(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.takeWhile=mp.TakeWhileAsyncIterable=void 0;var cbe=Z(),dbe=K(),fbe=J(),KE=class extends cbe.AsyncIterableX{_source;_predicate;constructor(e,r){super(),this._source=e,this._predicate=r}async*[Symbol.asyncIterator](e){(0,fbe.throwIfAborted)(e);let r=0;for await(let n of(0,dbe.wrapWithAbort)(this._source,e)){if(!await this._predicate(n,r++,e))break;yield n}}};mp.TakeWhileAsyncIterable=KE;function hbe(t){return function(r){return new KE(r,t)}}mp.takeWhile=hbe});var CH=h(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.tap=gp.TapAsyncIterable=void 0;var pbe=Z(),mbe=b3(),AH=J(),gbe=il(),ZE=class extends pbe.AsyncIterableX{_source;_observer;constructor(e,r){super(),this._source=e,this._observer=r}async*[Symbol.asyncIterator](e){(0,AH.throwIfAborted)(e);let r=this._observer,n=this._source[Symbol.asyncIterator](e);try{for(let i;!(i=await n.next()).done;)r.next&&await r.next(i.value),yield i.value;r.complete&&await r.complete()}catch(i){throw!(i instanceof AH.AbortError)&&r.error&&await r.error(i),i}finally{await(0,gbe.returnAsyncIterator)(n)}}};gp.TapAsyncIterable=ZE;function ybe(t,e,r){return function(i){return new ZE(i,(0,mbe.toObserver)(t,e,r))}}gp.tap=ybe});var kH=h(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.throttle=yp.ThrottleAsyncIterable=void 0;var vbe=Z(),bbe=K(),Sbe=J(),XE=class extends vbe.AsyncIterableX{_source;_time;constructor(e,r){super(),this._source=e,this._time=r}async*[Symbol.asyncIterator](e){(0,Sbe.throwIfAborted)(e);let r,n;for await(let i of(0,bbe.wrapWithAbort)(this._source,e))r=Date.now(),(!n||r-n>this._time)&&(n=r,yield i)}};yp.ThrottleAsyncIterable=XE;function _be(t){return function(r){return new XE(r,t)}}yp.throttle=_be});var IH=h(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.timeInterval=vp.TimeIntervalAsyncIterable=void 0;var Ebe=Z(),Tbe=K(),Abe=J(),YE=class extends Ebe.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,Abe.throwIfAborted)(e);let r=Date.now();for await(let n of(0,Tbe.wrapWithAbort)(this._source,e)){let i=Date.now(),a=i-r;r=i,yield{value:n,elapsed:a}}}};vp.TimeIntervalAsyncIterable=YE;function Cbe(){return function(e){return new YE(e)}}vp.timeInterval=Cbe});var NH=h(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.timeout=Ns.TimeoutAsyncIterable=Ns.TimeoutError=void 0;var kbe=Z(),Ibe=bh(),Obe=K(),Nbe=J(),Rbe=Qi(),wbe=lo(),Pbe=il(),ol=class extends Error{constructor(e="Timeout has occurred"){super(e),Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace(this,this.constructor),this.name="TimeoutError"}get[Symbol.toStringTag](){return"TimeoutError"}};Ns.TimeoutError=ol;Object.defineProperty(ol,Symbol.hasInstance,{writable:!0,configurable:!0,value(t){return(0,Rbe.isObject)(t)&&(t.constructor.name==="TimeoutError"||t[Symbol.toStringTag]==="TimeoutError")}});var xbe="value",OH="error",$E=class extends kbe.AsyncIterableX{_source;_dueTime;constructor(e,r){super(),this._source=e,this._dueTime=r}async*[Symbol.asyncIterator](e){(0,Nbe.throwIfAborted)(e);let r=(0,Obe.wrapWithAbort)(this._source,e)[Symbol.asyncIterator]();try{for(;;){let{type:n,value:i}=await(0,wbe.safeRace)([r.next().then(a=>({type:xbe,value:a})),(0,Ibe.sleep)(this._dueTime,e).then(()=>({type:OH}))]);if(n===OH)throw new ol;if(!i||i.done)break;yield i.value}}finally{await(0,Pbe.returnAsyncIterator)(r)}}};Ns.TimeoutAsyncIterable=$E;function Bbe(t){return function(r){return new $E(r,t)}}Ns.timeout=Bbe});var RH=h(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.timestamp=bp.TimestampAsyncIterable=void 0;var Dbe=Z(),Mbe=K(),Lbe=J(),jE=class extends Dbe.AsyncIterableX{_source;constructor(e){super(),this._source=e}async*[Symbol.asyncIterator](e){(0,Lbe.throwIfAborted)(e);for await(let r of(0,Mbe.wrapWithAbort)(this._source,e))yield{time:Date.now(),value:r}}};bp.TimestampAsyncIterable=jE;function Fbe(){return function(e){return new jE(e)}}bp.timestamp=Fbe});var PH=h(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});e1.toDOMStream=void 0;var wH=v3();function qbe(t){return function(r){return!t||!("type"in t)||t.type!=="bytes",(0,wH.toDOMStream)(r,t)}}e1.toDOMStream=qbe});var DH=h(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.union=Sp.UnionAsyncIterable=void 0;var Ube=Z(),xH=l0(),Vbe=jn(),BH=K(),Jbe=J(),t1=class extends Ube.AsyncIterableX{_left;_right;_comparer;constructor(e,r,n){super(),this._left=e,this._right=r,this._comparer=n}async*[Symbol.asyncIterator](e){(0,Jbe.throwIfAborted)(e);let r=[];for await(let n of(0,BH.wrapWithAbort)(this._left,e))await(0,xH.arrayIndexOfAsync)(r,n,this._comparer)===-1&&(r.push(n),yield n);for await(let n of(0,BH.wrapWithAbort)(this._right,e))await(0,xH.arrayIndexOfAsync)(r,n,this._comparer)===-1&&(r.push(n),yield n)}};Sp.UnionAsyncIterable=t1;function Wbe(t,e=Vbe.comparerAsync){return function(n){return new t1(n,t,e)}}Sp.union=Wbe});var LH=h(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.withLatestFrom=_p.WithLatestFromAsyncIterable=void 0;var Gbe=Z(),MH=K(),Hbe=J(),zbe=dr(),Qbe=lo(),Kbe=new Promise(()=>{});function r1(t,e){return t.then(r=>({value:r,index:e}))}var n1=class extends Gbe.AsyncIterableX{_source;_others;constructor(e,r){super(),this._source=e,this._others=r}async*[Symbol.asyncIterator](e){(0,Hbe.throwIfAborted)(e);let r=this._others.length,n=r+1,i=new Array(n),a=new Array(n),o=!1,s=new Array(r),u=new Array(r);s.fill(!1);for(let c=0;c<r;c++){let d=(0,MH.wrapWithAbort)(this._others[c],e)[Symbol.asyncIterator]();i[c]=d,a[c]=r1(d.next(),c)}let l=(0,MH.wrapWithAbort)(this._source,e)[Symbol.asyncIterator]();for(i[r]=l,a[r]=r1(l.next(),r);;){let c=(0,Qbe.safeRace)(a),{value:{value:d,done:f},index:p}=await c;if(p===r){if(f)break;let g=i[p];a[p]=r1(g.next(),p),o&&(yield[d,...u])}else if(f)a[p]=Kbe;else{u[p]=d,s[p]=!0,o=s.every(zbe.identity);let g=i[p];a[p]=r1(g.next(),p)}}}};_p.WithLatestFromAsyncIterable=n1;function Zbe(...t){return function(r){return new n1(r,t)}}_p.withLatestFrom=Zbe});var FH=h(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});i1.zipWith=void 0;var Xbe=A3();function Ybe(...t){return function(r){return new Xbe.ZipAsyncIterable([r,...t])}}i1.zipWith=Ybe});var qH=h(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});var ie=(jg(),Hr($g));ie.__exportStar(iG(),re);ie.__exportStar(aG(),re);ie.__exportStar(sG(),re);ie.__exportStar(cG(),re);ie.__exportStar(dG(),re);ie.__exportStar(hG(),re);ie.__exportStar(gG(),re);ie.__exportStar(yG(),re);ie.__exportStar(bG(),re);ie.__exportStar(SG(),re);ie.__exportStar(_G(),re);ie.__exportStar(EG(),re);ie.__exportStar(TG(),re);ie.__exportStar(AG(),re);ie.__exportStar(CG(),re);ie.__exportStar(kG(),re);ie.__exportStar(OG(),re);ie.__exportStar(NG(),re);ie.__exportStar(RG(),re);ie.__exportStar(wG(),re);ie.__exportStar(w3(),re);ie.__exportStar(LG(),re);ie.__exportStar(UG(),re);ie.__exportStar(JG(),re);ie.__exportStar(WG(),re);ie.__exportStar(GG(),re);ie.__exportStar(zG(),re);ie.__exportStar(V_(),re);ie.__exportStar(gh(),re);ie.__exportStar(QG(),re);ie.__exportStar(KG(),re);ie.__exportStar(XG(),re);ie.__exportStar(YG(),re);ie.__exportStar($G(),re);ie.__exportStar(g3(),re);ie.__exportStar(jG(),re);ie.__exportStar(tH(),re);ie.__exportStar(oH(),re);ie.__exportStar(sH(),re);ie.__exportStar(uH(),re);ie.__exportStar(lH(),re);ie.__exportStar(cH(),re);ie.__exportStar(dH(),re);ie.__exportStar(fH(),re);ie.__exportStar(hH(),re);ie.__exportStar(pH(),re);ie.__exportStar(mH(),re);ie.__exportStar(gH(),re);ie.__exportStar(yH(),re);ie.__exportStar(vH(),re);ie.__exportStar(bH(),re);ie.__exportStar(SH(),re);ie.__exportStar(EH(),re);ie.__exportStar(TH(),re);ie.__exportStar(CH(),re);ie.__exportStar(kH(),re);ie.__exportStar(IH(),re);ie.__exportStar(NH(),re);ie.__exportStar(RH(),re);ie.__exportStar(PH(),re);ie.__exportStar(DH(),re);ie.__exportStar(K(),re);ie.__exportStar(LH(),re);ie.__exportStar(FH(),re)});var UH=h(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});var $be=(jg(),Hr($g));$be.__exportStar(qH(),x3)});var Xe=h(a1=>{"use strict";Object.defineProperty(a1,"__esModule",{value:!0});a1.isFunction=void 0;function jbe(t){return typeof t=="function"}a1.isFunction=jbe});var Rs=h(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.createErrorClass=void 0;function eSe(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}o1.createErrorClass=eSe});var B3=h(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});s1.UnsubscriptionError=void 0;var tSe=Rs();s1.UnsubscriptionError=tSe.createErrorClass(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});var ho=h(u1=>{"use strict";Object.defineProperty(u1,"__esModule",{value:!0});u1.arrRemove=void 0;function rSe(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}u1.arrRemove=rSe});var Pn=h(cn=>{"use strict";var VH=cn&&cn.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JH=cn&&cn.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},WH=cn&&cn.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(cn,"__esModule",{value:!0});cn.isSubscription=cn.EMPTY_SUBSCRIPTION=cn.Subscription=void 0;var d0=Xe(),D3=B3(),GH=ho(),M3=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=VH(o),u=s.next();!u.done;u=s.next()){var l=u.value;l.remove(this)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(d0.isFunction(c))try{c()}catch(m){a=m instanceof D3.UnsubscriptionError?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=VH(d),p=f.next();!p.done;p=f.next()){var g=p.value;try{HH(g)}catch(m){a=a??[],m instanceof D3.UnsubscriptionError?a=WH(WH([],JH(a)),JH(m.errors)):a.push(m)}}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(a)throw new D3.UnsubscriptionError(a)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)HH(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&GH.arrRemove(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&GH.arrRemove(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();cn.Subscription=M3;cn.EMPTY_SUBSCRIPTION=M3.EMPTY;function nSe(t){return t instanceof M3||t&&"closed"in t&&d0.isFunction(t.remove)&&d0.isFunction(t.add)&&d0.isFunction(t.unsubscribe)}cn.isSubscription=nSe;function HH(t){d0.isFunction(t)?t():t.unsubscribe()}});var Ep=h(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});l1.config=void 0;l1.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var L3=h(Oa=>{"use strict";var zH=Oa&&Oa.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},QH=Oa&&Oa.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.timeoutProvider=void 0;Oa.timeoutProvider={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Oa.timeoutProvider.delegate;return i?.setTimeout?i.setTimeout.apply(i,QH([t,e],zH(r))):setTimeout.apply(void 0,QH([t,e],zH(r)))},clearTimeout:function(t){var e=Oa.timeoutProvider.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0}});var F3=h(c1=>{"use strict";Object.defineProperty(c1,"__esModule",{value:!0});c1.reportUnhandledError=void 0;var iSe=Ep(),aSe=L3();function oSe(t){aSe.timeoutProvider.setTimeout(function(){var e=iSe.config.onUnhandledError;if(e)e(t);else throw t})}c1.reportUnhandledError=oSe});var fr=h(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});d1.noop=void 0;function sSe(){}d1.noop=sSe});var KH=h(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.createNotification=Na.nextNotification=Na.errorNotification=Na.COMPLETE_NOTIFICATION=void 0;Na.COMPLETE_NOTIFICATION=function(){return f1("C",void 0,void 0)}();function uSe(t){return f1("E",void 0,t)}Na.errorNotification=uSe;function lSe(t){return f1("N",t,void 0)}Na.nextNotification=lSe;function f1(t,e,r){return{kind:t,value:e,error:r}}Na.createNotification=f1});var h1=h(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.captureError=Tp.errorContext=void 0;var ZH=Ep(),sl=null;function cSe(t){if(ZH.config.useDeprecatedSynchronousErrorHandling){var e=!sl;if(e&&(sl={errorThrown:!1,error:null}),t(),e){var r=sl,n=r.errorThrown,i=r.error;if(sl=null,n)throw i}}else t()}Tp.errorContext=cSe;function dSe(t){ZH.config.useDeprecatedSynchronousErrorHandling&&sl&&(sl.errorThrown=!0,sl.error=t)}Tp.captureError=dSe});var Ap=h(Ki=>{"use strict";var $H=Ki&&Ki.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.EMPTY_OBSERVER=Ki.SafeSubscriber=Ki.Subscriber=void 0;var fSe=Xe(),XH=Pn(),J3=Ep(),hSe=F3(),YH=fr(),q3=KH(),pSe=L3(),mSe=h1(),jH=function(t){$H(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,XH.isSubscription(r)&&r.add(n)):n.destination=Ki.EMPTY_OBSERVER,n}return e.create=function(r,n,i){return new e9(r,n,i)},e.prototype.next=function(r){this.isStopped?V3(q3.nextNotification(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?V3(q3.errorNotification(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?V3(q3.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(XH.Subscription);Ki.Subscriber=jH;var gSe=Function.prototype.bind;function U3(t,e){return gSe.call(t,e)}var ySe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){p1(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){p1(n)}else p1(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){p1(r)}},t}(),e9=function(t){$H(e,t);function e(r,n,i){var a=t.call(this)||this,o;if(fSe.isFunction(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var s;a&&J3.config.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return a.unsubscribe()},o={next:r.next&&U3(r.next,s),error:r.error&&U3(r.error,s),complete:r.complete&&U3(r.complete,s)}):o=r}return a.destination=new ySe(o),a}return e}(jH);Ki.SafeSubscriber=e9;function p1(t){J3.config.useDeprecatedSynchronousErrorHandling?mSe.captureError(t):hSe.reportUnhandledError(t)}function vSe(t){throw t}function V3(t,e){var r=J3.config.onStoppedNotification;r&&pSe.timeoutProvider.setTimeout(function(){return r(t,e)})}Ki.EMPTY_OBSERVER={closed:!0,next:YH.noop,error:vSe,complete:YH.noop}});var f0=h(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.observable=void 0;m1.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var hr=h(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0});g1.identity=void 0;function bSe(t){return t}g1.identity=bSe});var h0=h(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.pipeFromArray=Cp.pipe=void 0;var SSe=hr();function _Se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t9(t)}Cp.pipe=_Se;function t9(t){return t.length===0?SSe.identity:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}Cp.pipeFromArray=t9});var $e=h(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});y1.Observable=void 0;var G3=Ap(),ESe=Pn(),TSe=f0(),ASe=h0(),CSe=Ep(),W3=Xe(),kSe=h1(),ISe=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,a=NSe(e)?e:new G3.SafeSubscriber(e,r,n);return kSe.errorContext(function(){var o=i,s=o.operator,u=o.source;a.add(s?s.call(a,u):u?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=r9(r),new r(function(i,a){var o=new G3.SafeSubscriber({next:function(s){try{e(s)}catch(u){a(u),o.unsubscribe()}},error:a,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[TSe.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ASe.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=r9(e),new e(function(n,i){var a;r.subscribe(function(o){return a=o},function(o){return i(o)},function(){return n(a)})})},t.create=function(e){return new t(e)},t}();y1.Observable=ISe;function r9(t){var e;return(e=t??CSe.config.Promise)!==null&&e!==void 0?e:Promise}function OSe(t){return t&&W3.isFunction(t.next)&&W3.isFunction(t.error)&&W3.isFunction(t.complete)}function NSe(t){return t&&t instanceof G3.Subscriber||OSe(t)&&ESe.isSubscription(t)}});var $=h(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.operate=kp.hasLift=void 0;var RSe=Xe();function n9(t){return RSe.isFunction(t?.lift)}kp.hasLift=n9;function wSe(t){return function(e){if(n9(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}kp.operate=wSe});var se=h(ws=>{"use strict";var PSe=ws&&ws.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ws,"__esModule",{value:!0});ws.OperatorSubscriber=ws.createOperatorSubscriber=void 0;var xSe=Ap();function BSe(t,e,r,n,i){return new i9(t,e,r,n,i)}ws.createOperatorSubscriber=BSe;var i9=function(t){PSe(e,t);function e(r,n,i,a,o,s){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=s,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:t.prototype._next,u._error=a?function(l){try{a(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(xSe.Subscriber);ws.OperatorSubscriber=i9});var H3=h(v1=>{"use strict";Object.defineProperty(v1,"__esModule",{value:!0});v1.refCount=void 0;var DSe=$(),MSe=se();function LSe(){return DSe.operate(function(t,e){var r=null;t._refCount++;var n=MSe.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,a=r;r=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}v1.refCount=LSe});var p0=h(Ip=>{"use strict";var FSe=Ip&&Ip.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.ConnectableObservable=void 0;var qSe=$e(),a9=Pn(),USe=H3(),VSe=se(),JSe=$(),WSe=function(t){FSe(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,JSe.hasLift(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new a9.Subscription;var i=this.getSubject();n.add(this.source.subscribe(VSe.createOperatorSubscriber(i,void 0,function(){r._teardown(),i.complete()},function(a){r._teardown(),i.error(a)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=a9.Subscription.EMPTY)}return n},e.prototype.refCount=function(){return USe.refCount()(this)},e}(qSe.Observable);Ip.ConnectableObservable=WSe});var o9=h(m0=>{"use strict";Object.defineProperty(m0,"__esModule",{value:!0});m0.performanceTimestampProvider=void 0;m0.performanceTimestampProvider={now:function(){return(m0.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var z3=h(Zi=>{"use strict";var s9=Zi&&Zi.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},u9=Zi&&Zi.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.animationFrameProvider=void 0;var GSe=Pn();Zi.animationFrameProvider={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=Zi.animationFrameProvider.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=e(function(a){r=void 0,t(a)});return new GSe.Subscription(function(){return r?.(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Zi.animationFrameProvider.delegate;return(r?.requestAnimationFrame||requestAnimationFrame).apply(void 0,u9([],s9(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Zi.animationFrameProvider.delegate;return(r?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,u9([],s9(t)))},delegate:void 0}});var d9=h(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});b1.animationFrames=void 0;var HSe=$e(),zSe=o9(),l9=z3();function QSe(t){return t?c9(t):KSe}b1.animationFrames=QSe;function c9(t){return new HSe.Observable(function(e){var r=t||zSe.performanceTimestampProvider,n=r.now(),i=0,a=function(){e.closed||(i=l9.animationFrameProvider.requestAnimationFrame(function(o){i=0;var s=r.now();e.next({timestamp:t?s:o,elapsed:s-n}),a()}))};return a(),function(){i&&l9.animationFrameProvider.cancelAnimationFrame(i)}})}var KSe=c9()});var Q3=h(S1=>{"use strict";Object.defineProperty(S1,"__esModule",{value:!0});S1.ObjectUnsubscribedError=void 0;var ZSe=Rs();S1.ObjectUnsubscribedError=ZSe.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var pr=h(Ra=>{"use strict";var h9=Ra&&Ra.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XSe=Ra&&Ra.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.AnonymousSubject=Ra.Subject=void 0;var f9=$e(),Z3=Pn(),YSe=Q3(),$Se=ho(),K3=h1(),p9=function(t){h9(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new X3(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new YSe.ObjectUnsubscribedError},e.prototype.next=function(r){var n=this;K3.errorContext(function(){var i,a;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=XSe(n.currentObservers),s=o.next();!s.done;s=o.next()){var u=s.value;u.next(r)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;K3.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;K3.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?Z3.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Z3.Subscription(function(){n.currentObservers=null,$Se.arrRemove(s,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,a=n.thrownError,o=n.isStopped;i?r.error(a):o&&r.complete()},e.prototype.asObservable=function(){var r=new f9.Observable;return r.source=this,r},e.create=function(r,n){return new X3(r,n)},e}(f9.Observable);Ra.Subject=p9;var X3=function(t){h9(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Z3.EMPTY_SUBSCRIPTION},e}(p9);Ra.AnonymousSubject=X3});var Y3=h(Op=>{"use strict";var jSe=Op&&Op.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Op,"__esModule",{value:!0});Op.BehaviorSubject=void 0;var e_e=pr(),t_e=function(t){jSe(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,a=r._value;if(n)throw i;return this._throwIfClosed(),a},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(e_e.Subject);Op.BehaviorSubject=t_e});var _1=h(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});g0.dateTimestampProvider=void 0;g0.dateTimestampProvider={now:function(){return(g0.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var E1=h(Np=>{"use strict";var r_e=Np&&Np.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Np,"__esModule",{value:!0});Np.ReplaySubject=void 0;var n_e=pr(),i_e=_1(),a_e=function(t){r_e(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=i_e.dateTimestampProvider);var a=t.call(this)||this;return a._bufferSize=r,a._windowTime=n,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,r),a._windowTime=Math.max(1,n),a}return e.prototype.next=function(r){var n=this,i=n.isStopped,a=n._buffer,o=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(a.push(r),!o&&a.push(s.now()+u)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,a=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),u=0;u<s.length&&!r.closed;u+=a?1:2)r.next(s[u]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,a=r._buffer,o=r._infiniteTimeWindow,s=(o?1:2)*n;if(n<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var u=i.now(),l=0,c=1;c<a.length&&a[c]<=u;c+=2)l=c;l&&a.splice(0,l+1)}},e}(n_e.Subject);Np.ReplaySubject=a_e});var T1=h(Rp=>{"use strict";var o_e=Rp&&Rp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.AsyncSubject=void 0;var s_e=pr(),u_e=function(t){o_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,a=n._hasValue,o=n._value,s=n.thrownError,u=n.isStopped,l=n._isComplete;i?r.error(s):(u||l)&&(a&&r.next(o),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,a=r._isComplete;a||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(s_e.Subject);Rp.AsyncSubject=u_e});var m9=h(wp=>{"use strict";var l_e=wp&&wp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wp,"__esModule",{value:!0});wp.Action=void 0;var c_e=Pn(),d_e=function(t){l_e(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e}(c_e.Subscription);wp.Action=d_e});var v9=h(wa=>{"use strict";var g9=wa&&wa.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},y9=wa&&wa.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(wa,"__esModule",{value:!0});wa.intervalProvider=void 0;wa.intervalProvider={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=wa.intervalProvider.delegate;return i?.setInterval?i.setInterval.apply(i,y9([t,e],g9(r))):setInterval.apply(void 0,y9([t,e],g9(r)))},clearInterval:function(t){var e=wa.intervalProvider.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0}});var xp=h(Pp=>{"use strict";var f_e=Pp&&Pp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.AsyncAction=void 0;var h_e=m9(),b9=v9(),p_e=ho(),m_e=function(t){f_e(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var a=this.id,o=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(o,a,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),b9.intervalProvider.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&b9.intervalProvider.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,a;try{this.work(r)}catch(o){i=!0,a=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,p_e.arrRemove(a,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(h_e.Action);Pp.AsyncAction=m_e});var _9=h(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.TestTools=Bp.Immediate=void 0;var g_e=1,$3,A1={};function S9(t){return t in A1?(delete A1[t],!0):!1}Bp.Immediate={setImmediate:function(t){var e=g_e++;return A1[e]=!0,$3||($3=Promise.resolve()),$3.then(function(){return S9(e)&&t()}),e},clearImmediate:function(t){S9(t)}};Bp.TestTools={pending:function(){return Object.keys(A1).length}}});var T9=h(Pa=>{"use strict";var y_e=Pa&&Pa.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},v_e=Pa&&Pa.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.immediateProvider=void 0;var E9=_9(),b_e=E9.Immediate.setImmediate,S_e=E9.Immediate.clearImmediate;Pa.immediateProvider={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Pa.immediateProvider.delegate;return(r?.setImmediate||b_e).apply(void 0,v_e([],y_e(t)))},clearImmediate:function(t){var e=Pa.immediateProvider.delegate;return(e?.clearImmediate||S_e)(t)},delegate:void 0}});var C9=h(Dp=>{"use strict";var __e=Dp&&Dp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.AsapAction=void 0;var E_e=xp(),A9=T9(),T_e=function(t){__e(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=A9.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,n,i){var a;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);var o=r.actions;n!=null&&((a=o[o.length-1])===null||a===void 0?void 0:a.id)!==n&&(A9.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},e}(E_e.AsyncAction);Dp.AsapAction=T_e});var j3=h(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.Scheduler=void 0;var A_e=_1(),C_e=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=A_e.dateTimestampProvider.now,t}();C1.Scheduler=C_e});var Lp=h(Mp=>{"use strict";var k_e=Mp&&Mp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.AsyncScheduler=void 0;var k9=j3(),I_e=function(t){k_e(e,t);function e(r,n){n===void 0&&(n=k9.Scheduler.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(k9.Scheduler);Mp.AsyncScheduler=I_e});var I9=h(Fp=>{"use strict";var O_e=Fp&&Fp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.AsapScheduler=void 0;var N_e=Lp(),R_e=function(t){O_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,a;r=r||i.shift();do if(a=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,a){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw a}},e}(N_e.AsyncScheduler);Fp.AsapScheduler=R_e});var O9=h(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.asap=ul.asapScheduler=void 0;var w_e=C9(),P_e=I9();ul.asapScheduler=new P_e.AsapScheduler(w_e.AsapAction);ul.asap=ul.asapScheduler});var dn=h(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.async=ll.asyncScheduler=void 0;var x_e=xp(),B_e=Lp();ll.asyncScheduler=new B_e.AsyncScheduler(x_e.AsyncAction);ll.async=ll.asyncScheduler});var N9=h(qp=>{"use strict";var D_e=qp&&qp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(qp,"__esModule",{value:!0});qp.QueueAction=void 0;var M_e=xp(),L_e=function(t){D_e(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.flush(this),0)},e}(M_e.AsyncAction);qp.QueueAction=L_e});var R9=h(Up=>{"use strict";var F_e=Up&&Up.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Up,"__esModule",{value:!0});Up.QueueScheduler=void 0;var q_e=Lp(),U_e=function(t){F_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(q_e.AsyncScheduler);Up.QueueScheduler=U_e});var w9=h(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.queue=cl.queueScheduler=void 0;var V_e=N9(),J_e=R9();cl.queueScheduler=new J_e.QueueScheduler(V_e.QueueAction);cl.queue=cl.queueScheduler});var x9=h(Vp=>{"use strict";var W_e=Vp&&Vp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Vp,"__esModule",{value:!0});Vp.AnimationFrameAction=void 0;var G_e=xp(),P9=z3(),H_e=function(t){W_e(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=P9.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,i){var a;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);var o=r.actions;n!=null&&((a=o[o.length-1])===null||a===void 0?void 0:a.id)!==n&&(P9.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},e}(G_e.AsyncAction);Vp.AnimationFrameAction=H_e});var B9=h(Jp=>{"use strict";var z_e=Jp&&Jp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.AnimationFrameScheduler=void 0;var Q_e=Lp(),K_e=function(t){z_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,a;r=r||i.shift();do if(a=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,a){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw a}},e}(Q_e.AsyncScheduler);Jp.AnimationFrameScheduler=K_e});var D9=h(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.animationFrame=dl.animationFrameScheduler=void 0;var Z_e=x9(),X_e=B9();dl.animationFrameScheduler=new X_e.AnimationFrameScheduler(Z_e.AnimationFrameAction);dl.animationFrame=dl.animationFrameScheduler});var F9=h(Ps=>{"use strict";var M9=Ps&&Ps.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.VirtualAction=Ps.VirtualTimeScheduler=void 0;var Y_e=xp(),$_e=Pn(),j_e=Lp(),eEe=function(t){M9(e,t);function e(r,n){r===void 0&&(r=L9),n===void 0&&(n=1/0);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,a,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(a=o.execute(o.state,o.delay))););if(a){for(;o=n.shift();)o.unsubscribe();throw a}},e.frameTimeFactor=10,e}(j_e.AsyncScheduler);Ps.VirtualTimeScheduler=eEe;var L9=function(t){M9(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var a=t.call(this,r,n)||this;return a.scheduler=r,a.work=n,a.index=i,a.active=!0,a.index=r.index=i,a}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return $_e.Subscription.EMPTY},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var a=r.actions;return a.push(this),a.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(r,n,i){i===void 0&&(i=0)},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Y_e.AsyncAction);Ps.VirtualAction=L9});var Xi=h(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.empty=fl.EMPTY=void 0;var q9=$e();fl.EMPTY=new q9.Observable(function(t){return t.complete()});function tEe(t){return t?rEe(t):fl.EMPTY}fl.empty=tEe;function rEe(t){return new q9.Observable(function(e){return t.schedule(function(){return e.complete()})})}});var y0=h(k1=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});k1.isScheduler=void 0;var nEe=Xe();function iEe(t){return t&&nEe.isFunction(t.schedule)}k1.isScheduler=iEe});var fn=h(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.popNumber=xs.popScheduler=xs.popResultSelector=void 0;var aEe=Xe(),oEe=y0();function ew(t){return t[t.length-1]}function sEe(t){return aEe.isFunction(ew(t))?t.pop():void 0}xs.popResultSelector=sEe;function uEe(t){return oEe.isScheduler(ew(t))?t.pop():void 0}xs.popScheduler=uEe;function lEe(t,e){return typeof ew(t)=="number"?t.pop():e}xs.popNumber=lEe});var O1=h(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.isArrayLike=void 0;I1.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}});var tw=h(N1=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});N1.isPromise=void 0;var cEe=Xe();function dEe(t){return cEe.isFunction(t?.then)}N1.isPromise=dEe});var rw=h(R1=>{"use strict";Object.defineProperty(R1,"__esModule",{value:!0});R1.isInteropObservable=void 0;var fEe=f0(),hEe=Xe();function pEe(t){return hEe.isFunction(t[fEe.observable])}R1.isInteropObservable=pEe});var nw=h(w1=>{"use strict";Object.defineProperty(w1,"__esModule",{value:!0});w1.isAsyncIterable=void 0;var mEe=Xe();function gEe(t){return Symbol.asyncIterator&&mEe.isFunction(t?.[Symbol.asyncIterator])}w1.isAsyncIterable=gEe});var iw=h(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.createInvalidObservableTypeError=void 0;function yEe(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}P1.createInvalidObservableTypeError=yEe});var aw=h(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.iterator=Wp.getSymbolIterator=void 0;function U9(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Wp.getSymbolIterator=U9;Wp.iterator=U9()});var ow=h(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.isIterable=void 0;var vEe=aw(),bEe=Xe();function SEe(t){return bEe.isFunction(t?.[vEe.iterator])}x1.isIterable=SEe});var B1=h(ti=>{"use strict";var _Ee=ti&&ti.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Gp=ti&&ti.__await||function(t){return this instanceof Gp?(this.v=t,this):new Gp(t)},EEe=ti&&ti.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){a.push([f,p,g,m])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(g){d(a[0][3],g)}}function u(f){f.value instanceof Gp?Promise.resolve(f.value.v).then(l,c):d(a[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(ti,"__esModule",{value:!0});ti.isReadableStreamLike=ti.readableStreamLikeToAsyncGenerator=void 0;var TEe=Xe();function AEe(t){return EEe(this,arguments,function(){var r,n,i,a;return _Ee(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Gp(r.read())];case 3:return n=o.sent(),i=n.value,a=n.done,a?[4,Gp(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Gp(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}ti.readableStreamLikeToAsyncGenerator=AEe;function CEe(t){return TEe.isFunction(t?.getReader)}ti.isReadableStreamLike=CEe});var Ce=h(gt=>{"use strict";var kEe=gt&&gt.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},IEe=gt&&gt.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},OEe=gt&&gt.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof sw=="function"?sw(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,u){o=t[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}},sw=gt&&gt.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(gt,"__esModule",{value:!0});gt.fromReadableStreamLike=gt.fromAsyncIterable=gt.fromIterable=gt.fromPromise=gt.fromArrayLike=gt.fromInteropObservable=gt.innerFrom=void 0;var NEe=O1(),REe=tw(),Hp=$e(),wEe=rw(),PEe=nw(),xEe=iw(),BEe=ow(),V9=B1(),DEe=Xe(),MEe=F3(),LEe=f0();function FEe(t){if(t instanceof Hp.Observable)return t;if(t!=null){if(wEe.isInteropObservable(t))return J9(t);if(NEe.isArrayLike(t))return W9(t);if(REe.isPromise(t))return G9(t);if(PEe.isAsyncIterable(t))return uw(t);if(BEe.isIterable(t))return H9(t);if(V9.isReadableStreamLike(t))return z9(t)}throw xEe.createInvalidObservableTypeError(t)}gt.innerFrom=FEe;function J9(t){return new Hp.Observable(function(e){var r=t[LEe.observable]();if(DEe.isFunction(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}gt.fromInteropObservable=J9;function W9(t){return new Hp.Observable(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}gt.fromArrayLike=W9;function G9(t){return new Hp.Observable(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,MEe.reportUnhandledError)})}gt.fromPromise=G9;function H9(t){return new Hp.Observable(function(e){var r,n;try{for(var i=sw(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}gt.fromIterable=H9;function uw(t){return new Hp.Observable(function(e){qEe(t,e).catch(function(r){return e.error(r)})})}gt.fromAsyncIterable=uw;function z9(t){return uw(V9.readableStreamLikeToAsyncGenerator(t))}gt.fromReadableStreamLike=z9;function qEe(t,e){var r,n,i,a;return kEe(this,void 0,void 0,function(){var o,s;return IEe(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=OEe(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}});var po=h(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.executeSchedule=void 0;function UEe(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var a=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(a),!i)return a}D1.executeSchedule=UEe});var v0=h(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.observeOn=void 0;var lw=po(),VEe=$(),JEe=se();function WEe(t,e){return e===void 0&&(e=0),VEe.operate(function(r,n){r.subscribe(JEe.createOperatorSubscriber(n,function(i){return lw.executeSchedule(n,t,function(){return n.next(i)},e)},function(){return lw.executeSchedule(n,t,function(){return n.complete()},e)},function(i){return lw.executeSchedule(n,t,function(){return n.error(i)},e)}))})}M1.observeOn=WEe});var b0=h(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.subscribeOn=void 0;var GEe=$();function HEe(t,e){return e===void 0&&(e=0),GEe.operate(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}L1.subscribeOn=HEe});var Q9=h(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.scheduleObservable=void 0;var zEe=Ce(),QEe=v0(),KEe=b0();function ZEe(t,e){return zEe.innerFrom(t).pipe(KEe.subscribeOn(e),QEe.observeOn(e))}F1.scheduleObservable=ZEe});var K9=h(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.schedulePromise=void 0;var XEe=Ce(),YEe=v0(),$Ee=b0();function jEe(t,e){return XEe.innerFrom(t).pipe($Ee.subscribeOn(e),YEe.observeOn(e))}q1.schedulePromise=jEe});var Z9=h(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.scheduleArray=void 0;var e1e=$e();function t1e(t,e){return new e1e.Observable(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}U1.scheduleArray=t1e});var cw=h(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.scheduleIterable=void 0;var r1e=$e(),n1e=aw(),i1e=Xe(),X9=po();function a1e(t,e){return new r1e.Observable(function(r){var n;return X9.executeSchedule(r,e,function(){n=t[n1e.iterator](),X9.executeSchedule(r,e,function(){var i,a,o;try{i=n.next(),a=i.value,o=i.done}catch(s){r.error(s);return}o?r.complete():r.next(a)},0,!0)}),function(){return i1e.isFunction(n?.return)&&n.return()}})}V1.scheduleIterable=a1e});var dw=h(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});J1.scheduleAsyncIterable=void 0;var o1e=$e(),Y9=po();function s1e(t,e){if(!t)throw new Error("Iterable cannot be null");return new o1e.Observable(function(r){Y9.executeSchedule(r,e,function(){var n=t[Symbol.asyncIterator]();Y9.executeSchedule(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}J1.scheduleAsyncIterable=s1e});var $9=h(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.scheduleReadableStreamLike=void 0;var u1e=dw(),l1e=B1();function c1e(t,e){return u1e.scheduleAsyncIterable(l1e.readableStreamLikeToAsyncGenerator(t),e)}W1.scheduleReadableStreamLike=c1e});var fw=h(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.scheduled=void 0;var d1e=Q9(),f1e=K9(),h1e=Z9(),p1e=cw(),m1e=dw(),g1e=rw(),y1e=tw(),v1e=O1(),b1e=ow(),S1e=nw(),_1e=iw(),E1e=B1(),T1e=$9();function A1e(t,e){if(t!=null){if(g1e.isInteropObservable(t))return d1e.scheduleObservable(t,e);if(v1e.isArrayLike(t))return h1e.scheduleArray(t,e);if(y1e.isPromise(t))return f1e.schedulePromise(t,e);if(S1e.isAsyncIterable(t))return m1e.scheduleAsyncIterable(t,e);if(b1e.isIterable(t))return p1e.scheduleIterable(t,e);if(E1e.isReadableStreamLike(t))return T1e.scheduleReadableStreamLike(t,e)}throw _1e.createInvalidObservableTypeError(t)}G1.scheduled=A1e});var mo=h(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.from=void 0;var C1e=fw(),k1e=Ce();function I1e(t,e){return e?C1e.scheduled(t,e):k1e.innerFrom(t)}H1.from=I1e});var Q1=h(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.of=void 0;var O1e=fn(),N1e=mo();function R1e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=O1e.popScheduler(t);return N1e.from(t,r)}z1.of=R1e});var hw=h(K1=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0});K1.throwError=void 0;var w1e=$e(),P1e=Xe();function x1e(t,e){var r=P1e.isFunction(t)?t:function(){return t},n=function(i){return i.error(r())};return new w1e.Observable(e?function(i){return e.schedule(n,0,i)}:n)}K1.throwError=x1e});var Z1=h(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.observeNotification=go.Notification=go.NotificationKind=void 0;var B1e=Xi(),D1e=Q1(),M1e=hw(),L1e=Xe(),F1e;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(F1e=go.NotificationKind||(go.NotificationKind={}));var q1e=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){return j9(this,e)},t.prototype.do=function(e,r,n){var i=this,a=i.kind,o=i.value,s=i.error;return a==="N"?e?.(o):a==="E"?r?.(s):n?.()},t.prototype.accept=function(e,r,n){var i;return L1e.isFunction((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,i=e.error,a=r==="N"?D1e.of(n):r==="E"?M1e.throwError(function(){return i}):r==="C"?B1e.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+r);return a},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();go.Notification=q1e;function j9(t,e){var r,n,i,a=t,o=a.kind,s=a.value,u=a.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(r=e.next)===null||r===void 0||r.call(e,s):o==="E"?(n=e.error)===null||n===void 0||n.call(e,u):(i=e.complete)===null||i===void 0||i.call(e)}go.observeNotification=j9});var tz=h(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.isObservable=void 0;var U1e=$e(),ez=Xe();function V1e(t){return!!t&&(t instanceof U1e.Observable||ez.isFunction(t.lift)&&ez.isFunction(t.subscribe))}X1.isObservable=V1e});var Bs=h(Y1=>{"use strict";Object.defineProperty(Y1,"__esModule",{value:!0});Y1.EmptyError=void 0;var J1e=Rs();Y1.EmptyError=J1e.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})});var rz=h($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.lastValueFrom=void 0;var W1e=Bs();function G1e(t,e){var r=typeof e=="object";return new Promise(function(n,i){var a=!1,o;t.subscribe({next:function(s){o=s,a=!0},error:i,complete:function(){a?n(o):r?n(e.defaultValue):i(new W1e.EmptyError)}})})}$1.lastValueFrom=G1e});var nz=h(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.firstValueFrom=void 0;var H1e=Bs(),z1e=Ap();function Q1e(t,e){var r=typeof e=="object";return new Promise(function(n,i){var a=new z1e.SafeSubscriber({next:function(o){n(o),a.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new H1e.EmptyError)}});t.subscribe(a)})}j1.firstValueFrom=Q1e});var pw=h(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0});eT.ArgumentOutOfRangeError=void 0;var K1e=Rs();eT.ArgumentOutOfRangeError=K1e.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var mw=h(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});tT.NotFoundError=void 0;var Z1e=Rs();tT.NotFoundError=Z1e.createErrorClass(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}})});var gw=h(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0});rT.SequenceError=void 0;var X1e=Rs();rT.SequenceError=X1e.createErrorClass(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}})});var iT=h(nT=>{"use strict";Object.defineProperty(nT,"__esModule",{value:!0});nT.isValidDate=void 0;function Y1e(t){return t instanceof Date&&!isNaN(t)}nT.isValidDate=Y1e});var aT=h(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.timeout=hl.TimeoutError=void 0;var $1e=dn(),j1e=iT(),eTe=$(),tTe=Ce(),rTe=Rs(),nTe=se(),iTe=po();hl.TimeoutError=rTe.createErrorClass(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function aTe(t,e){var r=j1e.isValidDate(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,a=r.with,o=a===void 0?oTe:a,s=r.scheduler,u=s===void 0?e??$1e.asyncScheduler:s,l=r.meta,c=l===void 0?null:l;if(n==null&&i==null)throw new TypeError("No timeout provided.");return eTe.operate(function(d,f){var p,g,m=null,b=0,v=function(E){g=iTe.executeSchedule(f,u,function(){try{p.unsubscribe(),tTe.innerFrom(o({meta:c,lastValue:m,seen:b})).subscribe(f)}catch(k){f.error(k)}},E)};p=d.subscribe(nTe.createOperatorSubscriber(f,function(E){g?.unsubscribe(),b++,f.next(m=E),i>0&&v(i)},void 0,void 0,function(){g?.closed||g?.unsubscribe(),m=null})),!b&&v(n!=null?typeof n=="number"?n:+n-u.now():i)})}hl.timeout=aTe;function oTe(t){throw new hl.TimeoutError(t)}});var Ds=h(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});oT.map=void 0;var sTe=$(),uTe=se();function lTe(t,e){return sTe.operate(function(r,n){var i=0;r.subscribe(uTe.createOperatorSubscriber(n,function(a){n.next(t.call(e,a,i++))}))})}oT.map=lTe});var Ls=h(Ms=>{"use strict";var cTe=Ms&&Ms.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},dTe=Ms&&Ms.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.mapOneOrManyArgs=void 0;var fTe=Ds(),hTe=Array.isArray;function pTe(t,e){return hTe(e)?t.apply(void 0,dTe([],cTe(e))):t(e)}function mTe(t){return fTe.map(function(e){return pTe(t,e)})}Ms.mapOneOrManyArgs=mTe});var vw=h(Fs=>{"use strict";var gTe=Fs&&Fs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},iz=Fs&&Fs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.bindCallbackInternals=void 0;var yTe=y0(),vTe=$e(),bTe=b0(),STe=Ls(),_Te=v0(),ETe=T1();function yw(t,e,r,n){if(r)if(yTe.isScheduler(r))n=r;else return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return yw(t,e,n).apply(this,i).pipe(STe.mapOneOrManyArgs(r))};return n?function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return yw(t,e).apply(this,i).pipe(bTe.subscribeOn(n),_Te.observeOn(n))}:function(){for(var i=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=new ETe.AsyncSubject,u=!0;return new vTe.Observable(function(l){var c=s.subscribe(l);if(u){u=!1;var d=!1,f=!1;e.apply(i,iz(iz([],gTe(a)),[function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];if(t){var m=p.shift();if(m!=null){s.error(m);return}}s.next(1<p.length?p:p[0]),f=!0,d&&s.complete()}])),f&&s.complete(),d=!0}return c})}}Fs.bindCallbackInternals=yw});var az=h(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});sT.bindCallback=void 0;var TTe=vw();function ATe(t,e,r){return TTe.bindCallbackInternals(!1,t,e,r)}sT.bindCallback=ATe});var oz=h(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0});uT.bindNodeCallback=void 0;var CTe=vw();function kTe(t,e,r){return CTe.bindCallbackInternals(!0,t,e,r)}uT.bindNodeCallback=kTe});var bw=h(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});lT.argsArgArrayOrObject=void 0;var ITe=Array.isArray,OTe=Object.getPrototypeOf,NTe=Object.prototype,RTe=Object.keys;function wTe(t){if(t.length===1){var e=t[0];if(ITe(e))return{args:e,keys:null};if(PTe(e)){var r=RTe(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}lT.argsArgArrayOrObject=wTe;function PTe(t){return t&&typeof t=="object"&&OTe(t)===NTe}});var Sw=h(cT=>{"use strict";Object.defineProperty(cT,"__esModule",{value:!0});cT.createObject=void 0;function xTe(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}cT.createObject=xTe});var dT=h(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.combineLatestInit=zp.combineLatest=void 0;var BTe=$e(),DTe=bw(),lz=mo(),cz=hr(),MTe=Ls(),sz=fn(),LTe=Sw(),FTe=se(),qTe=po();function UTe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sz.popScheduler(t),n=sz.popResultSelector(t),i=DTe.argsArgArrayOrObject(t),a=i.args,o=i.keys;if(a.length===0)return lz.from([],r);var s=new BTe.Observable(dz(a,r,o?function(u){return LTe.createObject(o,u)}:cz.identity));return n?s.pipe(MTe.mapOneOrManyArgs(n)):s}zp.combineLatest=UTe;function dz(t,e,r){return r===void 0&&(r=cz.identity),function(n){uz(e,function(){for(var i=t.length,a=new Array(i),o=i,s=i,u=function(c){uz(e,function(){var d=lz.from(t[c],e),f=!1;d.subscribe(FTe.createOperatorSubscriber(n,function(p){a[c]=p,f||(f=!0,s--),s||n.next(r(a.slice()))},function(){--o||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}zp.combineLatestInit=dz;function uz(t,e,r){t?qTe.executeSchedule(r,t,e):e()}});var hT=h(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0});fT.mergeInternals=void 0;var VTe=Ce(),JTe=po(),fz=se();function WTe(t,e,r,n,i,a,o,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&e.complete()},p=function(m){return l<n?g(m):u.push(m)},g=function(m){a&&e.next(m),l++;var b=!1;VTe.innerFrom(r(m,c++)).subscribe(fz.createOperatorSubscriber(e,function(v){i?.(v),a?p(v):e.next(v)},function(){b=!0},void 0,function(){if(b)try{l--;for(var v=function(){var E=u.shift();o?JTe.executeSchedule(e,o,function(){return g(E)}):g(E)};u.length&&l<n;)v();f()}catch(E){e.error(E)}}))};return t.subscribe(fz.createOperatorSubscriber(e,p,function(){d=!0,f()})),function(){s?.()}}fT.mergeInternals=WTe});var yo=h(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0});pT.mergeMap=void 0;var GTe=Ds(),HTe=Ce(),zTe=$(),QTe=hT(),KTe=Xe();function hz(t,e,r){return r===void 0&&(r=1/0),KTe.isFunction(e)?hz(function(n,i){return GTe.map(function(a,o){return e(n,a,i,o)})(HTe.innerFrom(t(n,i)))},r):(typeof e=="number"&&(r=e),zTe.operate(function(n,i){return QTe.mergeInternals(n,i,t,r)}))}pT.mergeMap=hz});var S0=h(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0});mT.mergeAll=void 0;var ZTe=yo(),XTe=hr();function YTe(t){return t===void 0&&(t=1/0),ZTe.mergeMap(XTe.identity,t)}mT.mergeAll=YTe});var yT=h(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});gT.concatAll=void 0;var $Te=S0();function jTe(){return $Te.mergeAll(1)}gT.concatAll=jTe});var _0=h(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0});vT.concat=void 0;var eAe=yT(),tAe=fn(),rAe=mo();function nAe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eAe.concatAll()(rAe.from(t,tAe.popScheduler(t)))}vT.concat=nAe});var E0=h(bT=>{"use strict";Object.defineProperty(bT,"__esModule",{value:!0});bT.defer=void 0;var iAe=$e(),aAe=Ce();function oAe(t){return new iAe.Observable(function(e){aAe.innerFrom(t()).subscribe(e)})}bT.defer=oAe});var pz=h(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0});ST.connectable=void 0;var sAe=pr(),uAe=$e(),lAe=E0(),cAe={connector:function(){return new sAe.Subject},resetOnDisconnect:!0};function dAe(t,e){e===void 0&&(e=cAe);var r=null,n=e.connector,i=e.resetOnDisconnect,a=i===void 0?!0:i,o=n(),s=new uAe.Observable(function(u){return o.subscribe(u)});return s.connect=function(){return(!r||r.closed)&&(r=lAe.defer(function(){return t}).subscribe(o),a&&r.add(function(){return o=n()})),r},s}ST.connectable=dAe});var mz=h(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0});_T.forkJoin=void 0;var fAe=$e(),hAe=bw(),pAe=Ce(),mAe=fn(),gAe=se(),yAe=Ls(),vAe=Sw();function bAe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=mAe.popResultSelector(t),n=hAe.argsArgArrayOrObject(t),i=n.args,a=n.keys,o=new fAe.Observable(function(s){var u=i.length;if(!u){s.complete();return}for(var l=new Array(u),c=u,d=u,f=function(g){var m=!1;pAe.innerFrom(i[g]).subscribe(gAe.createOperatorSubscriber(s,function(b){m||(m=!0,d--),l[g]=b},function(){return c--},void 0,function(){(!c||!m)&&(d||s.next(a?vAe.createObject(a,l):l),s.complete())}))},p=0;p<u;p++)f(p)});return r?o.pipe(yAe.mapOneOrManyArgs(r)):o}_T.forkJoin=bAe});var yz=h(Qp=>{"use strict";var SAe=Qp&&Qp.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.fromEvent=void 0;var _Ae=Ce(),EAe=$e(),TAe=yo(),AAe=O1(),pl=Xe(),CAe=Ls(),kAe=["addListener","removeListener"],IAe=["addEventListener","removeEventListener"],OAe=["on","off"];function _w(t,e,r,n){if(pl.isFunction(r)&&(n=r,r=void 0),n)return _w(t,e,r).pipe(CAe.mapOneOrManyArgs(n));var i=SAe(wAe(t)?IAe.map(function(s){return function(u){return t[s](e,u,r)}}):NAe(t)?kAe.map(gz(t,e)):RAe(t)?OAe.map(gz(t,e)):[],2),a=i[0],o=i[1];if(!a&&AAe.isArrayLike(t))return TAe.mergeMap(function(s){return _w(s,e,r)})(_Ae.innerFrom(t));if(!a)throw new TypeError("Invalid event target");return new EAe.Observable(function(s){var u=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s.next(1<l.length?l:l[0])};return a(u),function(){return o(u)}})}Qp.fromEvent=_w;function gz(t,e){return function(r){return function(n){return t[r](e,n)}}}function NAe(t){return pl.isFunction(t.addListener)&&pl.isFunction(t.removeListener)}function RAe(t){return pl.isFunction(t.on)&&pl.isFunction(t.off)}function wAe(t){return pl.isFunction(t.addEventListener)&&pl.isFunction(t.removeEventListener)}});var bz=h(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});ET.fromEventPattern=void 0;var PAe=$e(),xAe=Xe(),BAe=Ls();function vz(t,e,r){return r?vz(t,e).pipe(BAe.mapOneOrManyArgs(r)):new PAe.Observable(function(n){var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.next(o.length===1?o[0]:o)},a=t(i);return xAe.isFunction(e)?function(){return e(i,a)}:void 0})}ET.fromEventPattern=vz});var _z=h(Kp=>{"use strict";var DAe=Kp&&Kp.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.generate=void 0;var Sz=hr(),MAe=y0(),LAe=E0(),FAe=cw();function qAe(t,e,r,n,i){var a,o,s,u;arguments.length===1?(a=t,u=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector,s=o===void 0?Sz.identity:o,i=a.scheduler):(u=t,!n||MAe.isScheduler(n)?(s=Sz.identity,i=n):s=n);function l(){var c;return DAe(this,function(d){switch(d.label){case 0:c=u,d.label=1;case 1:return!e||e(c)?[4,s(c)]:[3,4];case 2:d.sent(),d.label=3;case 3:return c=r(c),[3,1];case 4:return[2]}})}return LAe.defer(i?function(){return FAe.scheduleIterable(l(),i)}:l)}Kp.generate=qAe});var Ez=h(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});TT.iif=void 0;var UAe=E0();function VAe(t,e,r){return UAe.defer(function(){return t()?e:r})}TT.iif=VAe});var qs=h(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});AT.timer=void 0;var JAe=$e(),WAe=dn(),GAe=y0(),HAe=iT();function zAe(t,e,r){t===void 0&&(t=0),r===void 0&&(r=WAe.async);var n=-1;return e!=null&&(GAe.isScheduler(e)?r=e:n=e),new JAe.Observable(function(i){var a=HAe.isValidDate(t)?+t-r.now():t;a<0&&(a=0);var o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},a)})}AT.timer=zAe});var Ew=h(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});CT.interval=void 0;var QAe=dn(),KAe=qs();function ZAe(t,e){return t===void 0&&(t=0),e===void 0&&(e=QAe.asyncScheduler),t<0&&(t=0),KAe.timer(t,t,e)}CT.interval=ZAe});var Az=h(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0});kT.merge=void 0;var XAe=S0(),YAe=Ce(),$Ae=Xi(),Tz=fn(),jAe=mo();function eCe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Tz.popScheduler(t),n=Tz.popNumber(t,1/0),i=t;return i.length?i.length===1?YAe.innerFrom(i[0]):XAe.mergeAll(n)(jAe.from(i,r)):$Ae.EMPTY}kT.merge=eCe});var Tw=h(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.never=ml.NEVER=void 0;var tCe=$e(),rCe=fr();ml.NEVER=new tCe.Observable(rCe.noop);function nCe(){return ml.NEVER}ml.never=nCe});var gl=h(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0});IT.argsOrArgArray=void 0;var iCe=Array.isArray;function aCe(t){return t.length===1&&iCe(t[0])?t[0]:t}IT.argsOrArgArray=aCe});var Aw=h(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});OT.onErrorResumeNext=void 0;var oCe=$e(),sCe=gl(),uCe=se(),Cz=fr(),lCe=Ce();function cCe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sCe.argsOrArgArray(t);return new oCe.Observable(function(n){var i=0,a=function(){if(i<r.length){var o=void 0;try{o=lCe.innerFrom(r[i++])}catch{a();return}var s=new uCe.OperatorSubscriber(n,void 0,Cz.noop,Cz.noop);o.subscribe(s),s.add(a)}else n.complete()};a()})}OT.onErrorResumeNext=cCe});var kz=h(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});NT.pairs=void 0;var dCe=mo();function fCe(t,e){return dCe.from(Object.entries(t),e)}NT.pairs=fCe});var Iz=h(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});RT.not=void 0;function hCe(t,e){return function(r,n){return!t.call(e,r,n)}}RT.not=hCe});var yl=h(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0});wT.filter=void 0;var pCe=$(),mCe=se();function gCe(t,e){return pCe.operate(function(r,n){var i=0;r.subscribe(mCe.createOperatorSubscriber(n,function(a){return t.call(e,a,i++)&&n.next(a)}))})}wT.filter=gCe});var Rz=h(PT=>{"use strict";Object.defineProperty(PT,"__esModule",{value:!0});PT.partition=void 0;var yCe=Iz(),Oz=yl(),Nz=Ce();function vCe(t,e,r){return[Oz.filter(e,r)(Nz.innerFrom(t)),Oz.filter(yCe.not(e,r))(Nz.innerFrom(t))]}PT.partition=vCe});var Cw=h(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.raceInit=Zp.race=void 0;var bCe=$e(),wz=Ce(),SCe=gl(),_Ce=se();function ECe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=SCe.argsOrArgArray(t),t.length===1?wz.innerFrom(t[0]):new bCe.Observable(Pz(t))}Zp.race=ECe;function Pz(t){return function(e){for(var r=[],n=function(a){r.push(wz.innerFrom(t[a]).subscribe(_Ce.createOperatorSubscriber(e,function(o){if(r){for(var s=0;s<r.length;s++)s!==a&&r[s].unsubscribe();r=null}e.next(o)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}Zp.raceInit=Pz});var xz=h(xT=>{"use strict";Object.defineProperty(xT,"__esModule",{value:!0});xT.range=void 0;var TCe=$e(),ACe=Xi();function CCe(t,e,r){if(e==null&&(e=t,t=0),e<=0)return ACe.EMPTY;var n=e+t;return new TCe.Observable(r?function(i){var a=t;return r.schedule(function(){a<n?(i.next(a++),this.schedule()):i.complete()})}:function(i){for(var a=t;a<n&&!i.closed;)i.next(a++);i.complete()})}xT.range=CCe});var Bz=h(BT=>{"use strict";Object.defineProperty(BT,"__esModule",{value:!0});BT.using=void 0;var kCe=$e(),ICe=Ce(),OCe=Xi();function NCe(t,e){return new kCe.Observable(function(r){var n=t(),i=e(n),a=i?ICe.innerFrom(i):OCe.EMPTY;return a.subscribe(r),function(){n&&n.unsubscribe()}})}BT.using=NCe});var DT=h(Us=>{"use strict";var RCe=Us&&Us.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},wCe=Us&&Us.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Us,"__esModule",{value:!0});Us.zip=void 0;var PCe=$e(),xCe=Ce(),BCe=gl(),DCe=Xi(),MCe=se(),LCe=fn();function FCe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=LCe.popResultSelector(t),n=BCe.argsOrArgArray(t);return n.length?new PCe.Observable(function(i){var a=n.map(function(){return[]}),o=n.map(function(){return!1});i.add(function(){a=o=null});for(var s=function(l){xCe.innerFrom(n[l]).subscribe(MCe.createOperatorSubscriber(i,function(c){if(a[l].push(c),a.every(function(f){return f.length})){var d=a.map(function(f){return f.shift()});i.next(r?r.apply(void 0,wCe([],RCe(d))):d),a.some(function(f,p){return!f.length&&o[p]})&&i.complete()}},function(){o[l]=!0,!a[l].length&&i.complete()}))},u=0;!i.closed&&u<n.length;u++)s(u);return function(){a=o=null}}):DCe.EMPTY}Us.zip=FCe});var Mz=h(Dz=>{"use strict";Object.defineProperty(Dz,"__esModule",{value:!0})});var kw=h(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});MT.audit=void 0;var qCe=$(),UCe=Ce(),Lz=se();function VCe(t){return qCe.operate(function(e,r){var n=!1,i=null,a=null,o=!1,s=function(){if(a?.unsubscribe(),a=null,n){n=!1;var l=i;i=null,r.next(l)}o&&r.complete()},u=function(){a=null,o&&r.complete()};e.subscribe(Lz.createOperatorSubscriber(r,function(l){n=!0,i=l,a||UCe.innerFrom(t(l)).subscribe(a=Lz.createOperatorSubscriber(r,s,u))},function(){o=!0,(!n||!a||a.closed)&&r.complete()}))})}MT.audit=VCe});var Fz=h(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});LT.auditTime=void 0;var JCe=dn(),WCe=kw(),GCe=qs();function HCe(t,e){return e===void 0&&(e=JCe.asyncScheduler),WCe.audit(function(){return GCe.timer(t,e)})}LT.auditTime=HCe});var Uz=h(FT=>{"use strict";Object.defineProperty(FT,"__esModule",{value:!0});FT.buffer=void 0;var zCe=$(),QCe=fr(),qz=se(),KCe=Ce();function ZCe(t){return zCe.operate(function(e,r){var n=[];return e.subscribe(qz.createOperatorSubscriber(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),KCe.innerFrom(t).subscribe(qz.createOperatorSubscriber(r,function(){var i=n;n=[],r.next(i)},QCe.noop)),function(){n=null}})}FT.buffer=ZCe});var Vz=h(Xp=>{"use strict";var Iw=Xp&&Xp.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.bufferCount=void 0;var XCe=$(),YCe=se(),$Ce=ho();function jCe(t,e){return e===void 0&&(e=null),e=e??t,XCe.operate(function(r,n){var i=[],a=0;r.subscribe(YCe.createOperatorSubscriber(n,function(o){var s,u,l,c,d=null;a++%e===0&&i.push([]);try{for(var f=Iw(i),p=f.next();!p.done;p=f.next()){var g=p.value;g.push(o),t<=g.length&&(d=d??[],d.push(g))}}catch(v){s={error:v}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}if(d)try{for(var m=Iw(d),b=m.next();!b.done;b=m.next()){var g=b.value;$Ce.arrRemove(i,g),n.next(g)}}catch(v){l={error:v}}finally{try{b&&!b.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}},function(){var o,s;try{for(var u=Iw(i),l=u.next();!l.done;l=u.next()){var c=l.value;n.next(c)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}n.complete()},void 0,function(){i=null}))})}Xp.bufferCount=jCe});var Wz=h(Yp=>{"use strict";var eke=Yp&&Yp.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.bufferTime=void 0;var tke=Pn(),rke=$(),nke=se(),ike=ho(),ake=dn(),oke=fn(),Jz=po();function ske(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=(e=oke.popScheduler(n))!==null&&e!==void 0?e:ake.asyncScheduler,o=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return rke.operate(function(u,l){var c=[],d=!1,f=function(m){var b=m.buffer,v=m.subs;v.unsubscribe(),ike.arrRemove(c,m),l.next(b),d&&p()},p=function(){if(c){var m=new tke.Subscription;l.add(m);var b=[],v={buffer:b,subs:m};c.push(v),Jz.executeSchedule(m,a,function(){return f(v)},t)}};o!==null&&o>=0?Jz.executeSchedule(l,a,p,o,!0):d=!0,p();var g=nke.createOperatorSubscriber(l,function(m){var b,v,E=c.slice();try{for(var k=eke(E),O=k.next();!O.done;O=k.next()){var M=O.value,P=M.buffer;P.push(m),s<=P.length&&f(M)}}catch(q){b={error:q}}finally{try{O&&!O.done&&(v=k.return)&&v.call(k)}finally{if(b)throw b.error}}},function(){for(;c?.length;)l.next(c.shift().buffer);g?.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return c=null});u.subscribe(g)})}Yp.bufferTime=ske});var zz=h($p=>{"use strict";var uke=$p&&$p.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($p,"__esModule",{value:!0});$p.bufferToggle=void 0;var lke=Pn(),cke=$(),Gz=Ce(),Ow=se(),Hz=fr(),dke=ho();function fke(t,e){return cke.operate(function(r,n){var i=[];Gz.innerFrom(t).subscribe(Ow.createOperatorSubscriber(n,function(a){var o=[];i.push(o);var s=new lke.Subscription,u=function(){dke.arrRemove(i,o),n.next(o),s.unsubscribe()};s.add(Gz.innerFrom(e(a)).subscribe(Ow.createOperatorSubscriber(n,u,Hz.noop)))},Hz.noop)),r.subscribe(Ow.createOperatorSubscriber(n,function(a){var o,s;try{for(var u=uke(i),l=u.next();!l.done;l=u.next()){var c=l.value;c.push(a)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}$p.bufferToggle=fke});var Kz=h(qT=>{"use strict";Object.defineProperty(qT,"__esModule",{value:!0});qT.bufferWhen=void 0;var hke=$(),pke=fr(),Qz=se(),mke=Ce();function gke(t){return hke.operate(function(e,r){var n=null,i=null,a=function(){i?.unsubscribe();var o=n;n=[],o&&r.next(o),mke.innerFrom(t()).subscribe(i=Qz.createOperatorSubscriber(r,a,pke.noop))};a(),e.subscribe(Qz.createOperatorSubscriber(r,function(o){return n?.push(o)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}qT.bufferWhen=gke});var Xz=h(UT=>{"use strict";Object.defineProperty(UT,"__esModule",{value:!0});UT.catchError=void 0;var yke=Ce(),vke=se(),bke=$();function Zz(t){return bke.operate(function(e,r){var n=null,i=!1,a;n=e.subscribe(vke.createOperatorSubscriber(r,void 0,void 0,function(o){a=yke.innerFrom(t(o,Zz(t)(e))),n?(n.unsubscribe(),n=null,a.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(r))})}UT.catchError=Zz});var Nw=h(VT=>{"use strict";Object.defineProperty(VT,"__esModule",{value:!0});VT.scanInternals=void 0;var Ske=se();function _ke(t,e,r,n,i){return function(a,o){var s=r,u=e,l=0;a.subscribe(Ske.createOperatorSubscriber(o,function(c){var d=l++;u=s?t(u,c,d):(s=!0,c),n&&o.next(u)},i&&function(){s&&o.next(u),o.complete()}))}}VT.scanInternals=_ke});var jp=h(JT=>{"use strict";Object.defineProperty(JT,"__esModule",{value:!0});JT.reduce=void 0;var Eke=Nw(),Tke=$();function Ake(t,e){return Tke.operate(Eke.scanInternals(t,e,arguments.length>=2,!1,!0))}JT.reduce=Ake});var Rw=h(WT=>{"use strict";Object.defineProperty(WT,"__esModule",{value:!0});WT.toArray=void 0;var Cke=jp(),kke=$(),Ike=function(t,e){return t.push(e),t};function Oke(){return kke.operate(function(t,e){Cke.reduce(Ike,[])(t).subscribe(e)})}WT.toArray=Oke});var ww=h(GT=>{"use strict";Object.defineProperty(GT,"__esModule",{value:!0});GT.joinAllInternals=void 0;var Nke=hr(),Rke=Ls(),wke=h0(),Pke=yo(),xke=Rw();function Bke(t,e){return wke.pipe(xke.toArray(),Pke.mergeMap(function(r){return t(r)}),e?Rke.mapOneOrManyArgs(e):Nke.identity)}GT.joinAllInternals=Bke});var Pw=h(HT=>{"use strict";Object.defineProperty(HT,"__esModule",{value:!0});HT.combineLatestAll=void 0;var Dke=dT(),Mke=ww();function Lke(t){return Mke.joinAllInternals(Dke.combineLatest,t)}HT.combineLatestAll=Lke});var Yz=h(zT=>{"use strict";Object.defineProperty(zT,"__esModule",{value:!0});zT.combineAll=void 0;var Fke=Pw();zT.combineAll=Fke.combineLatestAll});var tQ=h(Vs=>{"use strict";var $z=Vs&&Vs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},jz=Vs&&Vs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.combineLatest=void 0;var qke=dT(),Uke=$(),Vke=gl(),Jke=Ls(),Wke=h0(),Gke=fn();function eQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Gke.popResultSelector(t);return r?Wke.pipe(eQ.apply(void 0,jz([],$z(t))),Jke.mapOneOrManyArgs(r)):Uke.operate(function(n,i){qke.combineLatestInit(jz([n],$z(Vke.argsOrArgArray(t))))(i)})}Vs.combineLatest=eQ});var rQ=h(Js=>{"use strict";var Hke=Js&&Js.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},zke=Js&&Js.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Js,"__esModule",{value:!0});Js.combineLatestWith=void 0;var Qke=tQ();function Kke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qke.combineLatest.apply(void 0,zke([],Hke(t)))}Js.combineLatestWith=Kke});var xw=h(QT=>{"use strict";Object.defineProperty(QT,"__esModule",{value:!0});QT.concatMap=void 0;var nQ=yo(),Zke=Xe();function Xke(t,e){return Zke.isFunction(e)?nQ.mergeMap(t,e,1):nQ.mergeMap(t,1)}QT.concatMap=Xke});var aQ=h(KT=>{"use strict";Object.defineProperty(KT,"__esModule",{value:!0});KT.concatMapTo=void 0;var iQ=xw(),Yke=Xe();function $ke(t,e){return Yke.isFunction(e)?iQ.concatMap(function(){return t},e):iQ.concatMap(function(){return t})}KT.concatMapTo=$ke});var oQ=h(Ws=>{"use strict";var jke=Ws&&Ws.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},eIe=Ws&&Ws.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.concat=void 0;var tIe=$(),rIe=yT(),nIe=fn(),iIe=mo();function aIe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=nIe.popScheduler(t);return tIe.operate(function(n,i){rIe.concatAll()(iIe.from(eIe([n],jke(t)),r)).subscribe(i)})}Ws.concat=aIe});var sQ=h(Gs=>{"use strict";var oIe=Gs&&Gs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},sIe=Gs&&Gs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.concatWith=void 0;var uIe=oQ();function lIe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uIe.concat.apply(void 0,sIe([],oIe(t)))}Gs.concatWith=lIe});var uQ=h(ZT=>{"use strict";Object.defineProperty(ZT,"__esModule",{value:!0});ZT.fromSubscribable=void 0;var cIe=$e();function dIe(t){return new cIe.Observable(function(e){return t.subscribe(e)})}ZT.fromSubscribable=dIe});var YT=h(XT=>{"use strict";Object.defineProperty(XT,"__esModule",{value:!0});XT.connect=void 0;var fIe=pr(),hIe=Ce(),pIe=$(),mIe=uQ(),gIe={connector:function(){return new fIe.Subject}};function yIe(t,e){e===void 0&&(e=gIe);var r=e.connector;return pIe.operate(function(n,i){var a=r();hIe.innerFrom(t(mIe.fromSubscribable(a))).subscribe(i),i.add(n.subscribe(a))})}XT.connect=yIe});var lQ=h($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});$T.count=void 0;var vIe=jp();function bIe(t){return vIe.reduce(function(e,r,n){return!t||t(r,n)?e+1:e},0)}$T.count=bIe});var dQ=h(jT=>{"use strict";Object.defineProperty(jT,"__esModule",{value:!0});jT.debounce=void 0;var SIe=$(),_Ie=fr(),cQ=se(),EIe=Ce();function TIe(t){return SIe.operate(function(e,r){var n=!1,i=null,a=null,o=function(){if(a?.unsubscribe(),a=null,n){n=!1;var s=i;i=null,r.next(s)}};e.subscribe(cQ.createOperatorSubscriber(r,function(s){a?.unsubscribe(),n=!0,i=s,a=cQ.createOperatorSubscriber(r,o,_Ie.noop),EIe.innerFrom(t(s)).subscribe(a)},function(){o(),r.complete()},void 0,function(){i=a=null}))})}jT.debounce=TIe});var fQ=h(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});eA.debounceTime=void 0;var AIe=dn(),CIe=$(),kIe=se();function IIe(t,e){return e===void 0&&(e=AIe.asyncScheduler),CIe.operate(function(r,n){var i=null,a=null,o=null,s=function(){if(i){i.unsubscribe(),i=null;var l=a;a=null,n.next(l)}};function u(){var l=o+t,c=e.now();if(c<l){i=this.schedule(void 0,l-c),n.add(i);return}s()}r.subscribe(kIe.createOperatorSubscriber(n,function(l){a=l,o=e.now(),i||(i=e.schedule(u,t),n.add(i))},function(){s(),n.complete()},void 0,function(){a=i=null}))})}eA.debounceTime=IIe});var T0=h(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});tA.defaultIfEmpty=void 0;var OIe=$(),NIe=se();function RIe(t){return OIe.operate(function(e,r){var n=!1;e.subscribe(NIe.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}tA.defaultIfEmpty=RIe});var A0=h(rA=>{"use strict";Object.defineProperty(rA,"__esModule",{value:!0});rA.take=void 0;var wIe=Xi(),PIe=$(),xIe=se();function BIe(t){return t<=0?function(){return wIe.EMPTY}:PIe.operate(function(e,r){var n=0;e.subscribe(xIe.createOperatorSubscriber(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}rA.take=BIe});var Bw=h(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});nA.ignoreElements=void 0;var DIe=$(),MIe=se(),LIe=fr();function FIe(){return DIe.operate(function(t,e){t.subscribe(MIe.createOperatorSubscriber(e,LIe.noop))})}nA.ignoreElements=FIe});var Dw=h(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});iA.mapTo=void 0;var qIe=Ds();function UIe(t){return qIe.map(function(){return t})}iA.mapTo=UIe});var Mw=h(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0});aA.delayWhen=void 0;var VIe=_0(),hQ=A0(),JIe=Bw(),WIe=Dw(),GIe=yo(),HIe=Ce();function pQ(t,e){return e?function(r){return VIe.concat(e.pipe(hQ.take(1),JIe.ignoreElements()),r.pipe(pQ(t)))}:GIe.mergeMap(function(r,n){return HIe.innerFrom(t(r,n)).pipe(hQ.take(1),WIe.mapTo(r))})}aA.delayWhen=pQ});var mQ=h(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});oA.delay=void 0;var zIe=dn(),QIe=Mw(),KIe=qs();function ZIe(t,e){e===void 0&&(e=zIe.asyncScheduler);var r=KIe.timer(t,e);return QIe.delayWhen(function(){return r})}oA.delay=ZIe});var gQ=h(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.dematerialize=void 0;var XIe=Z1(),YIe=$(),$Ie=se();function jIe(){return YIe.operate(function(t,e){t.subscribe($Ie.createOperatorSubscriber(e,function(r){return XIe.observeNotification(r,e)}))})}sA.dematerialize=jIe});var vQ=h(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});uA.distinct=void 0;var eOe=$(),yQ=se(),tOe=fr(),rOe=Ce();function nOe(t,e){return eOe.operate(function(r,n){var i=new Set;r.subscribe(yQ.createOperatorSubscriber(n,function(a){var o=t?t(a):a;i.has(o)||(i.add(o),n.next(a))})),e&&rOe.innerFrom(e).subscribe(yQ.createOperatorSubscriber(n,function(){return i.clear()},tOe.noop))})}uA.distinct=nOe});var Lw=h(lA=>{"use strict";Object.defineProperty(lA,"__esModule",{value:!0});lA.distinctUntilChanged=void 0;var iOe=hr(),aOe=$(),oOe=se();function sOe(t,e){return e===void 0&&(e=iOe.identity),t=t??uOe,aOe.operate(function(r,n){var i,a=!0;r.subscribe(oOe.createOperatorSubscriber(n,function(o){var s=e(o);(a||!t(i,s))&&(a=!1,i=s,n.next(o))}))})}lA.distinctUntilChanged=sOe;function uOe(t,e){return t===e}});var bQ=h(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});cA.distinctUntilKeyChanged=void 0;var lOe=Lw();function cOe(t,e){return lOe.distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}cA.distinctUntilKeyChanged=cOe});var C0=h(dA=>{"use strict";Object.defineProperty(dA,"__esModule",{value:!0});dA.throwIfEmpty=void 0;var dOe=Bs(),fOe=$(),hOe=se();function pOe(t){return t===void 0&&(t=mOe),fOe.operate(function(e,r){var n=!1;e.subscribe(hOe.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}dA.throwIfEmpty=pOe;function mOe(){return new dOe.EmptyError}});var _Q=h(fA=>{"use strict";Object.defineProperty(fA,"__esModule",{value:!0});fA.elementAt=void 0;var SQ=pw(),gOe=yl(),yOe=C0(),vOe=T0(),bOe=A0();function SOe(t,e){if(t<0)throw new SQ.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(gOe.filter(function(i,a){return a===t}),bOe.take(1),r?vOe.defaultIfEmpty(e):yOe.throwIfEmpty(function(){return new SQ.ArgumentOutOfRangeError}))}}fA.elementAt=SOe});var EQ=h(Hs=>{"use strict";var _Oe=Hs&&Hs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},EOe=Hs&&Hs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.endWith=void 0;var TOe=_0(),AOe=Q1();function COe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return TOe.concat(r,AOe.of.apply(void 0,EOe([],_Oe(t))))}}Hs.endWith=COe});var TQ=h(hA=>{"use strict";Object.defineProperty(hA,"__esModule",{value:!0});hA.every=void 0;var kOe=$(),IOe=se();function OOe(t,e){return kOe.operate(function(r,n){var i=0;r.subscribe(IOe.createOperatorSubscriber(n,function(a){t.call(e,a,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}hA.every=OOe});var Fw=h(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});pA.exhaustMap=void 0;var NOe=Ds(),AQ=Ce(),ROe=$(),CQ=se();function kQ(t,e){return e?function(r){return r.pipe(kQ(function(n,i){return AQ.innerFrom(t(n,i)).pipe(NOe.map(function(a,o){return e(n,a,i,o)}))}))}:ROe.operate(function(r,n){var i=0,a=null,o=!1;r.subscribe(CQ.createOperatorSubscriber(n,function(s){a||(a=CQ.createOperatorSubscriber(n,void 0,function(){a=null,o&&n.complete()}),AQ.innerFrom(t(s,i++)).subscribe(a))},function(){o=!0,!a&&n.complete()}))})}pA.exhaustMap=kQ});var qw=h(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0});mA.exhaustAll=void 0;var wOe=Fw(),POe=hr();function xOe(){return wOe.exhaustMap(POe.identity)}mA.exhaustAll=xOe});var IQ=h(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0});gA.exhaust=void 0;var BOe=qw();gA.exhaust=BOe.exhaustAll});var OQ=h(yA=>{"use strict";Object.defineProperty(yA,"__esModule",{value:!0});yA.expand=void 0;var DOe=$(),MOe=hT();function LOe(t,e,r){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,DOe.operate(function(n,i){return MOe.mergeInternals(n,i,t,e,void 0,!0,r)})}yA.expand=LOe});var NQ=h(vA=>{"use strict";Object.defineProperty(vA,"__esModule",{value:!0});vA.finalize=void 0;var FOe=$();function qOe(t){return FOe.operate(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}vA.finalize=qOe});var Uw=h(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.createFind=em.find=void 0;var UOe=$(),VOe=se();function JOe(t,e){return UOe.operate(RQ(t,e,"value"))}em.find=JOe;function RQ(t,e,r){var n=r==="index";return function(i,a){var o=0;i.subscribe(VOe.createOperatorSubscriber(a,function(s){var u=o++;t.call(e,s,u,i)&&(a.next(n?u:s),a.complete())},function(){a.next(n?-1:void 0),a.complete()}))}}em.createFind=RQ});var wQ=h(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0});bA.findIndex=void 0;var WOe=$(),GOe=Uw();function HOe(t,e){return WOe.operate(GOe.createFind(t,e,"index"))}bA.findIndex=HOe});var PQ=h(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0});SA.first=void 0;var zOe=Bs(),QOe=yl(),KOe=A0(),ZOe=T0(),XOe=C0(),YOe=hr();function $Oe(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?QOe.filter(function(i,a){return t(i,a,n)}):YOe.identity,KOe.take(1),r?ZOe.defaultIfEmpty(e):XOe.throwIfEmpty(function(){return new zOe.EmptyError}))}}SA.first=$Oe});var BQ=h(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});_A.groupBy=void 0;var jOe=$e(),eNe=Ce(),tNe=pr(),rNe=$(),xQ=se();function nNe(t,e,r,n){return rNe.operate(function(i,a){var o;!e||typeof e=="function"?o=e:(r=e.duration,o=e.element,n=e.connector);var s=new Map,u=function(g){s.forEach(g),g(a)},l=function(g){return u(function(m){return m.error(g)})},c=0,d=!1,f=new xQ.OperatorSubscriber(a,function(g){try{var m=t(g),b=s.get(m);if(!b){s.set(m,b=n?n():new tNe.Subject);var v=p(m,b);if(a.next(v),r){var E=xQ.createOperatorSubscriber(b,function(){b.complete(),E?.unsubscribe()},void 0,void 0,function(){return s.delete(m)});f.add(eNe.innerFrom(r(v)).subscribe(E))}}b.next(o?o(g):g)}catch(k){l(k)}},function(){return u(function(g){return g.complete()})},l,function(){return s.clear()},function(){return d=!0,c===0});i.subscribe(f);function p(g,m){var b=new jOe.Observable(function(v){c++;var E=m.subscribe(v);return function(){E.unsubscribe(),--c===0&&d&&f.unsubscribe()}});return b.key=g,b}})}_A.groupBy=nNe});var DQ=h(EA=>{"use strict";Object.defineProperty(EA,"__esModule",{value:!0});EA.isEmpty=void 0;var iNe=$(),aNe=se();function oNe(){return iNe.operate(function(t,e){t.subscribe(aNe.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}EA.isEmpty=oNe});var Vw=h(tm=>{"use strict";var sNe=tm&&tm.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(tm,"__esModule",{value:!0});tm.takeLast=void 0;var uNe=Xi(),lNe=$(),cNe=se();function dNe(t){return t<=0?function(){return uNe.EMPTY}:lNe.operate(function(e,r){var n=[];e.subscribe(cNe.createOperatorSubscriber(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,a;try{for(var o=sNe(n),s=o.next();!s.done;s=o.next()){var u=s.value;r.next(u)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}tm.takeLast=dNe});var MQ=h(TA=>{"use strict";Object.defineProperty(TA,"__esModule",{value:!0});TA.last=void 0;var fNe=Bs(),hNe=yl(),pNe=Vw(),mNe=C0(),gNe=T0(),yNe=hr();function vNe(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?hNe.filter(function(i,a){return t(i,a,n)}):yNe.identity,pNe.takeLast(1),r?gNe.defaultIfEmpty(e):mNe.throwIfEmpty(function(){return new fNe.EmptyError}))}}TA.last=vNe});var LQ=h(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0});AA.materialize=void 0;var Jw=Z1(),bNe=$(),SNe=se();function _Ne(){return bNe.operate(function(t,e){t.subscribe(SNe.createOperatorSubscriber(e,function(r){e.next(Jw.Notification.createNext(r))},function(){e.next(Jw.Notification.createComplete()),e.complete()},function(r){e.next(Jw.Notification.createError(r)),e.complete()}))})}AA.materialize=_Ne});var FQ=h(CA=>{"use strict";Object.defineProperty(CA,"__esModule",{value:!0});CA.max=void 0;var ENe=jp(),TNe=Xe();function ANe(t){return ENe.reduce(TNe.isFunction(t)?function(e,r){return t(e,r)>0?e:r}:function(e,r){return e>r?e:r})}CA.max=ANe});var qQ=h(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.flatMap=void 0;var CNe=yo();kA.flatMap=CNe.mergeMap});var VQ=h(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0});IA.mergeMapTo=void 0;var UQ=yo(),kNe=Xe();function INe(t,e,r){return r===void 0&&(r=1/0),kNe.isFunction(e)?UQ.mergeMap(function(){return t},e,r):(typeof e=="number"&&(r=e),UQ.mergeMap(function(){return t},r))}IA.mergeMapTo=INe});var JQ=h(OA=>{"use strict";Object.defineProperty(OA,"__esModule",{value:!0});OA.mergeScan=void 0;var ONe=$(),NNe=hT();function RNe(t,e,r){return r===void 0&&(r=1/0),ONe.operate(function(n,i){var a=e;return NNe.mergeInternals(n,i,function(o,s){return t(a,o,s)},r,function(o){a=o},!1,void 0,function(){return a=null})})}OA.mergeScan=RNe});var GQ=h(zs=>{"use strict";var wNe=zs&&zs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},PNe=zs&&zs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(zs,"__esModule",{value:!0});zs.merge=void 0;var xNe=$(),BNe=gl(),DNe=S0(),WQ=fn(),MNe=mo();function LNe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=WQ.popScheduler(t),n=WQ.popNumber(t,1/0);return t=BNe.argsOrArgArray(t),xNe.operate(function(i,a){DNe.mergeAll(n)(MNe.from(PNe([i],wNe(t)),r)).subscribe(a)})}zs.merge=LNe});var HQ=h(Qs=>{"use strict";var FNe=Qs&&Qs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},qNe=Qs&&Qs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.mergeWith=void 0;var UNe=GQ();function VNe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return UNe.merge.apply(void 0,qNe([],FNe(t)))}Qs.mergeWith=VNe});var zQ=h(NA=>{"use strict";Object.defineProperty(NA,"__esModule",{value:!0});NA.min=void 0;var JNe=jp(),WNe=Xe();function GNe(t){return JNe.reduce(WNe.isFunction(t)?function(e,r){return t(e,r)<0?e:r}:function(e,r){return e<r?e:r})}NA.min=GNe});var wA=h(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});RA.multicast=void 0;var HNe=p0(),QQ=Xe(),zNe=YT();function QNe(t,e){var r=QQ.isFunction(t)?t:function(){return t};return QQ.isFunction(e)?zNe.connect(e,{connector:r}):function(n){return new HNe.ConnectableObservable(n,r)}}RA.multicast=QNe});var ZQ=h(xa=>{"use strict";var KNe=xa&&xa.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},ZNe=xa&&xa.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(xa,"__esModule",{value:!0});xa.onErrorResumeNext=xa.onErrorResumeNextWith=void 0;var XNe=gl(),YNe=Aw();function KQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=XNe.argsOrArgArray(t);return function(n){return YNe.onErrorResumeNext.apply(void 0,ZNe([n],KNe(r)))}}xa.onErrorResumeNextWith=KQ;xa.onErrorResumeNext=KQ});var XQ=h(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});PA.pairwise=void 0;var $Ne=$(),jNe=se();function e2e(){return $Ne.operate(function(t,e){var r,n=!1;t.subscribe(jNe.createOperatorSubscriber(e,function(i){var a=r;r=i,n&&e.next([a,i]),n=!0}))})}PA.pairwise=e2e});var YQ=h(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.pluck=void 0;var t2e=Ds();function r2e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return t2e.map(function(n){for(var i=n,a=0;a<r;a++){var o=i?.[t[a]];if(typeof o<"u")i=o;else return}return i})}xA.pluck=r2e});var $Q=h(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0});BA.publish=void 0;var n2e=pr(),i2e=wA(),a2e=YT();function o2e(t){return t?function(e){return a2e.connect(t)(e)}:function(e){return i2e.multicast(new n2e.Subject)(e)}}BA.publish=o2e});var jQ=h(DA=>{"use strict";Object.defineProperty(DA,"__esModule",{value:!0});DA.publishBehavior=void 0;var s2e=Y3(),u2e=p0();function l2e(t){return function(e){var r=new s2e.BehaviorSubject(t);return new u2e.ConnectableObservable(e,function(){return r})}}DA.publishBehavior=l2e});var eK=h(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0});MA.publishLast=void 0;var c2e=T1(),d2e=p0();function f2e(){return function(t){var e=new c2e.AsyncSubject;return new d2e.ConnectableObservable(t,function(){return e})}}MA.publishLast=f2e});var rK=h(LA=>{"use strict";Object.defineProperty(LA,"__esModule",{value:!0});LA.publishReplay=void 0;var h2e=E1(),p2e=wA(),tK=Xe();function m2e(t,e,r,n){r&&!tK.isFunction(r)&&(n=r);var i=tK.isFunction(r)?r:void 0;return function(a){return p2e.multicast(new h2e.ReplaySubject(t,e,n),i)(a)}}LA.publishReplay=m2e});var nK=h(Ks=>{"use strict";var g2e=Ks&&Ks.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},y2e=Ks&&Ks.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.raceWith=void 0;var v2e=Cw(),b2e=$(),S2e=hr();function _2e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?b2e.operate(function(r,n){v2e.raceInit(y2e([r],g2e(t)))(n)}):S2e.identity}Ks.raceWith=_2e});var aK=h(FA=>{"use strict";Object.defineProperty(FA,"__esModule",{value:!0});FA.repeat=void 0;var E2e=Xi(),T2e=$(),iK=se(),A2e=Ce(),C2e=qs();function k2e(t){var e,r=1/0,n;return t!=null&&(typeof t=="object"?(e=t.count,r=e===void 0?1/0:e,n=t.delay):r=t),r<=0?function(){return E2e.EMPTY}:T2e.operate(function(i,a){var o=0,s,u=function(){if(s?.unsubscribe(),s=null,n!=null){var c=typeof n=="number"?C2e.timer(n):A2e.innerFrom(n(o)),d=iK.createOperatorSubscriber(a,function(){d.unsubscribe(),l()});c.subscribe(d)}else l()},l=function(){var c=!1;s=i.subscribe(iK.createOperatorSubscriber(a,void 0,function(){++o<r?s?u():c=!0:a.complete()})),c&&u()};l()})}FA.repeat=k2e});var sK=h(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});qA.repeatWhen=void 0;var I2e=Ce(),O2e=pr(),N2e=$(),oK=se();function R2e(t){return N2e.operate(function(e,r){var n,i=!1,a,o=!1,s=!1,u=function(){return s&&o&&(r.complete(),!0)},l=function(){return a||(a=new O2e.Subject,I2e.innerFrom(t(a)).subscribe(oK.createOperatorSubscriber(r,function(){n?c():i=!0},function(){o=!0,u()}))),a},c=function(){s=!1,n=e.subscribe(oK.createOperatorSubscriber(r,void 0,function(){s=!0,!u()&&l().next()})),i&&(n.unsubscribe(),n=null,i=!1,c())};c()})}qA.repeatWhen=R2e});var lK=h(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.retry=void 0;var w2e=$(),uK=se(),P2e=hr(),x2e=qs(),B2e=Ce();function D2e(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var r=e.count,n=r===void 0?1/0:r,i=e.delay,a=e.resetOnSuccess,o=a===void 0?!1:a;return n<=0?P2e.identity:w2e.operate(function(s,u){var l=0,c,d=function(){var f=!1;c=s.subscribe(uK.createOperatorSubscriber(u,function(p){o&&(l=0),u.next(p)},void 0,function(p){if(l++<n){var g=function(){c?(c.unsubscribe(),c=null,d()):f=!0};if(i!=null){var m=typeof i=="number"?x2e.timer(i):B2e.innerFrom(i(p,l)),b=uK.createOperatorSubscriber(u,function(){b.unsubscribe(),g()},function(){u.complete()});m.subscribe(b)}else g()}else u.error(p)})),f&&(c.unsubscribe(),c=null,d())};d()})}UA.retry=D2e});var dK=h(VA=>{"use strict";Object.defineProperty(VA,"__esModule",{value:!0});VA.retryWhen=void 0;var M2e=Ce(),L2e=pr(),F2e=$(),cK=se();function q2e(t){return F2e.operate(function(e,r){var n,i=!1,a,o=function(){n=e.subscribe(cK.createOperatorSubscriber(r,void 0,void 0,function(s){a||(a=new L2e.Subject,M2e.innerFrom(t(a)).subscribe(cK.createOperatorSubscriber(r,function(){return n?o():i=!0}))),a&&a.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,o())};o()})}VA.retryWhen=q2e});var Ww=h(JA=>{"use strict";Object.defineProperty(JA,"__esModule",{value:!0});JA.sample=void 0;var U2e=Ce(),V2e=$(),J2e=fr(),fK=se();function W2e(t){return V2e.operate(function(e,r){var n=!1,i=null;e.subscribe(fK.createOperatorSubscriber(r,function(a){n=!0,i=a})),U2e.innerFrom(t).subscribe(fK.createOperatorSubscriber(r,function(){if(n){n=!1;var a=i;i=null,r.next(a)}},J2e.noop))})}JA.sample=W2e});var hK=h(WA=>{"use strict";Object.defineProperty(WA,"__esModule",{value:!0});WA.sampleTime=void 0;var G2e=dn(),H2e=Ww(),z2e=Ew();function Q2e(t,e){return e===void 0&&(e=G2e.asyncScheduler),H2e.sample(z2e.interval(t,e))}WA.sampleTime=Q2e});var pK=h(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0});GA.scan=void 0;var K2e=$(),Z2e=Nw();function X2e(t,e){return K2e.operate(Z2e.scanInternals(t,e,arguments.length>=2,!0))}GA.scan=X2e});var gK=h(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0});HA.sequenceEqual=void 0;var Y2e=$(),$2e=se(),j2e=Ce();function eRe(t,e){return e===void 0&&(e=function(r,n){return r===n}),Y2e.operate(function(r,n){var i=mK(),a=mK(),o=function(u){n.next(u),n.complete()},s=function(u,l){var c=$2e.createOperatorSubscriber(n,function(d){var f=l.buffer,p=l.complete;f.length===0?p?o(!1):u.buffer.push(d):!e(d,f.shift())&&o(!1)},function(){u.complete=!0;var d=l.complete,f=l.buffer;d&&o(f.length===0),c?.unsubscribe()});return c};r.subscribe(s(i,a)),j2e.innerFrom(t).subscribe(s(a,i))})}HA.sequenceEqual=eRe;function mK(){return{buffer:[],complete:!1}}});var Hw=h(Zs=>{"use strict";var tRe=Zs&&Zs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},rRe=Zs&&Zs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.share=void 0;var yK=Ce(),nRe=pr(),vK=Ap(),iRe=$();function aRe(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new nRe.Subject}:e,n=t.resetOnError,i=n===void 0?!0:n,a=t.resetOnComplete,o=a===void 0?!0:a,s=t.resetOnRefCountZero,u=s===void 0?!0:s;return function(l){var c,d,f,p=0,g=!1,m=!1,b=function(){d?.unsubscribe(),d=void 0},v=function(){b(),c=f=void 0,g=m=!1},E=function(){var k=c;v(),k?.unsubscribe()};return iRe.operate(function(k,O){p++,!m&&!g&&b();var M=f=f??r();O.add(function(){p--,p===0&&!m&&!g&&(d=Gw(E,u))}),M.subscribe(O),!c&&p>0&&(c=new vK.SafeSubscriber({next:function(P){return M.next(P)},error:function(P){m=!0,b(),d=Gw(v,i,P),M.error(P)},complete:function(){g=!0,b(),d=Gw(v,o),M.complete()}}),yK.innerFrom(k).subscribe(c))})(l)}}Zs.share=aRe;function Gw(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var i=new vK.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return yK.innerFrom(e.apply(void 0,rRe([],tRe(r)))).subscribe(i)}}});var bK=h(zA=>{"use strict";Object.defineProperty(zA,"__esModule",{value:!0});zA.shareReplay=void 0;var oRe=E1(),sRe=Hw();function uRe(t,e,r){var n,i,a,o,s=!1;return t&&typeof t=="object"?(n=t.bufferSize,o=n===void 0?1/0:n,i=t.windowTime,e=i===void 0?1/0:i,a=t.refCount,s=a===void 0?!1:a,r=t.scheduler):o=t??1/0,sRe.share({connector:function(){return new oRe.ReplaySubject(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}zA.shareReplay=uRe});var SK=h(QA=>{"use strict";Object.defineProperty(QA,"__esModule",{value:!0});QA.single=void 0;var lRe=Bs(),cRe=gw(),dRe=mw(),fRe=$(),hRe=se();function pRe(t){return fRe.operate(function(e,r){var n=!1,i,a=!1,o=0;e.subscribe(hRe.createOperatorSubscriber(r,function(s){a=!0,(!t||t(s,o++,e))&&(n&&r.error(new cRe.SequenceError("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(a?new dRe.NotFoundError("No matching values"):new lRe.EmptyError)}))})}QA.single=pRe});var _K=h(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.skip=void 0;var mRe=yl();function gRe(t){return mRe.filter(function(e,r){return t<=r})}KA.skip=gRe});var EK=h(ZA=>{"use strict";Object.defineProperty(ZA,"__esModule",{value:!0});ZA.skipLast=void 0;var yRe=hr(),vRe=$(),bRe=se();function SRe(t){return t<=0?yRe.identity:vRe.operate(function(e,r){var n=new Array(t),i=0;return e.subscribe(bRe.createOperatorSubscriber(r,function(a){var o=i++;if(o<t)n[o]=a;else{var s=o%t,u=n[s];n[s]=a,r.next(u)}})),function(){n=null}})}ZA.skipLast=SRe});var AK=h(XA=>{"use strict";Object.defineProperty(XA,"__esModule",{value:!0});XA.skipUntil=void 0;var _Re=$(),TK=se(),ERe=Ce(),TRe=fr();function ARe(t){return _Re.operate(function(e,r){var n=!1,i=TK.createOperatorSubscriber(r,function(){i?.unsubscribe(),n=!0},TRe.noop);ERe.innerFrom(t).subscribe(i),e.subscribe(TK.createOperatorSubscriber(r,function(a){return n&&r.next(a)}))})}XA.skipUntil=ARe});var CK=h(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0});YA.skipWhile=void 0;var CRe=$(),kRe=se();function IRe(t){return CRe.operate(function(e,r){var n=!1,i=0;e.subscribe(kRe.createOperatorSubscriber(r,function(a){return(n||(n=!t(a,i++)))&&r.next(a)}))})}YA.skipWhile=IRe});var IK=h($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0});$A.startWith=void 0;var kK=_0(),ORe=fn(),NRe=$();function RRe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ORe.popScheduler(t);return NRe.operate(function(n,i){(r?kK.concat(t,n,r):kK.concat(t,n)).subscribe(i)})}$A.startWith=RRe});var k0=h(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0});jA.switchMap=void 0;var wRe=Ce(),PRe=$(),OK=se();function xRe(t,e){return PRe.operate(function(r,n){var i=null,a=0,o=!1,s=function(){return o&&!i&&n.complete()};r.subscribe(OK.createOperatorSubscriber(n,function(u){i?.unsubscribe();var l=0,c=a++;wRe.innerFrom(t(u,c)).subscribe(i=OK.createOperatorSubscriber(n,function(d){return n.next(e?e(u,d,c,l++):d)},function(){i=null,s()}))},function(){o=!0,s()}))})}jA.switchMap=xRe});var NK=h(eC=>{"use strict";Object.defineProperty(eC,"__esModule",{value:!0});eC.switchAll=void 0;var BRe=k0(),DRe=hr();function MRe(){return BRe.switchMap(DRe.identity)}eC.switchAll=MRe});var wK=h(tC=>{"use strict";Object.defineProperty(tC,"__esModule",{value:!0});tC.switchMapTo=void 0;var RK=k0(),LRe=Xe();function FRe(t,e){return LRe.isFunction(e)?RK.switchMap(function(){return t},e):RK.switchMap(function(){return t})}tC.switchMapTo=FRe});var PK=h(rC=>{"use strict";Object.defineProperty(rC,"__esModule",{value:!0});rC.switchScan=void 0;var qRe=k0(),URe=$();function VRe(t,e){return URe.operate(function(r,n){var i=e;return qRe.switchMap(function(a,o){return t(i,a,o)},function(a,o){return i=o,o})(r).subscribe(n),function(){i=null}})}rC.switchScan=VRe});var xK=h(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});nC.takeUntil=void 0;var JRe=$(),WRe=se(),GRe=Ce(),HRe=fr();function zRe(t){return JRe.operate(function(e,r){GRe.innerFrom(t).subscribe(WRe.createOperatorSubscriber(r,function(){return r.complete()},HRe.noop)),!r.closed&&e.subscribe(r)})}nC.takeUntil=zRe});var BK=h(iC=>{"use strict";Object.defineProperty(iC,"__esModule",{value:!0});iC.takeWhile=void 0;var QRe=$(),KRe=se();function ZRe(t,e){return e===void 0&&(e=!1),QRe.operate(function(r,n){var i=0;r.subscribe(KRe.createOperatorSubscriber(n,function(a){var o=t(a,i++);(o||e)&&n.next(a),!o&&n.complete()}))})}iC.takeWhile=ZRe});var DK=h(aC=>{"use strict";Object.defineProperty(aC,"__esModule",{value:!0});aC.tap=void 0;var XRe=Xe(),YRe=$(),$Re=se(),jRe=hr();function e3e(t,e,r){var n=XRe.isFunction(t)||e||r?{next:t,error:e,complete:r}:t;return n?YRe.operate(function(i,a){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var s=!0;i.subscribe($Re.createOperatorSubscriber(a,function(u){var l;(l=n.next)===null||l===void 0||l.call(n,u),a.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),a.complete()},function(u){var l;s=!1,(l=n.error)===null||l===void 0||l.call(n,u),a.error(u)},function(){var u,l;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):jRe.identity}aC.tap=e3e});var zw=h(oC=>{"use strict";Object.defineProperty(oC,"__esModule",{value:!0});oC.throttle=void 0;var t3e=$(),MK=se(),r3e=Ce();function n3e(t,e){return t3e.operate(function(r,n){var i=e??{},a=i.leading,o=a===void 0?!0:a,s=i.trailing,u=s===void 0?!1:s,l=!1,c=null,d=null,f=!1,p=function(){d?.unsubscribe(),d=null,u&&(b(),f&&n.complete())},g=function(){d=null,f&&n.complete()},m=function(v){return d=r3e.innerFrom(t(v)).subscribe(MK.createOperatorSubscriber(n,p,g))},b=function(){if(l){l=!1;var v=c;c=null,n.next(v),!f&&m(v)}};r.subscribe(MK.createOperatorSubscriber(n,function(v){l=!0,c=v,!(d&&!d.closed)&&(o?b():m(v))},function(){f=!0,!(u&&l&&d&&!d.closed)&&n.complete()}))})}oC.throttle=n3e});var LK=h(sC=>{"use strict";Object.defineProperty(sC,"__esModule",{value:!0});sC.throttleTime=void 0;var i3e=dn(),a3e=zw(),o3e=qs();function s3e(t,e,r){e===void 0&&(e=i3e.asyncScheduler);var n=o3e.timer(t,e);return a3e.throttle(function(){return n},r)}sC.throttleTime=s3e});var qK=h(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.TimeInterval=rm.timeInterval=void 0;var u3e=dn(),l3e=$(),c3e=se();function d3e(t){return t===void 0&&(t=u3e.asyncScheduler),l3e.operate(function(e,r){var n=t.now();e.subscribe(c3e.createOperatorSubscriber(r,function(i){var a=t.now(),o=a-n;n=a,r.next(new FK(i,o))}))})}rm.timeInterval=d3e;var FK=function(){function t(e,r){this.value=e,this.interval=r}return t}();rm.TimeInterval=FK});var UK=h(uC=>{"use strict";Object.defineProperty(uC,"__esModule",{value:!0});uC.timeoutWith=void 0;var f3e=dn(),h3e=iT(),p3e=aT();function m3e(t,e,r){var n,i,a;if(r=r??f3e.async,h3e.isValidDate(t)?n=t:typeof t=="number"&&(i=t),e)a=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return p3e.timeout({first:n,each:i,scheduler:r,with:a})}uC.timeoutWith=m3e});var VK=h(lC=>{"use strict";Object.defineProperty(lC,"__esModule",{value:!0});lC.timestamp=void 0;var g3e=_1(),y3e=Ds();function v3e(t){return t===void 0&&(t=g3e.dateTimestampProvider),y3e.map(function(e){return{value:e,timestamp:t.now()}})}lC.timestamp=v3e});var GK=h(cC=>{"use strict";Object.defineProperty(cC,"__esModule",{value:!0});cC.window=void 0;var JK=pr(),b3e=$(),WK=se(),S3e=fr(),_3e=Ce();function E3e(t){return b3e.operate(function(e,r){var n=new JK.Subject;r.next(n.asObservable());var i=function(a){n.error(a),r.error(a)};return e.subscribe(WK.createOperatorSubscriber(r,function(a){return n?.next(a)},function(){n.complete(),r.complete()},i)),_3e.innerFrom(t).subscribe(WK.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new JK.Subject)},S3e.noop,i)),function(){n?.unsubscribe(),n=null}})}cC.window=E3e});var zK=h(nm=>{"use strict";var T3e=nm&&nm.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(nm,"__esModule",{value:!0});nm.windowCount=void 0;var HK=pr(),A3e=$(),C3e=se();function k3e(t,e){e===void 0&&(e=0);var r=e>0?e:t;return A3e.operate(function(n,i){var a=[new HK.Subject],o=[],s=0;i.next(a[0].asObservable()),n.subscribe(C3e.createOperatorSubscriber(i,function(u){var l,c;try{for(var d=T3e(a),f=d.next();!f.done;f=d.next()){var p=f.value;p.next(u)}}catch(b){l={error:b}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}var g=s-t+1;if(g>=0&&g%r===0&&a.shift().complete(),++s%r===0){var m=new HK.Subject;a.push(m),i.next(m.asObservable())}},function(){for(;a.length>0;)a.shift().complete();i.complete()},function(u){for(;a.length>0;)a.shift().error(u);i.error(u)},function(){o=null,a=null}))})}nm.windowCount=k3e});var KK=h(dC=>{"use strict";Object.defineProperty(dC,"__esModule",{value:!0});dC.windowTime=void 0;var I3e=pr(),O3e=dn(),N3e=Pn(),R3e=$(),w3e=se(),P3e=ho(),x3e=fn(),QK=po();function B3e(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=(e=x3e.popScheduler(n))!==null&&e!==void 0?e:O3e.asyncScheduler,o=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return R3e.operate(function(u,l){var c=[],d=!1,f=function(b){var v=b.window,E=b.subs;v.complete(),E.unsubscribe(),P3e.arrRemove(c,b),d&&p()},p=function(){if(c){var b=new N3e.Subscription;l.add(b);var v=new I3e.Subject,E={window:v,subs:b,seen:0};c.push(E),l.next(v.asObservable()),QK.executeSchedule(b,a,function(){return f(E)},t)}};o!==null&&o>=0?QK.executeSchedule(l,a,p,o,!0):d=!0,p();var g=function(b){return c.slice().forEach(b)},m=function(b){g(function(v){var E=v.window;return b(E)}),b(l),l.unsubscribe()};return u.subscribe(w3e.createOperatorSubscriber(l,function(b){g(function(v){v.window.next(b),s<=++v.seen&&f(v)})},function(){return m(function(b){return b.complete()})},function(b){return m(function(v){return v.error(b)})})),function(){c=null}})}dC.windowTime=B3e});var YK=h(im=>{"use strict";var D3e=im&&im.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(im,"__esModule",{value:!0});im.windowToggle=void 0;var M3e=pr(),L3e=Pn(),F3e=$(),ZK=Ce(),Qw=se(),XK=fr(),q3e=ho();function U3e(t,e){return F3e.operate(function(r,n){var i=[],a=function(o){for(;0<i.length;)i.shift().error(o);n.error(o)};ZK.innerFrom(t).subscribe(Qw.createOperatorSubscriber(n,function(o){var s=new M3e.Subject;i.push(s);var u=new L3e.Subscription,l=function(){q3e.arrRemove(i,s),s.complete(),u.unsubscribe()},c;try{c=ZK.innerFrom(e(o))}catch(d){a(d);return}n.next(s.asObservable()),u.add(c.subscribe(Qw.createOperatorSubscriber(n,l,XK.noop,a)))},XK.noop)),r.subscribe(Qw.createOperatorSubscriber(n,function(o){var s,u,l=i.slice();try{for(var c=D3e(l),d=c.next();!d.done;d=c.next()){var f=d.value;f.next(o)}}catch(p){s={error:p}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},a,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}im.windowToggle=U3e});var jK=h(fC=>{"use strict";Object.defineProperty(fC,"__esModule",{value:!0});fC.windowWhen=void 0;var V3e=pr(),J3e=$(),$K=se(),W3e=Ce();function G3e(t){return J3e.operate(function(e,r){var n,i,a=function(s){n.error(s),r.error(s)},o=function(){i?.unsubscribe(),n?.complete(),n=new V3e.Subject,r.next(n.asObservable());var s;try{s=W3e.innerFrom(t())}catch(u){a(u);return}s.subscribe(i=$K.createOperatorSubscriber(r,o,o,a))};o(),e.subscribe($K.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},a,function(){i?.unsubscribe(),n=null}))})}fC.windowWhen=G3e});var nZ=h(Xs=>{"use strict";var eZ=Xs&&Xs.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},tZ=Xs&&Xs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.withLatestFrom=void 0;var H3e=$(),rZ=se(),z3e=Ce(),Q3e=hr(),K3e=fr(),Z3e=fn();function X3e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Z3e.popResultSelector(t);return H3e.operate(function(n,i){for(var a=t.length,o=new Array(a),s=t.map(function(){return!1}),u=!1,l=function(d){z3e.innerFrom(t[d]).subscribe(rZ.createOperatorSubscriber(i,function(f){o[d]=f,!u&&!s[d]&&(s[d]=!0,(u=s.every(Q3e.identity))&&(s=null))},K3e.noop))},c=0;c<a;c++)l(c);n.subscribe(rZ.createOperatorSubscriber(i,function(d){if(u){var f=tZ([d],eZ(o));i.next(r?r.apply(void 0,tZ([],eZ(f))):f)}}))})}Xs.withLatestFrom=X3e});var iZ=h(hC=>{"use strict";Object.defineProperty(hC,"__esModule",{value:!0});hC.zipAll=void 0;var Y3e=DT(),$3e=ww();function j3e(t){return $3e.joinAllInternals(Y3e.zip,t)}hC.zipAll=j3e});var aZ=h(Ys=>{"use strict";var ewe=Ys&&Ys.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},twe=Ys&&Ys.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.zip=void 0;var rwe=DT(),nwe=$();function iwe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nwe.operate(function(r,n){rwe.zip.apply(void 0,twe([r],ewe(t))).subscribe(n)})}Ys.zip=iwe});var oZ=h($s=>{"use strict";var awe=$s&&$s.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},owe=$s&&$s.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty($s,"__esModule",{value:!0});$s.zipWith=void 0;var swe=aZ();function uwe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return swe.zip.apply(void 0,owe([],awe(t)))}$s.zipWith=uwe});var hZ=h(y=>{"use strict";var lwe=y&&y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cwe=y&&y.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lwe(e,t,r)};Object.defineProperty(y,"__esModule",{value:!0});y.interval=y.iif=y.generate=y.fromEventPattern=y.fromEvent=y.from=y.forkJoin=y.empty=y.defer=y.connectable=y.concat=y.combineLatest=y.bindNodeCallback=y.bindCallback=y.UnsubscriptionError=y.TimeoutError=y.SequenceError=y.ObjectUnsubscribedError=y.NotFoundError=y.EmptyError=y.ArgumentOutOfRangeError=y.firstValueFrom=y.lastValueFrom=y.isObservable=y.identity=y.noop=y.pipe=y.NotificationKind=y.Notification=y.Subscriber=y.Subscription=y.Scheduler=y.VirtualAction=y.VirtualTimeScheduler=y.animationFrameScheduler=y.animationFrame=y.queueScheduler=y.queue=y.asyncScheduler=y.async=y.asapScheduler=y.asap=y.AsyncSubject=y.ReplaySubject=y.BehaviorSubject=y.Subject=y.animationFrames=y.observable=y.ConnectableObservable=y.Observable=void 0;y.filter=y.expand=y.exhaustMap=y.exhaustAll=y.exhaust=y.every=y.endWith=y.elementAt=y.distinctUntilKeyChanged=y.distinctUntilChanged=y.distinct=y.dematerialize=y.delayWhen=y.delay=y.defaultIfEmpty=y.debounceTime=y.debounce=y.count=y.connect=y.concatWith=y.concatMapTo=y.concatMap=y.concatAll=y.combineLatestWith=y.combineLatestAll=y.combineAll=y.catchError=y.bufferWhen=y.bufferToggle=y.bufferTime=y.bufferCount=y.buffer=y.auditTime=y.audit=y.config=y.NEVER=y.EMPTY=y.scheduled=y.zip=y.using=y.timer=y.throwError=y.range=y.race=y.partition=y.pairs=y.onErrorResumeNext=y.of=y.never=y.merge=void 0;y.switchMap=y.switchAll=y.subscribeOn=y.startWith=y.skipWhile=y.skipUntil=y.skipLast=y.skip=y.single=y.shareReplay=y.share=y.sequenceEqual=y.scan=y.sampleTime=y.sample=y.refCount=y.retryWhen=y.retry=y.repeatWhen=y.repeat=y.reduce=y.raceWith=y.publishReplay=y.publishLast=y.publishBehavior=y.publish=y.pluck=y.pairwise=y.onErrorResumeNextWith=y.observeOn=y.multicast=y.min=y.mergeWith=y.mergeScan=y.mergeMapTo=y.mergeMap=y.flatMap=y.mergeAll=y.max=y.materialize=y.mapTo=y.map=y.last=y.isEmpty=y.ignoreElements=y.groupBy=y.first=y.findIndex=y.find=y.finalize=void 0;y.zipWith=y.zipAll=y.withLatestFrom=y.windowWhen=y.windowToggle=y.windowTime=y.windowCount=y.window=y.toArray=y.timestamp=y.timeoutWith=y.timeout=y.timeInterval=y.throwIfEmpty=y.throttleTime=y.throttle=y.tap=y.takeWhile=y.takeUntil=y.takeLast=y.take=y.switchScan=y.switchMapTo=void 0;var dwe=$e();Object.defineProperty(y,"Observable",{enumerable:!0,get:function(){return dwe.Observable}});var fwe=p0();Object.defineProperty(y,"ConnectableObservable",{enumerable:!0,get:function(){return fwe.ConnectableObservable}});var hwe=f0();Object.defineProperty(y,"observable",{enumerable:!0,get:function(){return hwe.observable}});var pwe=d9();Object.defineProperty(y,"animationFrames",{enumerable:!0,get:function(){return pwe.animationFrames}});var mwe=pr();Object.defineProperty(y,"Subject",{enumerable:!0,get:function(){return mwe.Subject}});var gwe=Y3();Object.defineProperty(y,"BehaviorSubject",{enumerable:!0,get:function(){return gwe.BehaviorSubject}});var ywe=E1();Object.defineProperty(y,"ReplaySubject",{enumerable:!0,get:function(){return ywe.ReplaySubject}});var vwe=T1();Object.defineProperty(y,"AsyncSubject",{enumerable:!0,get:function(){return vwe.AsyncSubject}});var sZ=O9();Object.defineProperty(y,"asap",{enumerable:!0,get:function(){return sZ.asap}});Object.defineProperty(y,"asapScheduler",{enumerable:!0,get:function(){return sZ.asapScheduler}});var uZ=dn();Object.defineProperty(y,"async",{enumerable:!0,get:function(){return uZ.async}});Object.defineProperty(y,"asyncScheduler",{enumerable:!0,get:function(){return uZ.asyncScheduler}});var lZ=w9();Object.defineProperty(y,"queue",{enumerable:!0,get:function(){return lZ.queue}});Object.defineProperty(y,"queueScheduler",{enumerable:!0,get:function(){return lZ.queueScheduler}});var cZ=D9();Object.defineProperty(y,"animationFrame",{enumerable:!0,get:function(){return cZ.animationFrame}});Object.defineProperty(y,"animationFrameScheduler",{enumerable:!0,get:function(){return cZ.animationFrameScheduler}});var dZ=F9();Object.defineProperty(y,"VirtualTimeScheduler",{enumerable:!0,get:function(){return dZ.VirtualTimeScheduler}});Object.defineProperty(y,"VirtualAction",{enumerable:!0,get:function(){return dZ.VirtualAction}});var bwe=j3();Object.defineProperty(y,"Scheduler",{enumerable:!0,get:function(){return bwe.Scheduler}});var Swe=Pn();Object.defineProperty(y,"Subscription",{enumerable:!0,get:function(){return Swe.Subscription}});var _we=Ap();Object.defineProperty(y,"Subscriber",{enumerable:!0,get:function(){return _we.Subscriber}});var fZ=Z1();Object.defineProperty(y,"Notification",{enumerable:!0,get:function(){return fZ.Notification}});Object.defineProperty(y,"NotificationKind",{enumerable:!0,get:function(){return fZ.NotificationKind}});var Ewe=h0();Object.defineProperty(y,"pipe",{enumerable:!0,get:function(){return Ewe.pipe}});var Twe=fr();Object.defineProperty(y,"noop",{enumerable:!0,get:function(){return Twe.noop}});var Awe=hr();Object.defineProperty(y,"identity",{enumerable:!0,get:function(){return Awe.identity}});var Cwe=tz();Object.defineProperty(y,"isObservable",{enumerable:!0,get:function(){return Cwe.isObservable}});var kwe=rz();Object.defineProperty(y,"lastValueFrom",{enumerable:!0,get:function(){return kwe.lastValueFrom}});var Iwe=nz();Object.defineProperty(y,"firstValueFrom",{enumerable:!0,get:function(){return Iwe.firstValueFrom}});var Owe=pw();Object.defineProperty(y,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Owe.ArgumentOutOfRangeError}});var Nwe=Bs();Object.defineProperty(y,"EmptyError",{enumerable:!0,get:function(){return Nwe.EmptyError}});var Rwe=mw();Object.defineProperty(y,"NotFoundError",{enumerable:!0,get:function(){return Rwe.NotFoundError}});var wwe=Q3();Object.defineProperty(y,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return wwe.ObjectUnsubscribedError}});var Pwe=gw();Object.defineProperty(y,"SequenceError",{enumerable:!0,get:function(){return Pwe.SequenceError}});var xwe=aT();Object.defineProperty(y,"TimeoutError",{enumerable:!0,get:function(){return xwe.TimeoutError}});var Bwe=B3();Object.defineProperty(y,"UnsubscriptionError",{enumerable:!0,get:function(){return Bwe.UnsubscriptionError}});var Dwe=az();Object.defineProperty(y,"bindCallback",{enumerable:!0,get:function(){return Dwe.bindCallback}});var Mwe=oz();Object.defineProperty(y,"bindNodeCallback",{enumerable:!0,get:function(){return Mwe.bindNodeCallback}});var Lwe=dT();Object.defineProperty(y,"combineLatest",{enumerable:!0,get:function(){return Lwe.combineLatest}});var Fwe=_0();Object.defineProperty(y,"concat",{enumerable:!0,get:function(){return Fwe.concat}});var qwe=pz();Object.defineProperty(y,"connectable",{enumerable:!0,get:function(){return qwe.connectable}});var Uwe=E0();Object.defineProperty(y,"defer",{enumerable:!0,get:function(){return Uwe.defer}});var Vwe=Xi();Object.defineProperty(y,"empty",{enumerable:!0,get:function(){return Vwe.empty}});var Jwe=mz();Object.defineProperty(y,"forkJoin",{enumerable:!0,get:function(){return Jwe.forkJoin}});var Wwe=mo();Object.defineProperty(y,"from",{enumerable:!0,get:function(){return Wwe.from}});var Gwe=yz();Object.defineProperty(y,"fromEvent",{enumerable:!0,get:function(){return Gwe.fromEvent}});var Hwe=bz();Object.defineProperty(y,"fromEventPattern",{enumerable:!0,get:function(){return Hwe.fromEventPattern}});var zwe=_z();Object.defineProperty(y,"generate",{enumerable:!0,get:function(){return zwe.generate}});var Qwe=Ez();Object.defineProperty(y,"iif",{enumerable:!0,get:function(){return Qwe.iif}});var Kwe=Ew();Object.defineProperty(y,"interval",{enumerable:!0,get:function(){return Kwe.interval}});var Zwe=Az();Object.defineProperty(y,"merge",{enumerable:!0,get:function(){return Zwe.merge}});var Xwe=Tw();Object.defineProperty(y,"never",{enumerable:!0,get:function(){return Xwe.never}});var Ywe=Q1();Object.defineProperty(y,"of",{enumerable:!0,get:function(){return Ywe.of}});var $we=Aw();Object.defineProperty(y,"onErrorResumeNext",{enumerable:!0,get:function(){return $we.onErrorResumeNext}});var jwe=kz();Object.defineProperty(y,"pairs",{enumerable:!0,get:function(){return jwe.pairs}});var ePe=Rz();Object.defineProperty(y,"partition",{enumerable:!0,get:function(){return ePe.partition}});var tPe=Cw();Object.defineProperty(y,"race",{enumerable:!0,get:function(){return tPe.race}});var rPe=xz();Object.defineProperty(y,"range",{enumerable:!0,get:function(){return rPe.range}});var nPe=hw();Object.defineProperty(y,"throwError",{enumerable:!0,get:function(){return nPe.throwError}});var iPe=qs();Object.defineProperty(y,"timer",{enumerable:!0,get:function(){return iPe.timer}});var aPe=Bz();Object.defineProperty(y,"using",{enumerable:!0,get:function(){return aPe.using}});var oPe=DT();Object.defineProperty(y,"zip",{enumerable:!0,get:function(){return oPe.zip}});var sPe=fw();Object.defineProperty(y,"scheduled",{enumerable:!0,get:function(){return sPe.scheduled}});var uPe=Xi();Object.defineProperty(y,"EMPTY",{enumerable:!0,get:function(){return uPe.EMPTY}});var lPe=Tw();Object.defineProperty(y,"NEVER",{enumerable:!0,get:function(){return lPe.NEVER}});cwe(Mz(),y);var cPe=Ep();Object.defineProperty(y,"config",{enumerable:!0,get:function(){return cPe.config}});var dPe=kw();Object.defineProperty(y,"audit",{enumerable:!0,get:function(){return dPe.audit}});var fPe=Fz();Object.defineProperty(y,"auditTime",{enumerable:!0,get:function(){return fPe.auditTime}});var hPe=Uz();Object.defineProperty(y,"buffer",{enumerable:!0,get:function(){return hPe.buffer}});var pPe=Vz();Object.defineProperty(y,"bufferCount",{enumerable:!0,get:function(){return pPe.bufferCount}});var mPe=Wz();Object.defineProperty(y,"bufferTime",{enumerable:!0,get:function(){return mPe.bufferTime}});var gPe=zz();Object.defineProperty(y,"bufferToggle",{enumerable:!0,get:function(){return gPe.bufferToggle}});var yPe=Kz();Object.defineProperty(y,"bufferWhen",{enumerable:!0,get:function(){return yPe.bufferWhen}});var vPe=Xz();Object.defineProperty(y,"catchError",{enumerable:!0,get:function(){return vPe.catchError}});var bPe=Yz();Object.defineProperty(y,"combineAll",{enumerable:!0,get:function(){return bPe.combineAll}});var SPe=Pw();Object.defineProperty(y,"combineLatestAll",{enumerable:!0,get:function(){return SPe.combineLatestAll}});var _Pe=rQ();Object.defineProperty(y,"combineLatestWith",{enumerable:!0,get:function(){return _Pe.combineLatestWith}});var EPe=yT();Object.defineProperty(y,"concatAll",{enumerable:!0,get:function(){return EPe.concatAll}});var TPe=xw();Object.defineProperty(y,"concatMap",{enumerable:!0,get:function(){return TPe.concatMap}});var APe=aQ();Object.defineProperty(y,"concatMapTo",{enumerable:!0,get:function(){return APe.concatMapTo}});var CPe=sQ();Object.defineProperty(y,"concatWith",{enumerable:!0,get:function(){return CPe.concatWith}});var kPe=YT();Object.defineProperty(y,"connect",{enumerable:!0,get:function(){return kPe.connect}});var IPe=lQ();Object.defineProperty(y,"count",{enumerable:!0,get:function(){return IPe.count}});var OPe=dQ();Object.defineProperty(y,"debounce",{enumerable:!0,get:function(){return OPe.debounce}});var NPe=fQ();Object.defineProperty(y,"debounceTime",{enumerable:!0,get:function(){return NPe.debounceTime}});var RPe=T0();Object.defineProperty(y,"defaultIfEmpty",{enumerable:!0,get:function(){return RPe.defaultIfEmpty}});var wPe=mQ();Object.defineProperty(y,"delay",{enumerable:!0,get:function(){return wPe.delay}});var PPe=Mw();Object.defineProperty(y,"delayWhen",{enumerable:!0,get:function(){return PPe.delayWhen}});var xPe=gQ();Object.defineProperty(y,"dematerialize",{enumerable:!0,get:function(){return xPe.dematerialize}});var BPe=vQ();Object.defineProperty(y,"distinct",{enumerable:!0,get:function(){return BPe.distinct}});var DPe=Lw();Object.defineProperty(y,"distinctUntilChanged",{enumerable:!0,get:function(){return DPe.distinctUntilChanged}});var MPe=bQ();Object.defineProperty(y,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return MPe.distinctUntilKeyChanged}});var LPe=_Q();Object.defineProperty(y,"elementAt",{enumerable:!0,get:function(){return LPe.elementAt}});var FPe=EQ();Object.defineProperty(y,"endWith",{enumerable:!0,get:function(){return FPe.endWith}});var qPe=TQ();Object.defineProperty(y,"every",{enumerable:!0,get:function(){return qPe.every}});var UPe=IQ();Object.defineProperty(y,"exhaust",{enumerable:!0,get:function(){return UPe.exhaust}});var VPe=qw();Object.defineProperty(y,"exhaustAll",{enumerable:!0,get:function(){return VPe.exhaustAll}});var JPe=Fw();Object.defineProperty(y,"exhaustMap",{enumerable:!0,get:function(){return JPe.exhaustMap}});var WPe=OQ();Object.defineProperty(y,"expand",{enumerable:!0,get:function(){return WPe.expand}});var GPe=yl();Object.defineProperty(y,"filter",{enumerable:!0,get:function(){return GPe.filter}});var HPe=NQ();Object.defineProperty(y,"finalize",{enumerable:!0,get:function(){return HPe.finalize}});var zPe=Uw();Object.defineProperty(y,"find",{enumerable:!0,get:function(){return zPe.find}});var QPe=wQ();Object.defineProperty(y,"findIndex",{enumerable:!0,get:function(){return QPe.findIndex}});var KPe=PQ();Object.defineProperty(y,"first",{enumerable:!0,get:function(){return KPe.first}});var ZPe=BQ();Object.defineProperty(y,"groupBy",{enumerable:!0,get:function(){return ZPe.groupBy}});var XPe=Bw();Object.defineProperty(y,"ignoreElements",{enumerable:!0,get:function(){return XPe.ignoreElements}});var YPe=DQ();Object.defineProperty(y,"isEmpty",{enumerable:!0,get:function(){return YPe.isEmpty}});var $Pe=MQ();Object.defineProperty(y,"last",{enumerable:!0,get:function(){return $Pe.last}});var jPe=Ds();Object.defineProperty(y,"map",{enumerable:!0,get:function(){return jPe.map}});var exe=Dw();Object.defineProperty(y,"mapTo",{enumerable:!0,get:function(){return exe.mapTo}});var txe=LQ();Object.defineProperty(y,"materialize",{enumerable:!0,get:function(){return txe.materialize}});var rxe=FQ();Object.defineProperty(y,"max",{enumerable:!0,get:function(){return rxe.max}});var nxe=S0();Object.defineProperty(y,"mergeAll",{enumerable:!0,get:function(){return nxe.mergeAll}});var ixe=qQ();Object.defineProperty(y,"flatMap",{enumerable:!0,get:function(){return ixe.flatMap}});var axe=yo();Object.defineProperty(y,"mergeMap",{enumerable:!0,get:function(){return axe.mergeMap}});var oxe=VQ();Object.defineProperty(y,"mergeMapTo",{enumerable:!0,get:function(){return oxe.mergeMapTo}});var sxe=JQ();Object.defineProperty(y,"mergeScan",{enumerable:!0,get:function(){return sxe.mergeScan}});var uxe=HQ();Object.defineProperty(y,"mergeWith",{enumerable:!0,get:function(){return uxe.mergeWith}});var lxe=zQ();Object.defineProperty(y,"min",{enumerable:!0,get:function(){return lxe.min}});var cxe=wA();Object.defineProperty(y,"multicast",{enumerable:!0,get:function(){return cxe.multicast}});var dxe=v0();Object.defineProperty(y,"observeOn",{enumerable:!0,get:function(){return dxe.observeOn}});var fxe=ZQ();Object.defineProperty(y,"onErrorResumeNextWith",{enumerable:!0,get:function(){return fxe.onErrorResumeNextWith}});var hxe=XQ();Object.defineProperty(y,"pairwise",{enumerable:!0,get:function(){return hxe.pairwise}});var pxe=YQ();Object.defineProperty(y,"pluck",{enumerable:!0,get:function(){return pxe.pluck}});var mxe=$Q();Object.defineProperty(y,"publish",{enumerable:!0,get:function(){return mxe.publish}});var gxe=jQ();Object.defineProperty(y,"publishBehavior",{enumerable:!0,get:function(){return gxe.publishBehavior}});var yxe=eK();Object.defineProperty(y,"publishLast",{enumerable:!0,get:function(){return yxe.publishLast}});var vxe=rK();Object.defineProperty(y,"publishReplay",{enumerable:!0,get:function(){return vxe.publishReplay}});var bxe=nK();Object.defineProperty(y,"raceWith",{enumerable:!0,get:function(){return bxe.raceWith}});var Sxe=jp();Object.defineProperty(y,"reduce",{enumerable:!0,get:function(){return Sxe.reduce}});var _xe=aK();Object.defineProperty(y,"repeat",{enumerable:!0,get:function(){return _xe.repeat}});var Exe=sK();Object.defineProperty(y,"repeatWhen",{enumerable:!0,get:function(){return Exe.repeatWhen}});var Txe=lK();Object.defineProperty(y,"retry",{enumerable:!0,get:function(){return Txe.retry}});var Axe=dK();Object.defineProperty(y,"retryWhen",{enumerable:!0,get:function(){return Axe.retryWhen}});var Cxe=H3();Object.defineProperty(y,"refCount",{enumerable:!0,get:function(){return Cxe.refCount}});var kxe=Ww();Object.defineProperty(y,"sample",{enumerable:!0,get:function(){return kxe.sample}});var Ixe=hK();Object.defineProperty(y,"sampleTime",{enumerable:!0,get:function(){return Ixe.sampleTime}});var Oxe=pK();Object.defineProperty(y,"scan",{enumerable:!0,get:function(){return Oxe.scan}});var Nxe=gK();Object.defineProperty(y,"sequenceEqual",{enumerable:!0,get:function(){return Nxe.sequenceEqual}});var Rxe=Hw();Object.defineProperty(y,"share",{enumerable:!0,get:function(){return Rxe.share}});var wxe=bK();Object.defineProperty(y,"shareReplay",{enumerable:!0,get:function(){return wxe.shareReplay}});var Pxe=SK();Object.defineProperty(y,"single",{enumerable:!0,get:function(){return Pxe.single}});var xxe=_K();Object.defineProperty(y,"skip",{enumerable:!0,get:function(){return xxe.skip}});var Bxe=EK();Object.defineProperty(y,"skipLast",{enumerable:!0,get:function(){return Bxe.skipLast}});var Dxe=AK();Object.defineProperty(y,"skipUntil",{enumerable:!0,get:function(){return Dxe.skipUntil}});var Mxe=CK();Object.defineProperty(y,"skipWhile",{enumerable:!0,get:function(){return Mxe.skipWhile}});var Lxe=IK();Object.defineProperty(y,"startWith",{enumerable:!0,get:function(){return Lxe.startWith}});var Fxe=b0();Object.defineProperty(y,"subscribeOn",{enumerable:!0,get:function(){return Fxe.subscribeOn}});var qxe=NK();Object.defineProperty(y,"switchAll",{enumerable:!0,get:function(){return qxe.switchAll}});var Uxe=k0();Object.defineProperty(y,"switchMap",{enumerable:!0,get:function(){return Uxe.switchMap}});var Vxe=wK();Object.defineProperty(y,"switchMapTo",{enumerable:!0,get:function(){return Vxe.switchMapTo}});var Jxe=PK();Object.defineProperty(y,"switchScan",{enumerable:!0,get:function(){return Jxe.switchScan}});var Wxe=A0();Object.defineProperty(y,"take",{enumerable:!0,get:function(){return Wxe.take}});var Gxe=Vw();Object.defineProperty(y,"takeLast",{enumerable:!0,get:function(){return Gxe.takeLast}});var Hxe=xK();Object.defineProperty(y,"takeUntil",{enumerable:!0,get:function(){return Hxe.takeUntil}});var zxe=BK();Object.defineProperty(y,"takeWhile",{enumerable:!0,get:function(){return zxe.takeWhile}});var Qxe=DK();Object.defineProperty(y,"tap",{enumerable:!0,get:function(){return Qxe.tap}});var Kxe=zw();Object.defineProperty(y,"throttle",{enumerable:!0,get:function(){return Kxe.throttle}});var Zxe=LK();Object.defineProperty(y,"throttleTime",{enumerable:!0,get:function(){return Zxe.throttleTime}});var Xxe=C0();Object.defineProperty(y,"throwIfEmpty",{enumerable:!0,get:function(){return Xxe.throwIfEmpty}});var Yxe=qK();Object.defineProperty(y,"timeInterval",{enumerable:!0,get:function(){return Yxe.timeInterval}});var $xe=aT();Object.defineProperty(y,"timeout",{enumerable:!0,get:function(){return $xe.timeout}});var jxe=UK();Object.defineProperty(y,"timeoutWith",{enumerable:!0,get:function(){return jxe.timeoutWith}});var eBe=VK();Object.defineProperty(y,"timestamp",{enumerable:!0,get:function(){return eBe.timestamp}});var tBe=Rw();Object.defineProperty(y,"toArray",{enumerable:!0,get:function(){return tBe.toArray}});var rBe=GK();Object.defineProperty(y,"window",{enumerable:!0,get:function(){return rBe.window}});var nBe=zK();Object.defineProperty(y,"windowCount",{enumerable:!0,get:function(){return nBe.windowCount}});var iBe=KK();Object.defineProperty(y,"windowTime",{enumerable:!0,get:function(){return iBe.windowTime}});var aBe=YK();Object.defineProperty(y,"windowToggle",{enumerable:!0,get:function(){return aBe.windowToggle}});var oBe=jK();Object.defineProperty(y,"windowWhen",{enumerable:!0,get:function(){return oBe.windowWhen}});var sBe=nZ();Object.defineProperty(y,"withLatestFrom",{enumerable:!0,get:function(){return sBe.withLatestFrom}});var uBe=iZ();Object.defineProperty(y,"zipAll",{enumerable:!0,get:function(){return uBe.zipAll}});var lBe=oZ();Object.defineProperty(y,"zipWith",{enumerable:!0,get:function(){return lBe.zipWith}})});var xn=null;try{xn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function at(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}at.prototype.__isLong__;Object.defineProperty(at.prototype,"__isLong__",{value:!0});function mr(t){return(t&&t.__isLong__)===!0}function $w(t){var e=Math.clz32(t&-t);return t?31-e:e}at.isLong=mr;var jw={},eP={};function tu(t,e){var r,n,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(n=eP[t],n)?n:(r=Le(t,0,!0),i&&(eP[t]=r),r)):(t|=0,(i=-128<=t&&t<128)&&(n=jw[t],n)?n:(r=Le(t,t<0?-1:0,!1),i&&(jw[t]=r),r))}at.fromInt=tu;function Bn(t,e){if(isNaN(t))return e?Ba:ni;if(e){if(t<0)return Ba;if(t>=iP)return sP}else{if(t<=-rP)return zr;if(t+1>=rP)return oP}return t<0?Bn(-t,e).neg():Le(t%Sl|0,t/Sl|0,e)}at.fromNumber=Bn;function Le(t,e,r){return new at(t,e,r)}at.fromBits=Le;var O0=Math.pow;function vC(t,e,r){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(r=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Ba:ni;if(r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return vC(t.substring(1),e,r).neg();for(var i=Bn(O0(r,8)),a=ni,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+s),r);if(s<8){var l=Bn(O0(r,s));a=a.mul(l).add(Bn(u))}else a=a.mul(i),a=a.add(Bn(u))}return a.unsigned=e,a}at.fromString=vC;function ii(t,e){return typeof t=="number"?Bn(t,e):typeof t=="string"?vC(t,e):Le(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}at.fromValue=ii;var tP=65536,kZ=1<<24,Sl=tP*tP,iP=Sl*Sl,rP=iP/2,nP=tu(kZ),ni=tu(0);at.ZERO=ni;var Ba=tu(0,!0);at.UZERO=Ba;var bl=tu(1);at.ONE=bl;var aP=tu(1,!0);at.UONE=aP;var yC=tu(-1);at.NEG_ONE=yC;var oP=Le(-1,2147483647,!1);at.MAX_VALUE=oP;var sP=Le(-1,-1,!0);at.MAX_UNSIGNED_VALUE=sP;var zr=Le(0,-2147483648,!1);at.MIN_VALUE=zr;var W=at.prototype;W.toInt=function(){return this.unsigned?this.low>>>0:this.low};W.toNumber=function(){return this.unsigned?(this.high>>>0)*Sl+(this.low>>>0):this.high*Sl+(this.low>>>0)};W.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(zr)){var r=Bn(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=Bn(O0(e,6),this.unsigned),o=this,s="";;){var u=o.div(a),l=o.sub(u.mul(a)).toInt()>>>0,c=l.toString(e);if(o=u,o.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}};W.getHighBits=function(){return this.high};W.getHighBitsUnsigned=function(){return this.high>>>0};W.getLowBits=function(){return this.low};W.getLowBitsUnsigned=function(){return this.low>>>0};W.getNumBitsAbs=function(){if(this.isNegative())return this.eq(zr)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&!(e&1<<r);r--);return this.high!=0?r+33:r+1};W.isZero=function(){return this.high===0&&this.low===0};W.eqz=W.isZero;W.isNegative=function(){return!this.unsigned&&this.high<0};W.isPositive=function(){return this.unsigned||this.high>=0};W.isOdd=function(){return(this.low&1)===1};W.isEven=function(){return(this.low&1)===0};W.equals=function(e){return mr(e)||(e=ii(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};W.eq=W.equals;W.notEquals=function(e){return!this.eq(e)};W.neq=W.notEquals;W.ne=W.notEquals;W.lessThan=function(e){return this.comp(e)<0};W.lt=W.lessThan;W.lessThanOrEqual=function(e){return this.comp(e)<=0};W.lte=W.lessThanOrEqual;W.le=W.lessThanOrEqual;W.greaterThan=function(e){return this.comp(e)>0};W.gt=W.greaterThan;W.greaterThanOrEqual=function(e){return this.comp(e)>=0};W.gte=W.greaterThanOrEqual;W.ge=W.greaterThanOrEqual;W.compare=function(e){if(mr(e)||(e=ii(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};W.comp=W.compare;W.negate=function(){return!this.unsigned&&this.eq(zr)?zr:this.not().add(bl)};W.neg=W.negate;W.add=function(e){mr(e)||(e=ii(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,a=this.low&65535,o=e.high>>>16,s=e.high&65535,u=e.low>>>16,l=e.low&65535,c=0,d=0,f=0,p=0;return p+=a+l,f+=p>>>16,p&=65535,f+=i+u,d+=f>>>16,f&=65535,d+=n+s,c+=d>>>16,d&=65535,c+=r+o,c&=65535,Le(f<<16|p,c<<16|d,this.unsigned)};W.subtract=function(e){return mr(e)||(e=ii(e)),this.add(e.neg())};W.sub=W.subtract;W.multiply=function(e){if(this.isZero())return this;if(mr(e)||(e=ii(e)),xn){var r=xn.mul(this.low,this.high,e.low,e.high);return Le(r,xn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Ba:ni;if(this.eq(zr))return e.isOdd()?zr:ni;if(e.eq(zr))return this.isOdd()?zr:ni;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nP)&&e.lt(nP))return Bn(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,o=this.low&65535,s=e.high>>>16,u=e.high&65535,l=e.low>>>16,c=e.low&65535,d=0,f=0,p=0,g=0;return g+=o*c,p+=g>>>16,g&=65535,p+=a*c,f+=p>>>16,p&=65535,p+=o*l,f+=p>>>16,p&=65535,f+=i*c,d+=f>>>16,f&=65535,f+=a*l,d+=f>>>16,f&=65535,f+=o*u,d+=f>>>16,f&=65535,d+=n*c+i*l+a*u+o*s,d&=65535,Le(p<<16|g,d<<16|f,this.unsigned)};W.mul=W.multiply;W.divide=function(e){if(mr(e)||(e=ii(e)),e.isZero())throw Error("division by zero");if(xn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?xn.div_u:xn.div_s)(this.low,this.high,e.low,e.high);return Le(r,xn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ba:ni;var n,i,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ba;if(e.gt(this.shru(1)))return aP;a=Ba}else{if(this.eq(zr)){if(e.eq(bl)||e.eq(yC))return zr;if(e.eq(zr))return bl;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(ni)?e.isNegative()?bl:yC:(i=this.sub(e.mul(n)),a=n.add(i.div(e)),a)}else if(e.eq(zr))return this.unsigned?Ba:ni;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=ni}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:O0(2,s-48),l=Bn(n),c=l.mul(e);c.isNegative()||c.gt(i);)n-=u,l=Bn(n,this.unsigned),c=l.mul(e);l.isZero()&&(l=bl),a=a.add(l),i=i.sub(c)}return a};W.div=W.divide;W.modulo=function(e){if(mr(e)||(e=ii(e)),xn){var r=(this.unsigned?xn.rem_u:xn.rem_s)(this.low,this.high,e.low,e.high);return Le(r,xn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};W.mod=W.modulo;W.rem=W.modulo;W.not=function(){return Le(~this.low,~this.high,this.unsigned)};W.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};W.clz=W.countLeadingZeros;W.countTrailingZeros=function(){return this.low?$w(this.low):$w(this.high)+32};W.ctz=W.countTrailingZeros;W.and=function(e){return mr(e)||(e=ii(e)),Le(this.low&e.low,this.high&e.high,this.unsigned)};W.or=function(e){return mr(e)||(e=ii(e)),Le(this.low|e.low,this.high|e.high,this.unsigned)};W.xor=function(e){return mr(e)||(e=ii(e)),Le(this.low^e.low,this.high^e.high,this.unsigned)};W.shiftLeft=function(e){return mr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Le(0,this.low<<e-32,this.unsigned)};W.shl=W.shiftLeft;W.shiftRight=function(e){return mr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Le(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};W.shr=W.shiftRight;W.shiftRightUnsigned=function(e){return mr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Le(this.high,0,this.unsigned):Le(this.high>>>e-32,0,this.unsigned)};W.shru=W.shiftRightUnsigned;W.shr_u=W.shiftRightUnsigned;W.rotateLeft=function(e){var r;return mr(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Le(this.high,this.low,this.unsigned):e<32?(r=32-e,Le(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,Le(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};W.rotl=W.rotateLeft;W.rotateRight=function(e){var r;return mr(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Le(this.high,this.low,this.unsigned):e<32?(r=32-e,Le(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,Le(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};W.rotr=W.rotateRight;W.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this};W.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)};W.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};W.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};W.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};at.fromBytes=function(e,r,n){return n?at.fromBytesLE(e,r):at.fromBytesBE(e,r)};at.fromBytesLE=function(e,r){return new at(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};at.fromBytesBE=function(e,r){return new at(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};var Qt=at;var C=tr(Rr(),1);var MZ=tr(Rr(),1);var pn=tr(Rr(),1),iu;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(iu||(iu={}));function LZ(t){switch(t){case 0:case"NULL_VALUE":return iu.NULL_VALUE;case-1:case"UNRECOGNIZED":default:return iu.UNRECOGNIZED}}function FZ(t){switch(t){case iu.NULL_VALUE:return"NULL_VALUE";case iu.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function DC(){return{fields:{}}}var wr={encode(t,e=pn.default.Writer.create()){return Object.entries(t.fields).forEach(([r,n])=>{n!==void 0&&FC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof pn.default.Reader?t:pn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=DC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=FC.decode(r,r.uint32());o.value!==void 0&&(i.fields[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:ex(t.fields)?Object.entries(t.fields).reduce((e,[r,n])=>(e[r]=n,e),{}):{}}},toJSON(t){let e={};if(t.fields){let r=Object.entries(t.fields);r.length>0&&(e.fields={},r.forEach(([n,i])=>{e.fields[n]=i}))}return e},create(t){return wr.fromPartial(t??{})},fromPartial(t){let e=DC();return e.fields=Object.entries(t.fields??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=i),r),{}),e},wrap(t){let e=DC();if(t!==void 0)for(let r of Object.keys(t))e.fields[r]=t[r];return e},unwrap(t){let e={};if(t.fields)for(let r of Object.keys(t.fields))e[r]=t.fields[r];return e}};function jP(){return{key:"",value:void 0}}var FC={encode(t,e=pn.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&Da.encode(Da.wrap(t.value),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof pn.default.Reader?t:pn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=jP();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=Da.unwrap(Da.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:Tl(t.key)?globalThis.String(t.key):"",value:Tl(t?.value)?t.value:void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=t.value),e},create(t){return FC.fromPartial(t??{})},fromPartial(t){let e=jP();return e.key=t.key??"",e.value=t.value??void 0,e}};function MC(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}var Da={encode(t,e=pn.default.Writer.create()){return t.nullValue!==void 0&&e.uint32(8).int32(t.nullValue),t.numberValue!==void 0&&e.uint32(17).double(t.numberValue),t.stringValue!==void 0&&e.uint32(26).string(t.stringValue),t.boolValue!==void 0&&e.uint32(32).bool(t.boolValue),t.structValue!==void 0&&wr.encode(wr.wrap(t.structValue),e.uint32(42).fork()).ldelim(),t.listValue!==void 0&&El.encode(El.wrap(t.listValue),e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof pn.default.Reader?t:pn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=MC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.nullValue=r.int32();continue;case 2:if(a!==17)break;i.numberValue=r.double();continue;case 3:if(a!==26)break;i.stringValue=r.string();continue;case 4:if(a!==32)break;i.boolValue=r.bool();continue;case 5:if(a!==42)break;i.structValue=wr.unwrap(wr.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.listValue=El.unwrap(El.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{nullValue:Tl(t.nullValue)?LZ(t.nullValue):void 0,numberValue:Tl(t.numberValue)?globalThis.Number(t.numberValue):void 0,stringValue:Tl(t.stringValue)?globalThis.String(t.stringValue):void 0,boolValue:Tl(t.boolValue)?globalThis.Boolean(t.boolValue):void 0,structValue:ex(t.structValue)?t.structValue:void 0,listValue:globalThis.Array.isArray(t.listValue)?[...t.listValue]:void 0}},toJSON(t){let e={};return t.nullValue!==void 0&&(e.nullValue=FZ(t.nullValue)),t.numberValue!==void 0&&(e.numberValue=t.numberValue),t.stringValue!==void 0&&(e.stringValue=t.stringValue),t.boolValue!==void 0&&(e.boolValue=t.boolValue),t.structValue!==void 0&&(e.structValue=t.structValue),t.listValue!==void 0&&(e.listValue=t.listValue),e},create(t){return Da.fromPartial(t??{})},fromPartial(t){let e=MC();return e.nullValue=t.nullValue??void 0,e.numberValue=t.numberValue??void 0,e.stringValue=t.stringValue??void 0,e.boolValue=t.boolValue??void 0,e.structValue=t.structValue??void 0,e.listValue=t.listValue??void 0,e},wrap(t){let e=MC();if(t===null)e.nullValue=iu.NULL_VALUE;else if(typeof t=="boolean")e.boolValue=t;else if(typeof t=="number")e.numberValue=t;else if(typeof t=="string")e.stringValue=t;else if(globalThis.Array.isArray(t))e.listValue=t;else if(typeof t=="object")e.structValue=t;else if(typeof t<"u")throw new globalThis.Error("Unsupported any value type: "+typeof t);return e},unwrap(t){if(t.stringValue!==void 0)return t.stringValue;if(t?.numberValue!==void 0)return t.numberValue;if(t?.boolValue!==void 0)return t.boolValue;if(t?.structValue!==void 0)return t.structValue;if(t?.listValue!==void 0)return t.listValue;if(t?.nullValue!==void 0)return null}};function LC(){return{values:[]}}var El={encode(t,e=pn.default.Writer.create()){for(let r of t.values)Da.encode(Da.wrap(r),e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof pn.default.Reader?t:pn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=LC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.values.push(Da.unwrap(Da.decode(r,r.uint32())));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{values:globalThis.Array.isArray(t?.values)?[...t.values]:[]}},toJSON(t){let e={};return t.values?.length&&(e.values=t.values),e},create(t){return El.fromPartial(t??{})},fromPartial(t){let e=LC();return e.values=t.values?.map(r=>r)||[],e},wrap(t){let e=LC();return e.values=t??[],e},unwrap(t){return t?.hasOwnProperty("values")&&globalThis.Array.isArray(t.values)?t.values:t}};function ex(t){return typeof t=="object"&&t!==null}function Tl(t){return t!=null}var au=tr(Rr(),1);function tx(){return{seconds:BigInt("0"),nanos:0}}var Al={encode(t,e=au.default.Writer.create()){if(t.seconds!==BigInt("0")){if(BigInt.asIntN(64,t.seconds)!==t.seconds)throw new globalThis.Error("value provided for field message.seconds of type int64 too large");e.uint32(8).int64(t.seconds.toString())}return t.nanos!==0&&e.uint32(16).int32(t.nanos),e},decode(t,e){let r=t instanceof au.default.Reader?t:au.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=tx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.seconds=qZ(r.int64());continue;case 2:if(a!==16)break;i.nanos=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{seconds:rx(t.seconds)?BigInt(t.seconds):BigInt("0"),nanos:rx(t.nanos)?globalThis.Number(t.nanos):0}},toJSON(t){let e={};return t.seconds!==BigInt("0")&&(e.seconds=t.seconds.toString()),t.nanos!==0&&(e.nanos=Math.round(t.nanos)),e},create(t){return Al.fromPartial(t??{})},fromPartial(t){let e=tx();return e.seconds=t.seconds??BigInt("0"),e.nanos=t.nanos??0,e}};function qZ(t){return BigInt(t.toString())}au.default.util.Long!==Qt&&(au.default.util.Long=Qt,au.default.configure());function rx(t){return t!=null}var Ye=tr(Rr(),1);var nx;(function(t){t[t.FREE=0]="FREE",t[t.DEV=1]="DEV",t[t.PRO=2]="PRO",t[t.ENTERPRISE=3]="ENTERPRISE",t[t.ANONYMOUS=16]="ANONYMOUS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(nx||(nx={}));var ix;(function(t){t[t.ORG_MEMBER=0]="ORG_MEMBER",t[t.ORG_ADMIN=1]="ORG_ADMIN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ix||(ix={}));var ax;(function(t){t[t.AND=0]="AND",t[t.OR=1]="OR",t[t.THEN=2]="THEN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ax||(ax={}));var ox;(function(t){t[t.READ=0]="READ",t[t.WRITE=1]="WRITE",t[t.ADMIN=2]="ADMIN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ox||(ox={}));var sx;(function(t){t[t.GENERAL=0]="GENERAL",t[t.PROCESSOR_UPLOAD_FAILED=101]="PROCESSOR_UPLOAD_FAILED",t[t.PROCESSOR_UPLOAD_SUCCESS=102]="PROCESSOR_UPLOAD_SUCCESS",t[t.PROCESSOR_OBSOLETED=103]="PROCESSOR_OBSOLETED",t[t.PROCESSOR_STOPPED=104]="PROCESSOR_STOPPED",t[t.PROCESSOR_ACTIVATED=105]="PROCESSOR_ACTIVATED",t[t.PROCESSOR_GENERAL=106]="PROCESSOR_GENERAL",t[t.PROCESSOR_ERROR=107]="PROCESSOR_ERROR",t[t.EXPORT_TASK_FAILED=201]="EXPORT_TASK_FAILED",t[t.EXPORT_TASK_SUCCESS=202]="EXPORT_TASK_SUCCESS",t[t.BILLING_INVOICE=301]="BILLING_INVOICE",t[t.BILLING_PAYMENT=302]="BILLING_PAYMENT",t[t.BILLING_SUBSCRIPTION=303]="BILLING_SUBSCRIPTION",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(sx||(sx={}));var ux;(function(t){t[t.PENDING=0]="PENDING",t[t.SET_USERNAME=1]="SET_USERNAME",t[t.BANNED=9]="BANNED",t[t.ACTIVE=10]="ACTIVE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ux||(ux={}));var lx;(function(t){t[t.PUBLIC=0]="PUBLIC",t[t.PRIVATE=1]="PRIVATE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lx||(lx={}));var cx;(function(t){t[t.SENTIO=0]="SENTIO",t[t.SUBGRAPH=1]="SUBGRAPH",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(cx||(cx={}));var dx;(function(t){t[t.AVG=0]="AVG",t[t.SUM=1]="SUM",t[t.MIN=2]="MIN",t[t.MAX=3]="MAX",t[t.COUNT=4]="COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(dx||(dx={}));var fx;(function(t){t[t.EQ=0]="EQ",t[t.NEQ=1]="NEQ",t[t.EXISTS=9]="EXISTS",t[t.NOT_EXISTS=10]="NOT_EXISTS",t[t.GT=2]="GT",t[t.GTE=3]="GTE",t[t.LT=4]="LT",t[t.LTE=5]="LTE",t[t.BETWEEN=7]="BETWEEN",t[t.NOT_BETWEEN=8]="NOT_BETWEEN",t[t.CONTAINS=11]="CONTAINS",t[t.NOT_CONTAINS=12]="NOT_CONTAINS",t[t.IN_COHORTS=13]="IN_COHORTS",t[t.NOT_IN_COHORTS=14]="NOT_IN_COHORTS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(fx||(fx={}));var hx;(function(t){t[t.EVENTS=0]="EVENTS",t[t.COHORTS=1]="COHORTS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(hx||(hx={}));var px;(function(t){t[t.SUM=0]="SUM",t[t.CUMULATIVE_SUM=6]="CUMULATIVE_SUM",t[t.AVG=1]="AVG",t[t.MEDIAN=2]="MEDIAN",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.DISTINCT_COUNT=5]="DISTINCT_COUNT",t[t.CUMULATIVE_DISTINCT_COUNT=9]="CUMULATIVE_DISTINCT_COUNT",t[t.CUMULATIVE_COUNT=12]="CUMULATIVE_COUNT",t[t.LAST=7]="LAST",t[t.CUMULATIVE_LAST=10]="CUMULATIVE_LAST",t[t.FIRST=8]="FIRST",t[t.CUMULATIVE_FIRST=11]="CUMULATIVE_FIRST",t[t.PERCENTILE_25TH=20]="PERCENTILE_25TH",t[t.PERCENTILE_75TH=21]="PERCENTILE_75TH",t[t.PERCENTILE_90TH=22]="PERCENTILE_90TH",t[t.PERCENTILE_95TH=23]="PERCENTILE_95TH",t[t.PERCENTILE_99TH=24]="PERCENTILE_99TH",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(px||(px={}));var mx;(function(t){t[t.EQ=0]="EQ",t[t.NEQ=1]="NEQ",t[t.GT=2]="GT",t[t.GTE=3]="GTE",t[t.LT=4]="LT",t[t.LTE=5]="LTE",t[t.BETWEEN=7]="BETWEEN",t[t.NOT_BETWEEN=8]="NOT_BETWEEN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(mx||(mx={}));var gx;(function(t){t[t.SUM=0]="SUM",t[t.AVG=1]="AVG",t[t.MEDIAN=2]="MEDIAN",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.DISTINCT_COUNT=5]="DISTINCT_COUNT",t[t.LAST=6]="LAST",t[t.FIRST=7]="FIRST",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(gx||(gx={}));var yx;(function(t){t[t.PROCESSOR=0]="PROCESSOR",t[t.UI=1]="UI",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(yx||(yx={}));var vx;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.EMAIL=1]="EMAIL",t[t.SLACK=2]="SLACK",t[t.TELEGRAM=3]="TELEGRAM",t[t.WEBHOOK=4]="WEBHOOK",t[t.DISCORD=5]="DISCORD",t[t.PAGERDUTY=6]="PAGERDUTY",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(vx||(vx={}));var bx;(function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.LIST=3]="LIST",t[t.TIME=4]="TIME",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(bx||(bx={}));var Sx;(function(t){t[t.OnOrAfter=0]="OnOrAfter",t[t.On=1]="On",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Sx||(Sx={}));var _x;(function(t){t[t.Disable=0]="Disable",t[t.FirstInTimeRange=1]="FirstInTimeRange",t[t.FirstInGlobal=2]="FirstInGlobal",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(_x||(_x={}));var Ex;(function(t){t[t.Day=0]="Day",t[t.Week=1]="Week",t[t.Month=2]="Month",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Ex||(Ex={}));var Tx;(function(t){t[t.SUM=0]="SUM",t[t.AVG=1]="AVG",t[t.MEDIAN=2]="MEDIAN",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.DISTINCT_COUNT=5]="DISTINCT_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Tx||(Tx={}));var ou;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ou||(ou={}));function UZ(t){switch(t){case 0:case"NULL_VALUE":return ou.NULL_VALUE;case-1:case"UNRECOGNIZED":default:return ou.UNRECOGNIZED}}function VZ(t){switch(t){case ou.NULL_VALUE:return"NULL_VALUE";case ou.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function Ax(){return{symbol:void 0,address:void 0}}var To={encode(t,e=Ye.default.Writer.create()){return t.symbol!==void 0&&e.uint32(10).string(t.symbol),t.address!==void 0&&Cl.encode(t.address,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Ax();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.symbol=r.string();continue;case 2:if(a!==18)break;i.address=Cl.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{symbol:kt(t.symbol)?globalThis.String(t.symbol):void 0,address:kt(t.address)?Cl.fromJSON(t.address):void 0}},toJSON(t){let e={};return t.symbol!==void 0&&(e.symbol=t.symbol),t.address!==void 0&&(e.address=Cl.toJSON(t.address)),e},create(t){return To.fromPartial(t??{})},fromPartial(t){let e=Ax();return e.symbol=t.symbol??void 0,e.address=t.address!==void 0&&t.address!==null?Cl.fromPartial(t.address):void 0,e}};function Cx(){return{address:"",chain:""}}var Cl={encode(t,e=Ye.default.Writer.create()){return t.address!==""&&e.uint32(10).string(t.address),t.chain!==""&&e.uint32(18).string(t.chain),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Cx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 2:if(a!==18)break;i.chain=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:kt(t.address)?globalThis.String(t.address):"",chain:kt(t.chain)?globalThis.String(t.chain):""}},toJSON(t){let e={};return t.address!==""&&(e.address=t.address),t.chain!==""&&(e.chain=t.chain),e},create(t){return Cl.fromPartial(t??{})},fromPartial(t){let e=Cx();return e.address=t.address??"",e.chain=t.chain??"",e}};function kx(){return{nullValue:void 0,intValue:void 0,floatValue:void 0,bytesValue:void 0,boolValue:void 0,stringValue:void 0,timestampValue:void 0,bigintValue:void 0,bigdecimalValue:void 0,listValue:void 0,structValue:void 0}}var be={encode(t,e=Ye.default.Writer.create()){return t.nullValue!==void 0&&e.uint32(8).int32(t.nullValue),t.intValue!==void 0&&e.uint32(16).int32(t.intValue),t.floatValue!==void 0&&e.uint32(25).double(t.floatValue),t.bytesValue!==void 0&&e.uint32(34).bytes(t.bytesValue),t.boolValue!==void 0&&e.uint32(40).bool(t.boolValue),t.stringValue!==void 0&&e.uint32(50).string(t.stringValue),t.timestampValue!==void 0&&Al.encode(JZ(t.timestampValue),e.uint32(58).fork()).ldelim(),t.bigintValue!==void 0&&Zt.encode(t.bigintValue,e.uint32(66).fork()).ldelim(),t.bigdecimalValue!==void 0&&kl.encode(t.bigdecimalValue,e.uint32(74).fork()).ldelim(),t.listValue!==void 0&&St.encode(t.listValue,e.uint32(82).fork()).ldelim(),t.structValue!==void 0&&Eo.encode(t.structValue,e.uint32(90).fork()).ldelim(),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=kx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.nullValue=r.int32();continue;case 2:if(a!==16)break;i.intValue=r.int32();continue;case 3:if(a!==25)break;i.floatValue=r.double();continue;case 4:if(a!==34)break;i.bytesValue=r.bytes();continue;case 5:if(a!==40)break;i.boolValue=r.bool();continue;case 6:if(a!==50)break;i.stringValue=r.string();continue;case 7:if(a!==58)break;i.timestampValue=Bx(Al.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.bigintValue=Zt.decode(r,r.uint32());continue;case 9:if(a!==74)break;i.bigdecimalValue=kl.decode(r,r.uint32());continue;case 10:if(a!==82)break;i.listValue=St.decode(r,r.uint32());continue;case 11:if(a!==90)break;i.structValue=Eo.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{nullValue:kt(t.nullValue)?UZ(t.nullValue):void 0,intValue:kt(t.intValue)?globalThis.Number(t.intValue):void 0,floatValue:kt(t.floatValue)?globalThis.Number(t.floatValue):void 0,bytesValue:kt(t.bytesValue)?Px(t.bytesValue):void 0,boolValue:kt(t.boolValue)?globalThis.Boolean(t.boolValue):void 0,stringValue:kt(t.stringValue)?globalThis.String(t.stringValue):void 0,timestampValue:kt(t.timestampValue)?WZ(t.timestampValue):void 0,bigintValue:kt(t.bigintValue)?Zt.fromJSON(t.bigintValue):void 0,bigdecimalValue:kt(t.bigdecimalValue)?kl.fromJSON(t.bigdecimalValue):void 0,listValue:kt(t.listValue)?St.fromJSON(t.listValue):void 0,structValue:kt(t.structValue)?Eo.fromJSON(t.structValue):void 0}},toJSON(t){let e={};return t.nullValue!==void 0&&(e.nullValue=VZ(t.nullValue)),t.intValue!==void 0&&(e.intValue=Math.round(t.intValue)),t.floatValue!==void 0&&(e.floatValue=t.floatValue),t.bytesValue!==void 0&&(e.bytesValue=xx(t.bytesValue)),t.boolValue!==void 0&&(e.boolValue=t.boolValue),t.stringValue!==void 0&&(e.stringValue=t.stringValue),t.timestampValue!==void 0&&(e.timestampValue=t.timestampValue.toISOString()),t.bigintValue!==void 0&&(e.bigintValue=Zt.toJSON(t.bigintValue)),t.bigdecimalValue!==void 0&&(e.bigdecimalValue=kl.toJSON(t.bigdecimalValue)),t.listValue!==void 0&&(e.listValue=St.toJSON(t.listValue)),t.structValue!==void 0&&(e.structValue=Eo.toJSON(t.structValue)),e},create(t){return be.fromPartial(t??{})},fromPartial(t){let e=kx();return e.nullValue=t.nullValue??void 0,e.intValue=t.intValue??void 0,e.floatValue=t.floatValue??void 0,e.bytesValue=t.bytesValue??void 0,e.boolValue=t.boolValue??void 0,e.stringValue=t.stringValue??void 0,e.timestampValue=t.timestampValue??void 0,e.bigintValue=t.bigintValue!==void 0&&t.bigintValue!==null?Zt.fromPartial(t.bigintValue):void 0,e.bigdecimalValue=t.bigdecimalValue!==void 0&&t.bigdecimalValue!==null?kl.fromPartial(t.bigdecimalValue):void 0,e.listValue=t.listValue!==void 0&&t.listValue!==null?St.fromPartial(t.listValue):void 0,e.structValue=t.structValue!==void 0&&t.structValue!==null?Eo.fromPartial(t.structValue):void 0,e}};function Ix(){return{fields:{}}}var Eo={encode(t,e=Ye.default.Writer.create()){return Object.entries(t.fields).forEach(([r,n])=>{qC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Ix();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=qC.decode(r,r.uint32());o.value!==void 0&&(i.fields[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:GZ(t.fields)?Object.entries(t.fields).reduce((e,[r,n])=>(e[r]=be.fromJSON(n),e),{}):{}}},toJSON(t){let e={};if(t.fields){let r=Object.entries(t.fields);r.length>0&&(e.fields={},r.forEach(([n,i])=>{e.fields[n]=be.toJSON(i)}))}return e},create(t){return Eo.fromPartial(t??{})},fromPartial(t){let e=Ix();return e.fields=Object.entries(t.fields??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=be.fromPartial(i)),r),{}),e}};function Ox(){return{key:"",value:void 0}}var qC={encode(t,e=Ye.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&be.encode(t.value,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Ox();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=be.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:kt(t.key)?globalThis.String(t.key):"",value:kt(t.value)?be.fromJSON(t.value):void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=be.toJSON(t.value)),e},create(t){return qC.fromPartial(t??{})},fromPartial(t){let e=Ox();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?be.fromPartial(t.value):void 0,e}};function Nx(){return{values:[]}}var St={encode(t,e=Ye.default.Writer.create()){for(let r of t.values)be.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Nx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.values.push(be.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{values:globalThis.Array.isArray(t?.values)?t.values.map(e=>be.fromJSON(e)):[]}},toJSON(t){let e={};return t.values?.length&&(e.values=t.values.map(r=>be.toJSON(r))),e},create(t){return St.fromPartial(t??{})},fromPartial(t){let e=Nx();return e.values=t.values?.map(r=>be.fromPartial(r))||[],e}};function Rx(){return{value:void 0,exp:0}}var kl={encode(t,e=Ye.default.Writer.create()){return t.value!==void 0&&Zt.encode(t.value,e.uint32(10).fork()).ldelim(),t.exp!==0&&e.uint32(16).int32(t.exp),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Rx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.value=Zt.decode(r,r.uint32());continue;case 2:if(a!==16)break;i.exp=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{value:kt(t.value)?Zt.fromJSON(t.value):void 0,exp:kt(t.exp)?globalThis.Number(t.exp):0}},toJSON(t){let e={};return t.value!==void 0&&(e.value=Zt.toJSON(t.value)),t.exp!==0&&(e.exp=Math.round(t.exp)),e},create(t){return kl.fromPartial(t??{})},fromPartial(t){let e=Rx();return e.value=t.value!==void 0&&t.value!==null?Zt.fromPartial(t.value):void 0,e.exp=t.exp??0,e}};function wx(){return{negative:!1,data:new Uint8Array(0)}}var Zt={encode(t,e=Ye.default.Writer.create()){return t.negative!==!1&&e.uint32(8).bool(t.negative),t.data.length!==0&&e.uint32(18).bytes(t.data),e},decode(t,e){let r=t instanceof Ye.default.Reader?t:Ye.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=wx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.negative=r.bool();continue;case 2:if(a!==18)break;i.data=r.bytes();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{negative:kt(t.negative)?globalThis.Boolean(t.negative):!1,data:kt(t.data)?Px(t.data):new Uint8Array(0)}},toJSON(t){let e={};return t.negative!==!1&&(e.negative=t.negative),t.data.length!==0&&(e.data=xx(t.data)),e},create(t){return Zt.fromPartial(t??{})},fromPartial(t){let e=wx();return e.negative=t.negative??!1,e.data=t.data??new Uint8Array(0),e}};function Px(t){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(t,"base64"));{let e=globalThis.atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}}function xx(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{let e=[];return t.forEach(r=>{e.push(globalThis.String.fromCharCode(r))}),globalThis.btoa(e.join(""))}}function JZ(t){let e=BigInt(Math.trunc(t.getTime()/1e3)),r=t.getTime()%1e3*1e6;return{seconds:e,nanos:r}}function Bx(t){let e=(globalThis.Number(t.seconds.toString())||0)*1e3;return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function WZ(t){return t instanceof globalThis.Date?t:typeof t=="string"?new globalThis.Date(t):Bx(Al.fromJSON(t))}Ye.default.util.Long!==Qt&&(Ye.default.util.Long=Qt,Ye.default.configure());function GZ(t){return typeof t=="object"&&t!==null}function kt(t){return t!=null}var Mn;(function(t){t[t.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",t[t.COUNTER=1]="COUNTER",t[t.GAUGE=2]="GAUGE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Mn||(Mn={}));function zZ(t){switch(t){case 0:case"UNKNOWN_TYPE":return Mn.UNKNOWN_TYPE;case 1:case"COUNTER":return Mn.COUNTER;case 2:case"GAUGE":return Mn.GAUGE;case 3:case"HISTOGRAM":return Mn.HISTOGRAM;case-1:case"UNRECOGNIZED":default:return Mn.UNRECOGNIZED}}function QZ(t){switch(t){case Mn.UNKNOWN_TYPE:return"UNKNOWN_TYPE";case Mn.COUNTER:return"COUNTER";case Mn.GAUGE:return"GAUGE";case Mn.HISTOGRAM:return"HISTOGRAM";case Mn.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var gr;(function(t){t[t.COUNT=0]="COUNT",t[t.SUM=1]="SUM",t[t.AVG=2]="AVG",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.LAST=5]="LAST",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(gr||(gr={}));function KZ(t){switch(t){case 0:case"COUNT":return gr.COUNT;case 1:case"SUM":return gr.SUM;case 2:case"AVG":return gr.AVG;case 3:case"MIN":return gr.MIN;case 4:case"MAX":return gr.MAX;case 5:case"LAST":return gr.LAST;case-1:case"UNRECOGNIZED":default:return gr.UNRECOGNIZED}}function ZZ(t){switch(t){case gr.COUNT:return"COUNT";case gr.SUM:return"SUM";case gr.AVG:return"AVG";case gr.MIN:return"MIN";case gr.MAX:return"MAX";case gr.LAST:return"LAST";case gr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ea;(function(t){t[t.ADDRESS=0]="ADDRESS",t[t.OBJECT=1]="OBJECT",t[t.WRAPPED_OBJECT=2]="WRAPPED_OBJECT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ea||(ea={}));function XZ(t){switch(t){case 0:case"ADDRESS":return ea.ADDRESS;case 1:case"OBJECT":return ea.OBJECT;case 2:case"WRAPPED_OBJECT":return ea.WRAPPED_OBJECT;case-1:case"UNRECOGNIZED":default:return ea.UNRECOGNIZED}}function YZ(t){switch(t){case ea.ADDRESS:return"ADDRESS";case ea.OBJECT:return"OBJECT";case ea.WRAPPED_OBJECT:return"WRAPPED_OBJECT";case ea.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ta;(function(t){t[t.ERC20=0]="ERC20",t[t.ERC721=1]="ERC721",t[t.ERC1155=2]="ERC1155",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ta||(ta={}));function $Z(t){switch(t){case 0:case"ERC20":return ta.ERC20;case 1:case"ERC721":return ta.ERC721;case 2:case"ERC1155":return ta.ERC1155;case-1:case"UNRECOGNIZED":default:return ta.UNRECOGNIZED}}function jZ(t){switch(t){case ta.ERC20:return"ERC20";case ta.ERC721:return"ERC721";case ta.ERC1155:return"ERC1155";case ta.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var Ae;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ETH_LOG=1]="ETH_LOG",t[t.ETH_BLOCK=2]="ETH_BLOCK",t[t.ETH_TRACE=5]="ETH_TRACE",t[t.ETH_TRANSACTION=11]="ETH_TRANSACTION",t[t.SOL_INSTRUCTION=4]="SOL_INSTRUCTION",t[t.APT_EVENT=6]="APT_EVENT",t[t.APT_CALL=7]="APT_CALL",t[t.APT_RESOURCE=8]="APT_RESOURCE",t[t.SUI_EVENT=3]="SUI_EVENT",t[t.SUI_CALL=9]="SUI_CALL",t[t.SUI_OBJECT=10]="SUI_OBJECT",t[t.SUI_OBJECT_CHANGE=12]="SUI_OBJECT_CHANGE",t[t.FUEL_CALL=13]="FUEL_CALL",t[t.FUEL_BLOCK=17]="FUEL_BLOCK",t[t.COSMOS_CALL=14]="COSMOS_CALL",t[t.STARKNET_EVENT=15]="STARKNET_EVENT",t[t.BTC_TRANSACTION=16]="BTC_TRANSACTION",t[t.BTC_BLOCK=18]="BTC_BLOCK",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Ae||(Ae={}));function eX(t){switch(t){case 0:case"UNKNOWN":return Ae.UNKNOWN;case 1:case"ETH_LOG":return Ae.ETH_LOG;case 2:case"ETH_BLOCK":return Ae.ETH_BLOCK;case 5:case"ETH_TRACE":return Ae.ETH_TRACE;case 11:case"ETH_TRANSACTION":return Ae.ETH_TRANSACTION;case 4:case"SOL_INSTRUCTION":return Ae.SOL_INSTRUCTION;case 6:case"APT_EVENT":return Ae.APT_EVENT;case 7:case"APT_CALL":return Ae.APT_CALL;case 8:case"APT_RESOURCE":return Ae.APT_RESOURCE;case 3:case"SUI_EVENT":return Ae.SUI_EVENT;case 9:case"SUI_CALL":return Ae.SUI_CALL;case 10:case"SUI_OBJECT":return Ae.SUI_OBJECT;case 12:case"SUI_OBJECT_CHANGE":return Ae.SUI_OBJECT_CHANGE;case 13:case"FUEL_CALL":return Ae.FUEL_CALL;case 17:case"FUEL_BLOCK":return Ae.FUEL_BLOCK;case 14:case"COSMOS_CALL":return Ae.COSMOS_CALL;case 15:case"STARKNET_EVENT":return Ae.STARKNET_EVENT;case 16:case"BTC_TRANSACTION":return Ae.BTC_TRANSACTION;case 18:case"BTC_BLOCK":return Ae.BTC_BLOCK;case-1:case"UNRECOGNIZED":default:return Ae.UNRECOGNIZED}}function tX(t){switch(t){case Ae.UNKNOWN:return"UNKNOWN";case Ae.ETH_LOG:return"ETH_LOG";case Ae.ETH_BLOCK:return"ETH_BLOCK";case Ae.ETH_TRACE:return"ETH_TRACE";case Ae.ETH_TRANSACTION:return"ETH_TRANSACTION";case Ae.SOL_INSTRUCTION:return"SOL_INSTRUCTION";case Ae.APT_EVENT:return"APT_EVENT";case Ae.APT_CALL:return"APT_CALL";case Ae.APT_RESOURCE:return"APT_RESOURCE";case Ae.SUI_EVENT:return"SUI_EVENT";case Ae.SUI_CALL:return"SUI_CALL";case Ae.SUI_OBJECT:return"SUI_OBJECT";case Ae.SUI_OBJECT_CHANGE:return"SUI_OBJECT_CHANGE";case Ae.FUEL_CALL:return"FUEL_CALL";case Ae.FUEL_BLOCK:return"FUEL_BLOCK";case Ae.COSMOS_CALL:return"COSMOS_CALL";case Ae.STARKNET_EVENT:return"STARKNET_EVENT";case Ae.BTC_TRANSACTION:return"BTC_TRANSACTION";case Ae.BTC_BLOCK:return"BTC_BLOCK";case Ae.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var Kr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARNING=2]="WARNING",t[t.ERROR=3]="ERROR",t[t.CRITICAL=4]="CRITICAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Kr||(Kr={}));function rX(t){switch(t){case 0:case"DEBUG":return Kr.DEBUG;case 1:case"INFO":return Kr.INFO;case 2:case"WARNING":return Kr.WARNING;case 3:case"ERROR":return Kr.ERROR;case 4:case"CRITICAL":return Kr.CRITICAL;case-1:case"UNRECOGNIZED":default:return Kr.UNRECOGNIZED}}function nX(t){switch(t){case Kr.DEBUG:return"DEBUG";case Kr.INFO:return"INFO";case Kr.WARNING:return"WARNING";case Kr.ERROR:return"ERROR";case Kr.CRITICAL:return"CRITICAL";case Kr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var Dx;(function(t){t[t.AVG=0]="AVG",t[t.MEDIAN=1]="MEDIAN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Dx||(Dx={}));var yr;(function(t){t[t.STRING=0]="STRING",t[t.DOUBLE=1]="DOUBLE",t[t.BOOL=2]="BOOL",t[t.TIMESTAMP=3]="TIMESTAMP",t[t.BIG_INTEGER=4]="BIG_INTEGER",t[t.BIG_DECIMAL=5]="BIG_DECIMAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(yr||(yr={}));function iX(t){switch(t){case 0:case"STRING":return yr.STRING;case 1:case"DOUBLE":return yr.DOUBLE;case 2:case"BOOL":return yr.BOOL;case 3:case"TIMESTAMP":return yr.TIMESTAMP;case 4:case"BIG_INTEGER":return yr.BIG_INTEGER;case 5:case"BIG_DECIMAL":return yr.BIG_DECIMAL;case-1:case"UNRECOGNIZED":default:return yr.UNRECOGNIZED}}function aX(t){switch(t){case yr.STRING:return"STRING";case yr.DOUBLE:return"DOUBLE";case yr.BOOL:return"BOOL";case yr.TIMESTAMP:return"TIMESTAMP";case yr.BIG_INTEGER:return"BIG_INTEGER";case yr.BIG_DECIMAL:return"BIG_DECIMAL";case yr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var Mx;(function(t){t[t.EQ=0]="EQ",t[t.NE=1]="NE",t[t.GT=2]="GT",t[t.GE=3]="GE",t[t.LT=4]="LT",t[t.LE=5]="LE",t[t.IN=6]="IN",t[t.NOT_IN=7]="NOT_IN",t[t.LIKE=8]="LIKE",t[t.NOT_LIKE=9]="NOT_LIKE",t[t.HAS_ALL=10]="HAS_ALL",t[t.HAS_ANY=11]="HAS_ANY",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Mx||(Mx={}));function Lx(){return{name:"",version:""}}var Il={encode(t,e=C.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.version!==""&&e.uint32(26).string(t.version),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Lx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 3:if(a!==26)break;i.version=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",version:I(t.version)?globalThis.String(t.version):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.version!==""&&(e.version=t.version),e},create(t){return Il.fromPartial(t??{})},fromPartial(t){let e=Lx();return e.name=t.name??"",e.version=t.version??"",e}};function Fx(){return{sequential:!1,forceExactBlockTime:!1,processBindingTimeout:0,skipStartBlockValidation:!1,rpcRetryTimes:0}}var Ol={encode(t,e=C.default.Writer.create()){return t.sequential!==!1&&e.uint32(8).bool(t.sequential),t.forceExactBlockTime!==!1&&e.uint32(16).bool(t.forceExactBlockTime),t.processBindingTimeout!==0&&e.uint32(24).int32(t.processBindingTimeout),t.skipStartBlockValidation!==!1&&e.uint32(32).bool(t.skipStartBlockValidation),t.rpcRetryTimes!==0&&e.uint32(40).int32(t.rpcRetryTimes),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Fx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.sequential=r.bool();continue;case 2:if(a!==16)break;i.forceExactBlockTime=r.bool();continue;case 3:if(a!==24)break;i.processBindingTimeout=r.int32();continue;case 4:if(a!==32)break;i.skipStartBlockValidation=r.bool();continue;case 5:if(a!==40)break;i.rpcRetryTimes=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{sequential:I(t.sequential)?globalThis.Boolean(t.sequential):!1,forceExactBlockTime:I(t.forceExactBlockTime)?globalThis.Boolean(t.forceExactBlockTime):!1,processBindingTimeout:I(t.processBindingTimeout)?globalThis.Number(t.processBindingTimeout):0,skipStartBlockValidation:I(t.skipStartBlockValidation)?globalThis.Boolean(t.skipStartBlockValidation):!1,rpcRetryTimes:I(t.rpcRetryTimes)?globalThis.Number(t.rpcRetryTimes):0}},toJSON(t){let e={};return t.sequential!==!1&&(e.sequential=t.sequential),t.forceExactBlockTime!==!1&&(e.forceExactBlockTime=t.forceExactBlockTime),t.processBindingTimeout!==0&&(e.processBindingTimeout=Math.round(t.processBindingTimeout)),t.skipStartBlockValidation!==!1&&(e.skipStartBlockValidation=t.skipStartBlockValidation),t.rpcRetryTimes!==0&&(e.rpcRetryTimes=Math.round(t.rpcRetryTimes)),e},create(t){return Ol.fromPartial(t??{})},fromPartial(t){let e=Fx();return e.sequential=t.sequential??!1,e.forceExactBlockTime=t.forceExactBlockTime??!1,e.processBindingTimeout=t.processBindingTimeout??0,e.skipStartBlockValidation=t.skipStartBlockValidation??!1,e.rpcRetryTimes=t.rpcRetryTimes??0,e}};function qx(){return{config:void 0,executionConfig:void 0,contractConfigs:[],templateInstances:[],accountConfigs:[],metricConfigs:[],eventTrackingConfigs:[],exportConfigs:[],eventLogConfigs:[],dbSchema:void 0}}var JC={encode(t,e=C.default.Writer.create()){t.config!==void 0&&Il.encode(t.config,e.uint32(10).fork()).ldelim(),t.executionConfig!==void 0&&Ol.encode(t.executionConfig,e.uint32(74).fork()).ldelim();for(let r of t.contractConfigs)Nl.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.templateInstances)Vl.encode(r,e.uint32(26).fork()).ldelim();for(let r of t.accountConfigs)ql.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.metricConfigs)Dl.encode(r,e.uint32(42).fork()).ldelim();for(let r of t.eventTrackingConfigs)xl.encode(r,e.uint32(50).fork()).ldelim();for(let r of t.exportConfigs)Bl.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.eventLogConfigs)Ml.encode(r,e.uint32(66).fork()).ldelim();return t.dbSchema!==void 0&&Rl.encode(t.dbSchema,e.uint32(82).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=qx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.config=Il.decode(r,r.uint32());continue;case 9:if(a!==74)break;i.executionConfig=Ol.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.contractConfigs.push(Nl.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.templateInstances.push(Vl.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.accountConfigs.push(ql.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.metricConfigs.push(Dl.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.eventTrackingConfigs.push(xl.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.exportConfigs.push(Bl.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.eventLogConfigs.push(Ml.decode(r,r.uint32()));continue;case 10:if(a!==82)break;i.dbSchema=Rl.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{config:I(t.config)?Il.fromJSON(t.config):void 0,executionConfig:I(t.executionConfig)?Ol.fromJSON(t.executionConfig):void 0,contractConfigs:globalThis.Array.isArray(t?.contractConfigs)?t.contractConfigs.map(e=>Nl.fromJSON(e)):[],templateInstances:globalThis.Array.isArray(t?.templateInstances)?t.templateInstances.map(e=>Vl.fromJSON(e)):[],accountConfigs:globalThis.Array.isArray(t?.accountConfigs)?t.accountConfigs.map(e=>ql.fromJSON(e)):[],metricConfigs:globalThis.Array.isArray(t?.metricConfigs)?t.metricConfigs.map(e=>Dl.fromJSON(e)):[],eventTrackingConfigs:globalThis.Array.isArray(t?.eventTrackingConfigs)?t.eventTrackingConfigs.map(e=>xl.fromJSON(e)):[],exportConfigs:globalThis.Array.isArray(t?.exportConfigs)?t.exportConfigs.map(e=>Bl.fromJSON(e)):[],eventLogConfigs:globalThis.Array.isArray(t?.eventLogConfigs)?t.eventLogConfigs.map(e=>Ml.fromJSON(e)):[],dbSchema:I(t.dbSchema)?Rl.fromJSON(t.dbSchema):void 0}},toJSON(t){let e={};return t.config!==void 0&&(e.config=Il.toJSON(t.config)),t.executionConfig!==void 0&&(e.executionConfig=Ol.toJSON(t.executionConfig)),t.contractConfigs?.length&&(e.contractConfigs=t.contractConfigs.map(r=>Nl.toJSON(r))),t.templateInstances?.length&&(e.templateInstances=t.templateInstances.map(r=>Vl.toJSON(r))),t.accountConfigs?.length&&(e.accountConfigs=t.accountConfigs.map(r=>ql.toJSON(r))),t.metricConfigs?.length&&(e.metricConfigs=t.metricConfigs.map(r=>Dl.toJSON(r))),t.eventTrackingConfigs?.length&&(e.eventTrackingConfigs=t.eventTrackingConfigs.map(r=>xl.toJSON(r))),t.exportConfigs?.length&&(e.exportConfigs=t.exportConfigs.map(r=>Bl.toJSON(r))),t.eventLogConfigs?.length&&(e.eventLogConfigs=t.eventLogConfigs.map(r=>Ml.toJSON(r))),t.dbSchema!==void 0&&(e.dbSchema=Rl.toJSON(t.dbSchema)),e},create(t){return JC.fromPartial(t??{})},fromPartial(t){let e=qx();return e.config=t.config!==void 0&&t.config!==null?Il.fromPartial(t.config):void 0,e.executionConfig=t.executionConfig!==void 0&&t.executionConfig!==null?Ol.fromPartial(t.executionConfig):void 0,e.contractConfigs=t.contractConfigs?.map(r=>Nl.fromPartial(r))||[],e.templateInstances=t.templateInstances?.map(r=>Vl.fromPartial(r))||[],e.accountConfigs=t.accountConfigs?.map(r=>ql.fromPartial(r))||[],e.metricConfigs=t.metricConfigs?.map(r=>Dl.fromPartial(r))||[],e.eventTrackingConfigs=t.eventTrackingConfigs?.map(r=>xl.fromPartial(r))||[],e.exportConfigs=t.exportConfigs?.map(r=>Bl.fromPartial(r))||[],e.eventLogConfigs=t.eventLogConfigs?.map(r=>Ml.fromPartial(r))||[],e.dbSchema=t.dbSchema!==void 0&&t.dbSchema!==null?Rl.fromPartial(t.dbSchema):void 0,e}};function Ux(){return{contract:void 0,intervalConfigs:[],logConfigs:[],traceConfigs:[],transactionConfig:[],moveEventConfigs:[],moveCallConfigs:[],moveResourceChangeConfigs:[],fuelCallConfigs:[],assetConfigs:[],fuelLogConfigs:[],cosmosLogConfigs:[],starknetEventConfigs:[],btcTransactionConfigs:[],instructionConfig:void 0,startBlock:BigInt("0"),endBlock:BigInt("0"),processorType:""}}var Nl={encode(t,e=C.default.Writer.create()){t.contract!==void 0&&ci.encode(t.contract,e.uint32(10).fork()).ldelim();for(let r of t.intervalConfigs)vr.encode(r,e.uint32(90).fork()).ldelim();for(let r of t.logConfigs)di.encode(r,e.uint32(26).fork()).ldelim();for(let r of t.traceConfigs)Jl.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.transactionConfig)Wl.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.moveEventConfigs)$l.encode(r,e.uint32(74).fork()).ldelim();for(let r of t.moveCallConfigs)hi.encode(r,e.uint32(82).fork()).ldelim();for(let r of t.moveResourceChangeConfigs)pi.encode(r,e.uint32(98).fork()).ldelim();for(let r of t.fuelCallConfigs)uc.encode(r,e.uint32(106).fork()).ldelim();for(let r of t.assetConfigs)Gl.encode(r,e.uint32(114).fork()).ldelim();for(let r of t.fuelLogConfigs)zl.encode(r,e.uint32(122).fork()).ldelim();for(let r of t.cosmosLogConfigs)Ql.encode(r,e.uint32(130).fork()).ldelim();for(let r of t.starknetEventConfigs)rc.encode(r,e.uint32(138).fork()).ldelim();for(let r of t.btcTransactionConfigs)nc.encode(r,e.uint32(146).fork()).ldelim();if(t.instructionConfig!==void 0&&Zl.encode(t.instructionConfig,e.uint32(50).fork()).ldelim(),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(32).uint64(t.startBlock.toString())}if(t.endBlock!==BigInt("0")){if(BigInt.asUintN(64,t.endBlock)!==t.endBlock)throw new globalThis.Error("value provided for field message.endBlock of type uint64 too large");e.uint32(40).uint64(t.endBlock.toString())}return t.processorType!==""&&e.uint32(66).string(t.processorType),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Ux();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contract=ci.decode(r,r.uint32());continue;case 11:if(a!==90)break;i.intervalConfigs.push(vr.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.logConfigs.push(di.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.traceConfigs.push(Jl.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.transactionConfig.push(Wl.decode(r,r.uint32()));continue;case 9:if(a!==74)break;i.moveEventConfigs.push($l.decode(r,r.uint32()));continue;case 10:if(a!==82)break;i.moveCallConfigs.push(hi.decode(r,r.uint32()));continue;case 12:if(a!==98)break;i.moveResourceChangeConfigs.push(pi.decode(r,r.uint32()));continue;case 13:if(a!==106)break;i.fuelCallConfigs.push(uc.decode(r,r.uint32()));continue;case 14:if(a!==114)break;i.assetConfigs.push(Gl.decode(r,r.uint32()));continue;case 15:if(a!==122)break;i.fuelLogConfigs.push(zl.decode(r,r.uint32()));continue;case 16:if(a!==130)break;i.cosmosLogConfigs.push(Ql.decode(r,r.uint32()));continue;case 17:if(a!==138)break;i.starknetEventConfigs.push(rc.decode(r,r.uint32()));continue;case 18:if(a!==146)break;i.btcTransactionConfigs.push(nc.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.instructionConfig=Zl.decode(r,r.uint32());continue;case 4:if(a!==32)break;i.startBlock=yc(r.uint64());continue;case 5:if(a!==40)break;i.endBlock=yc(r.uint64());continue;case 8:if(a!==66)break;i.processorType=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{contract:I(t.contract)?ci.fromJSON(t.contract):void 0,intervalConfigs:globalThis.Array.isArray(t?.intervalConfigs)?t.intervalConfigs.map(e=>vr.fromJSON(e)):[],logConfigs:globalThis.Array.isArray(t?.logConfigs)?t.logConfigs.map(e=>di.fromJSON(e)):[],traceConfigs:globalThis.Array.isArray(t?.traceConfigs)?t.traceConfigs.map(e=>Jl.fromJSON(e)):[],transactionConfig:globalThis.Array.isArray(t?.transactionConfig)?t.transactionConfig.map(e=>Wl.fromJSON(e)):[],moveEventConfigs:globalThis.Array.isArray(t?.moveEventConfigs)?t.moveEventConfigs.map(e=>$l.fromJSON(e)):[],moveCallConfigs:globalThis.Array.isArray(t?.moveCallConfigs)?t.moveCallConfigs.map(e=>hi.fromJSON(e)):[],moveResourceChangeConfigs:globalThis.Array.isArray(t?.moveResourceChangeConfigs)?t.moveResourceChangeConfigs.map(e=>pi.fromJSON(e)):[],fuelCallConfigs:globalThis.Array.isArray(t?.fuelCallConfigs)?t.fuelCallConfigs.map(e=>uc.fromJSON(e)):[],assetConfigs:globalThis.Array.isArray(t?.assetConfigs)?t.assetConfigs.map(e=>Gl.fromJSON(e)):[],fuelLogConfigs:globalThis.Array.isArray(t?.fuelLogConfigs)?t.fuelLogConfigs.map(e=>zl.fromJSON(e)):[],cosmosLogConfigs:globalThis.Array.isArray(t?.cosmosLogConfigs)?t.cosmosLogConfigs.map(e=>Ql.fromJSON(e)):[],starknetEventConfigs:globalThis.Array.isArray(t?.starknetEventConfigs)?t.starknetEventConfigs.map(e=>rc.fromJSON(e)):[],btcTransactionConfigs:globalThis.Array.isArray(t?.btcTransactionConfigs)?t.btcTransactionConfigs.map(e=>nc.fromJSON(e)):[],instructionConfig:I(t.instructionConfig)?Zl.fromJSON(t.instructionConfig):void 0,startBlock:I(t.startBlock)?BigInt(t.startBlock):BigInt("0"),endBlock:I(t.endBlock)?BigInt(t.endBlock):BigInt("0"),processorType:I(t.processorType)?globalThis.String(t.processorType):""}},toJSON(t){let e={};return t.contract!==void 0&&(e.contract=ci.toJSON(t.contract)),t.intervalConfigs?.length&&(e.intervalConfigs=t.intervalConfigs.map(r=>vr.toJSON(r))),t.logConfigs?.length&&(e.logConfigs=t.logConfigs.map(r=>di.toJSON(r))),t.traceConfigs?.length&&(e.traceConfigs=t.traceConfigs.map(r=>Jl.toJSON(r))),t.transactionConfig?.length&&(e.transactionConfig=t.transactionConfig.map(r=>Wl.toJSON(r))),t.moveEventConfigs?.length&&(e.moveEventConfigs=t.moveEventConfigs.map(r=>$l.toJSON(r))),t.moveCallConfigs?.length&&(e.moveCallConfigs=t.moveCallConfigs.map(r=>hi.toJSON(r))),t.moveResourceChangeConfigs?.length&&(e.moveResourceChangeConfigs=t.moveResourceChangeConfigs.map(r=>pi.toJSON(r))),t.fuelCallConfigs?.length&&(e.fuelCallConfigs=t.fuelCallConfigs.map(r=>uc.toJSON(r))),t.assetConfigs?.length&&(e.assetConfigs=t.assetConfigs.map(r=>Gl.toJSON(r))),t.fuelLogConfigs?.length&&(e.fuelLogConfigs=t.fuelLogConfigs.map(r=>zl.toJSON(r))),t.cosmosLogConfigs?.length&&(e.cosmosLogConfigs=t.cosmosLogConfigs.map(r=>Ql.toJSON(r))),t.starknetEventConfigs?.length&&(e.starknetEventConfigs=t.starknetEventConfigs.map(r=>rc.toJSON(r))),t.btcTransactionConfigs?.length&&(e.btcTransactionConfigs=t.btcTransactionConfigs.map(r=>nc.toJSON(r))),t.instructionConfig!==void 0&&(e.instructionConfig=Zl.toJSON(t.instructionConfig)),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.endBlock!==BigInt("0")&&(e.endBlock=t.endBlock.toString()),t.processorType!==""&&(e.processorType=t.processorType),e},create(t){return Nl.fromPartial(t??{})},fromPartial(t){let e=Ux();return e.contract=t.contract!==void 0&&t.contract!==null?ci.fromPartial(t.contract):void 0,e.intervalConfigs=t.intervalConfigs?.map(r=>vr.fromPartial(r))||[],e.logConfigs=t.logConfigs?.map(r=>di.fromPartial(r))||[],e.traceConfigs=t.traceConfigs?.map(r=>Jl.fromPartial(r))||[],e.transactionConfig=t.transactionConfig?.map(r=>Wl.fromPartial(r))||[],e.moveEventConfigs=t.moveEventConfigs?.map(r=>$l.fromPartial(r))||[],e.moveCallConfigs=t.moveCallConfigs?.map(r=>hi.fromPartial(r))||[],e.moveResourceChangeConfigs=t.moveResourceChangeConfigs?.map(r=>pi.fromPartial(r))||[],e.fuelCallConfigs=t.fuelCallConfigs?.map(r=>uc.fromPartial(r))||[],e.assetConfigs=t.assetConfigs?.map(r=>Gl.fromPartial(r))||[],e.fuelLogConfigs=t.fuelLogConfigs?.map(r=>zl.fromPartial(r))||[],e.cosmosLogConfigs=t.cosmosLogConfigs?.map(r=>Ql.fromPartial(r))||[],e.starknetEventConfigs=t.starknetEventConfigs?.map(r=>rc.fromPartial(r))||[],e.btcTransactionConfigs=t.btcTransactionConfigs?.map(r=>nc.fromPartial(r))||[],e.instructionConfig=t.instructionConfig!==void 0&&t.instructionConfig!==null?Zl.fromPartial(t.instructionConfig):void 0,e.startBlock=t.startBlock??BigInt("0"),e.endBlock=t.endBlock??BigInt("0"),e.processorType=t.processorType??"",e}};function Vx(){return{gqlSchema:""}}var Rl={encode(t,e=C.default.Writer.create()){return t.gqlSchema!==""&&e.uint32(10).string(t.gqlSchema),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Vx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.gqlSchema=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{gqlSchema:I(t.gqlSchema)?globalThis.String(t.gqlSchema):""}},toJSON(t){let e={};return t.gqlSchema!==""&&(e.gqlSchema=t.gqlSchema),e},create(t){return Rl.fromPartial(t??{})},fromPartial(t){let e=Vx();return e.gqlSchema=t.gqlSchema??"",e}};function Jx(){return{}}var wl={encode(t,e=C.default.Writer.create()){return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Jx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{}},toJSON(t){return{}},create(t){return wl.fromPartial(t??{})},fromPartial(t){return Jx()}};function Wx(){return{retentionEventName:"",days:0}}var Pl={encode(t,e=C.default.Writer.create()){return t.retentionEventName!==""&&e.uint32(18).string(t.retentionEventName),t.days!==0&&e.uint32(24).int32(t.days),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Wx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.retentionEventName=r.string();continue;case 3:if(a!==24)break;i.days=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{retentionEventName:I(t.retentionEventName)?globalThis.String(t.retentionEventName):"",days:I(t.days)?globalThis.Number(t.days):0}},toJSON(t){let e={};return t.retentionEventName!==""&&(e.retentionEventName=t.retentionEventName),t.days!==0&&(e.days=Math.round(t.days)),e},create(t){return Pl.fromPartial(t??{})},fromPartial(t){let e=Wx();return e.retentionEventName=t.retentionEventName??"",e.days=t.days??0,e}};function Gx(){return{eventName:"",totalByDay:!1,unique:!1,totalPerEntity:void 0,distinctAggregationByDays:[],retentionConfig:void 0}}var xl={encode(t,e=C.default.Writer.create()){t.eventName!==""&&e.uint32(10).string(t.eventName),t.totalByDay!==!1&&e.uint32(16).bool(t.totalByDay),t.unique!==!1&&e.uint32(24).bool(t.unique),t.totalPerEntity!==void 0&&wl.encode(t.totalPerEntity,e.uint32(34).fork()).ldelim(),e.uint32(42).fork();for(let r of t.distinctAggregationByDays)e.int32(r);return e.ldelim(),t.retentionConfig!==void 0&&Pl.encode(t.retentionConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Gx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.eventName=r.string();continue;case 2:if(a!==16)break;i.totalByDay=r.bool();continue;case 3:if(a!==24)break;i.unique=r.bool();continue;case 4:if(a!==34)break;i.totalPerEntity=wl.decode(r,r.uint32());continue;case 5:if(a===40){i.distinctAggregationByDays.push(r.int32());continue}if(a===42){let o=r.uint32()+r.pos;for(;r.pos<o;)i.distinctAggregationByDays.push(r.int32());continue}break;case 6:if(a!==50)break;i.retentionConfig=Pl.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{eventName:I(t.eventName)?globalThis.String(t.eventName):"",totalByDay:I(t.totalByDay)?globalThis.Boolean(t.totalByDay):!1,unique:I(t.unique)?globalThis.Boolean(t.unique):!1,totalPerEntity:I(t.totalPerEntity)?wl.fromJSON(t.totalPerEntity):void 0,distinctAggregationByDays:globalThis.Array.isArray(t?.distinctAggregationByDays)?t.distinctAggregationByDays.map(e=>globalThis.Number(e)):[],retentionConfig:I(t.retentionConfig)?Pl.fromJSON(t.retentionConfig):void 0}},toJSON(t){let e={};return t.eventName!==""&&(e.eventName=t.eventName),t.totalByDay!==!1&&(e.totalByDay=t.totalByDay),t.unique!==!1&&(e.unique=t.unique),t.totalPerEntity!==void 0&&(e.totalPerEntity=wl.toJSON(t.totalPerEntity)),t.distinctAggregationByDays?.length&&(e.distinctAggregationByDays=t.distinctAggregationByDays.map(r=>Math.round(r))),t.retentionConfig!==void 0&&(e.retentionConfig=Pl.toJSON(t.retentionConfig)),e},create(t){return xl.fromPartial(t??{})},fromPartial(t){let e=Gx();return e.eventName=t.eventName??"",e.totalByDay=t.totalByDay??!1,e.unique=t.unique??!1,e.totalPerEntity=t.totalPerEntity!==void 0&&t.totalPerEntity!==null?wl.fromPartial(t.totalPerEntity):void 0,e.distinctAggregationByDays=t.distinctAggregationByDays?.map(r=>r)||[],e.retentionConfig=t.retentionConfig!==void 0&&t.retentionConfig!==null?Pl.fromPartial(t.retentionConfig):void 0,e}};function Hx(){return{name:"",channel:""}}var Bl={encode(t,e=C.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.channel!==""&&e.uint32(18).string(t.channel),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Hx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.channel=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",channel:I(t.channel)?globalThis.String(t.channel):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.channel!==""&&(e.channel=t.channel),e},create(t){return Bl.fromPartial(t??{})},fromPartial(t){let e=Hx();return e.name=t.name??"",e.channel=t.channel??"",e}};function zx(){return{name:"",description:"",unit:"",sparse:!1,persistentBetweenVersion:!1,type:0,aggregationConfig:void 0}}var Dl={encode(t,e=C.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.description!==""&&e.uint32(26).string(t.description),t.unit!==""&&e.uint32(18).string(t.unit),t.sparse!==!1&&e.uint32(32).bool(t.sparse),t.persistentBetweenVersion!==!1&&e.uint32(40).bool(t.persistentBetweenVersion),t.type!==0&&e.uint32(56).int32(t.type),t.aggregationConfig!==void 0&&Fl.encode(t.aggregationConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=zx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 3:if(a!==26)break;i.description=r.string();continue;case 2:if(a!==18)break;i.unit=r.string();continue;case 4:if(a!==32)break;i.sparse=r.bool();continue;case 5:if(a!==40)break;i.persistentBetweenVersion=r.bool();continue;case 7:if(a!==56)break;i.type=r.int32();continue;case 6:if(a!==50)break;i.aggregationConfig=Fl.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",description:I(t.description)?globalThis.String(t.description):"",unit:I(t.unit)?globalThis.String(t.unit):"",sparse:I(t.sparse)?globalThis.Boolean(t.sparse):!1,persistentBetweenVersion:I(t.persistentBetweenVersion)?globalThis.Boolean(t.persistentBetweenVersion):!1,type:I(t.type)?zZ(t.type):0,aggregationConfig:I(t.aggregationConfig)?Fl.fromJSON(t.aggregationConfig):void 0}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.description!==""&&(e.description=t.description),t.unit!==""&&(e.unit=t.unit),t.sparse!==!1&&(e.sparse=t.sparse),t.persistentBetweenVersion!==!1&&(e.persistentBetweenVersion=t.persistentBetweenVersion),t.type!==0&&(e.type=QZ(t.type)),t.aggregationConfig!==void 0&&(e.aggregationConfig=Fl.toJSON(t.aggregationConfig)),e},create(t){return Dl.fromPartial(t??{})},fromPartial(t){let e=zx();return e.name=t.name??"",e.description=t.description??"",e.unit=t.unit??"",e.sparse=t.sparse??!1,e.persistentBetweenVersion=t.persistentBetweenVersion??!1,e.type=t.type??0,e.aggregationConfig=t.aggregationConfig!==void 0&&t.aggregationConfig!==null?Fl.fromPartial(t.aggregationConfig):void 0,e}};function Qx(){return{name:"",fields:[]}}var Ml={encode(t,e=C.default.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(let r of t.fields)li.encode(r,e.uint32(18).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Qx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.fields.push(li.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",fields:globalThis.Array.isArray(t?.fields)?t.fields.map(e=>li.fromJSON(e)):[]}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.fields?.length&&(e.fields=t.fields.map(r=>li.toJSON(r))),e},create(t){return Ml.fromPartial(t??{})},fromPartial(t){let e=Qx();return e.name=t.name??"",e.fields=t.fields?.map(r=>li.fromPartial(r))||[],e}};function Kx(){return{fields:[]}}var Ll={encode(t,e=C.default.Writer.create()){for(let r of t.fields)li.encode(r,e.uint32(18).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Kx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.fields.push(li.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:globalThis.Array.isArray(t?.fields)?t.fields.map(e=>li.fromJSON(e)):[]}},toJSON(t){let e={};return t.fields?.length&&(e.fields=t.fields.map(r=>li.toJSON(r))),e},create(t){return Ll.fromPartial(t??{})},fromPartial(t){let e=Kx();return e.fields=t.fields?.map(r=>li.fromPartial(r))||[],e}};function Zx(){return{name:"",basicType:void 0,coinType:void 0,structType:void 0}}var li={encode(t,e=C.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.basicType!==void 0&&e.uint32(16).int32(t.basicType),t.coinType!==void 0&&To.encode(t.coinType,e.uint32(26).fork()).ldelim(),t.structType!==void 0&&Ll.encode(t.structType,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Zx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==16)break;i.basicType=r.int32();continue;case 3:if(a!==26)break;i.coinType=To.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.structType=Ll.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",basicType:I(t.basicType)?iX(t.basicType):void 0,coinType:I(t.coinType)?To.fromJSON(t.coinType):void 0,structType:I(t.structType)?Ll.fromJSON(t.structType):void 0}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.basicType!==void 0&&(e.basicType=aX(t.basicType)),t.coinType!==void 0&&(e.coinType=To.toJSON(t.coinType)),t.structType!==void 0&&(e.structType=Ll.toJSON(t.structType)),e},create(t){return li.fromPartial(t??{})},fromPartial(t){let e=Zx();return e.name=t.name??"",e.basicType=t.basicType??void 0,e.coinType=t.coinType!==void 0&&t.coinType!==null?To.fromPartial(t.coinType):void 0,e.structType=t.structType!==void 0&&t.structType!==null?Ll.fromPartial(t.structType):void 0,e}};function Xx(){return{intervalInMinutes:[],types:[],discardOrigin:!1}}var Fl={encode(t,e=C.default.Writer.create()){e.uint32(10).fork();for(let r of t.intervalInMinutes)e.int32(r);e.ldelim(),e.uint32(18).fork();for(let r of t.types)e.int32(r);return e.ldelim(),t.discardOrigin!==!1&&e.uint32(24).bool(t.discardOrigin),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Xx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a===8){i.intervalInMinutes.push(r.int32());continue}if(a===10){let o=r.uint32()+r.pos;for(;r.pos<o;)i.intervalInMinutes.push(r.int32());continue}break;case 2:if(a===16){i.types.push(r.int32());continue}if(a===18){let o=r.uint32()+r.pos;for(;r.pos<o;)i.types.push(r.int32());continue}break;case 3:if(a!==24)break;i.discardOrigin=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{intervalInMinutes:globalThis.Array.isArray(t?.intervalInMinutes)?t.intervalInMinutes.map(e=>globalThis.Number(e)):[],types:globalThis.Array.isArray(t?.types)?t.types.map(e=>KZ(e)):[],discardOrigin:I(t.discardOrigin)?globalThis.Boolean(t.discardOrigin):!1}},toJSON(t){let e={};return t.intervalInMinutes?.length&&(e.intervalInMinutes=t.intervalInMinutes.map(r=>Math.round(r))),t.types?.length&&(e.types=t.types.map(r=>ZZ(r))),t.discardOrigin!==!1&&(e.discardOrigin=t.discardOrigin),e},create(t){return Fl.fromPartial(t??{})},fromPartial(t){let e=Xx();return e.intervalInMinutes=t.intervalInMinutes?.map(r=>r)||[],e.types=t.types?.map(r=>r)||[],e.discardOrigin=t.discardOrigin??!1,e}};function Yx(){return{chainId:"",address:"",startBlock:BigInt("0"),intervalConfigs:[],moveIntervalConfigs:[],moveCallConfigs:[],moveResourceChangeConfigs:[],logConfigs:[]}}var ql={encode(t,e=C.default.Writer.create()){if(t.chainId!==""&&e.uint32(10).string(t.chainId),t.address!==""&&e.uint32(18).string(t.address),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(24).uint64(t.startBlock.toString())}for(let r of t.intervalConfigs)vr.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.moveIntervalConfigs)Ul.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.moveCallConfigs)hi.encode(r,e.uint32(66).fork()).ldelim();for(let r of t.moveResourceChangeConfigs)pi.encode(r,e.uint32(74).fork()).ldelim();for(let r of t.logConfigs)di.encode(r,e.uint32(50).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=Yx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.chainId=r.string();continue;case 2:if(a!==18)break;i.address=r.string();continue;case 3:if(a!==24)break;i.startBlock=yc(r.uint64());continue;case 4:if(a!==34)break;i.intervalConfigs.push(vr.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.moveIntervalConfigs.push(Ul.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.moveCallConfigs.push(hi.decode(r,r.uint32()));continue;case 9:if(a!==74)break;i.moveResourceChangeConfigs.push(pi.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.logConfigs.push(di.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{chainId:I(t.chainId)?globalThis.String(t.chainId):"",address:I(t.address)?globalThis.String(t.address):"",startBlock:I(t.startBlock)?BigInt(t.startBlock):BigInt("0"),intervalConfigs:globalThis.Array.isArray(t?.intervalConfigs)?t.intervalConfigs.map(e=>vr.fromJSON(e)):[],moveIntervalConfigs:globalThis.Array.isArray(t?.moveIntervalConfigs)?t.moveIntervalConfigs.map(e=>Ul.fromJSON(e)):[],moveCallConfigs:globalThis.Array.isArray(t?.moveCallConfigs)?t.moveCallConfigs.map(e=>hi.fromJSON(e)):[],moveResourceChangeConfigs:globalThis.Array.isArray(t?.moveResourceChangeConfigs)?t.moveResourceChangeConfigs.map(e=>pi.fromJSON(e)):[],logConfigs:globalThis.Array.isArray(t?.logConfigs)?t.logConfigs.map(e=>di.fromJSON(e)):[]}},toJSON(t){let e={};return t.chainId!==""&&(e.chainId=t.chainId),t.address!==""&&(e.address=t.address),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.intervalConfigs?.length&&(e.intervalConfigs=t.intervalConfigs.map(r=>vr.toJSON(r))),t.moveIntervalConfigs?.length&&(e.moveIntervalConfigs=t.moveIntervalConfigs.map(r=>Ul.toJSON(r))),t.moveCallConfigs?.length&&(e.moveCallConfigs=t.moveCallConfigs.map(r=>hi.toJSON(r))),t.moveResourceChangeConfigs?.length&&(e.moveResourceChangeConfigs=t.moveResourceChangeConfigs.map(r=>pi.toJSON(r))),t.logConfigs?.length&&(e.logConfigs=t.logConfigs.map(r=>di.toJSON(r))),e},create(t){return ql.fromPartial(t??{})},fromPartial(t){let e=Yx();return e.chainId=t.chainId??"",e.address=t.address??"",e.startBlock=t.startBlock??BigInt("0"),e.intervalConfigs=t.intervalConfigs?.map(r=>vr.fromPartial(r))||[],e.moveIntervalConfigs=t.moveIntervalConfigs?.map(r=>Ul.fromPartial(r))||[],e.moveCallConfigs=t.moveCallConfigs?.map(r=>hi.fromPartial(r))||[],e.moveResourceChangeConfigs=t.moveResourceChangeConfigs?.map(r=>pi.fromPartial(r))||[],e.logConfigs=t.logConfigs?.map(r=>di.fromPartial(r))||[],e}};function $x(){return{recentInterval:0,backfillInterval:0}}var ui={encode(t,e=C.default.Writer.create()){return t.recentInterval!==0&&e.uint32(8).int32(t.recentInterval),t.backfillInterval!==0&&e.uint32(16).int32(t.backfillInterval),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=$x();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.recentInterval=r.int32();continue;case 2:if(a!==16)break;i.backfillInterval=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{recentInterval:I(t.recentInterval)?globalThis.Number(t.recentInterval):0,backfillInterval:I(t.backfillInterval)?globalThis.Number(t.backfillInterval):0}},toJSON(t){let e={};return t.recentInterval!==0&&(e.recentInterval=Math.round(t.recentInterval)),t.backfillInterval!==0&&(e.backfillInterval=Math.round(t.backfillInterval)),e},create(t){return ui.fromPartial(t??{})},fromPartial(t){let e=$x();return e.recentInterval=t.recentInterval??0,e.backfillInterval=t.backfillInterval??0,e}};function jx(){return{handlerId:0,minutes:0,minutesInterval:void 0,slot:0,slotInterval:void 0,fetchConfig:void 0}}var vr={encode(t,e=C.default.Writer.create()){return t.handlerId!==0&&e.uint32(8).int32(t.handlerId),t.minutes!==0&&e.uint32(16).int32(t.minutes),t.minutesInterval!==void 0&&ui.encode(t.minutesInterval,e.uint32(34).fork()).ldelim(),t.slot!==0&&e.uint32(24).int32(t.slot),t.slotInterval!==void 0&&ui.encode(t.slotInterval,e.uint32(42).fork()).ldelim(),t.fetchConfig!==void 0&&It.encode(t.fetchConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=jx();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.handlerId=r.int32();continue;case 2:if(a!==16)break;i.minutes=r.int32();continue;case 4:if(a!==34)break;i.minutesInterval=ui.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.slot=r.int32();continue;case 5:if(a!==42)break;i.slotInterval=ui.decode(r,r.uint32());continue;case 6:if(a!==50)break;i.fetchConfig=It.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,minutes:I(t.minutes)?globalThis.Number(t.minutes):0,minutesInterval:I(t.minutesInterval)?ui.fromJSON(t.minutesInterval):void 0,slot:I(t.slot)?globalThis.Number(t.slot):0,slotInterval:I(t.slotInterval)?ui.fromJSON(t.slotInterval):void 0,fetchConfig:I(t.fetchConfig)?It.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.minutes!==0&&(e.minutes=Math.round(t.minutes)),t.minutesInterval!==void 0&&(e.minutesInterval=ui.toJSON(t.minutesInterval)),t.slot!==0&&(e.slot=Math.round(t.slot)),t.slotInterval!==void 0&&(e.slotInterval=ui.toJSON(t.slotInterval)),t.fetchConfig!==void 0&&(e.fetchConfig=It.toJSON(t.fetchConfig)),e},create(t){return vr.fromPartial(t??{})},fromPartial(t){let e=jx();return e.handlerId=t.handlerId??0,e.minutes=t.minutes??0,e.minutesInterval=t.minutesInterval!==void 0&&t.minutesInterval!==null?ui.fromPartial(t.minutesInterval):void 0,e.slot=t.slot??0,e.slotInterval=t.slotInterval!==void 0&&t.slotInterval!==null?ui.fromPartial(t.slotInterval):void 0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?It.fromPartial(t.fetchConfig):void 0,e}};function eB(){return{intervalConfig:void 0,type:"",ownerType:0,fetchConfig:void 0}}var Ul={encode(t,e=C.default.Writer.create()){return t.intervalConfig!==void 0&&vr.encode(t.intervalConfig,e.uint32(10).fork()).ldelim(),t.type!==""&&e.uint32(18).string(t.type),t.ownerType!==0&&e.uint32(24).int32(t.ownerType),t.fetchConfig!==void 0&&Yl.encode(t.fetchConfig,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=eB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.intervalConfig=vr.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.type=r.string();continue;case 3:if(a!==24)break;i.ownerType=r.int32();continue;case 4:if(a!==34)break;i.fetchConfig=Yl.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{intervalConfig:I(t.intervalConfig)?vr.fromJSON(t.intervalConfig):void 0,type:I(t.type)?globalThis.String(t.type):"",ownerType:I(t.ownerType)?XZ(t.ownerType):0,fetchConfig:I(t.fetchConfig)?Yl.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.intervalConfig!==void 0&&(e.intervalConfig=vr.toJSON(t.intervalConfig)),t.type!==""&&(e.type=t.type),t.ownerType!==0&&(e.ownerType=YZ(t.ownerType)),t.fetchConfig!==void 0&&(e.fetchConfig=Yl.toJSON(t.fetchConfig)),e},create(t){return Ul.fromPartial(t??{})},fromPartial(t){let e=eB();return e.intervalConfig=t.intervalConfig!==void 0&&t.intervalConfig!==null?vr.fromPartial(t.intervalConfig):void 0,e.type=t.type??"",e.ownerType=t.ownerType??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Yl.fromPartial(t.fetchConfig):void 0,e}};function tB(){return{name:"",chainId:"",address:"",abi:""}}var ci={encode(t,e=C.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.chainId!==""&&e.uint32(18).string(t.chainId),t.address!==""&&e.uint32(26).string(t.address),t.abi!==""&&e.uint32(34).string(t.abi),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=tB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.chainId=r.string();continue;case 3:if(a!==26)break;i.address=r.string();continue;case 4:if(a!==34)break;i.abi=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:I(t.name)?globalThis.String(t.name):"",chainId:I(t.chainId)?globalThis.String(t.chainId):"",address:I(t.address)?globalThis.String(t.address):"",abi:I(t.abi)?globalThis.String(t.abi):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.chainId!==""&&(e.chainId=t.chainId),t.address!==""&&(e.address=t.address),t.abi!==""&&(e.abi=t.abi),e},create(t){return ci.fromPartial(t??{})},fromPartial(t){let e=tB();return e.name=t.name??"",e.chainId=t.chainId??"",e.address=t.address??"",e.abi=t.abi??"",e}};function rB(){return{contract:void 0,startBlock:BigInt("0"),endBlock:BigInt("0"),templateId:0,baseLabels:void 0}}var Vl={encode(t,e=C.default.Writer.create()){if(t.contract!==void 0&&ci.encode(t.contract,e.uint32(10).fork()).ldelim(),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(16).uint64(t.startBlock.toString())}if(t.endBlock!==BigInt("0")){if(BigInt.asUintN(64,t.endBlock)!==t.endBlock)throw new globalThis.Error("value provided for field message.endBlock of type uint64 too large");e.uint32(24).uint64(t.endBlock.toString())}return t.templateId!==0&&e.uint32(32).int32(t.templateId),t.baseLabels!==void 0&&wr.encode(wr.wrap(t.baseLabels),e.uint32(42).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=rB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contract=ci.decode(r,r.uint32());continue;case 2:if(a!==16)break;i.startBlock=yc(r.uint64());continue;case 3:if(a!==24)break;i.endBlock=yc(r.uint64());continue;case 4:if(a!==32)break;i.templateId=r.int32();continue;case 5:if(a!==42)break;i.baseLabels=wr.unwrap(wr.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{contract:I(t.contract)?ci.fromJSON(t.contract):void 0,startBlock:I(t.startBlock)?BigInt(t.startBlock):BigInt("0"),endBlock:I(t.endBlock)?BigInt(t.endBlock):BigInt("0"),templateId:I(t.templateId)?globalThis.Number(t.templateId):0,baseLabels:D0(t.baseLabels)?t.baseLabels:void 0}},toJSON(t){let e={};return t.contract!==void 0&&(e.contract=ci.toJSON(t.contract)),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.endBlock!==BigInt("0")&&(e.endBlock=t.endBlock.toString()),t.templateId!==0&&(e.templateId=Math.round(t.templateId)),t.baseLabels!==void 0&&(e.baseLabels=t.baseLabels),e},create(t){return Vl.fromPartial(t??{})},fromPartial(t){let e=rB();return e.contract=t.contract!==void 0&&t.contract!==null?ci.fromPartial(t.contract):void 0,e.startBlock=t.startBlock??BigInt("0"),e.endBlock=t.endBlock??BigInt("0"),e.templateId=t.templateId??0,e.baseLabels=t.baseLabels??void 0,e}};function nB(){return{transaction:!1,transactionReceipt:!1,transactionReceiptLogs:!1,block:!1,trace:!1}}var It={encode(t,e=C.default.Writer.create()){return t.transaction!==!1&&e.uint32(8).bool(t.transaction),t.transactionReceipt!==!1&&e.uint32(16).bool(t.transactionReceipt),t.transactionReceiptLogs!==!1&&e.uint32(40).bool(t.transactionReceiptLogs),t.block!==!1&&e.uint32(24).bool(t.block),t.trace!==!1&&e.uint32(32).bool(t.trace),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=nB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.transaction=r.bool();continue;case 2:if(a!==16)break;i.transactionReceipt=r.bool();continue;case 5:if(a!==40)break;i.transactionReceiptLogs=r.bool();continue;case 3:if(a!==24)break;i.block=r.bool();continue;case 4:if(a!==32)break;i.trace=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:I(t.transaction)?globalThis.Boolean(t.transaction):!1,transactionReceipt:I(t.transactionReceipt)?globalThis.Boolean(t.transactionReceipt):!1,transactionReceiptLogs:I(t.transactionReceiptLogs)?globalThis.Boolean(t.transactionReceiptLogs):!1,block:I(t.block)?globalThis.Boolean(t.block):!1,trace:I(t.trace)?globalThis.Boolean(t.trace):!1}},toJSON(t){let e={};return t.transaction!==!1&&(e.transaction=t.transaction),t.transactionReceipt!==!1&&(e.transactionReceipt=t.transactionReceipt),t.transactionReceiptLogs!==!1&&(e.transactionReceiptLogs=t.transactionReceiptLogs),t.block!==!1&&(e.block=t.block),t.trace!==!1&&(e.trace=t.trace),e},create(t){return It.fromPartial(t??{})},fromPartial(t){let e=nB();return e.transaction=t.transaction??!1,e.transactionReceipt=t.transactionReceipt??!1,e.transactionReceiptLogs=t.transactionReceiptLogs??!1,e.block=t.block??!1,e.trace=t.trace??!1,e}};function iB(){return{signature:"",handlerId:0,fetchConfig:void 0}}var Jl={encode(t,e=C.default.Writer.create()){return t.signature!==""&&e.uint32(10).string(t.signature),t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&It.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=iB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.signature=r.string();continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=It.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{signature:I(t.signature)?globalThis.String(t.signature):"",handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:I(t.fetchConfig)?It.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.signature!==""&&(e.signature=t.signature),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=It.toJSON(t.fetchConfig)),e},create(t){return Jl.fromPartial(t??{})},fromPartial(t){let e=iB();return e.signature=t.signature??"",e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?It.fromPartial(t.fetchConfig):void 0,e}};function aB(){return{handlerId:0,fetchConfig:void 0}}var Wl={encode(t,e=C.default.Writer.create()){return t.handlerId!==0&&e.uint32(8).int32(t.handlerId),t.fetchConfig!==void 0&&It.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=aB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=It.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:I(t.fetchConfig)?It.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=It.toJSON(t.fetchConfig)),e},create(t){return Wl.fromPartial(t??{})},fromPartial(t){let e=aB();return e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?It.fromPartial(t.fetchConfig):void 0,e}};function oB(){return{filters:[],handlerId:0,fetchConfig:void 0}}var di={encode(t,e=C.default.Writer.create()){for(let r of t.filters)Kl.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&It.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=oB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Kl.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=It.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Kl.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:I(t.fetchConfig)?It.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Kl.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=It.toJSON(t.fetchConfig)),e},create(t){return di.fromPartial(t??{})},fromPartial(t){let e=oB();return e.filters=t.filters?.map(r=>Kl.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?It.fromPartial(t.fetchConfig):void 0,e}};function sB(){return{filters:[],handlerId:0}}var Gl={encode(t,e=C.default.Writer.create()){for(let r of t.filters)Hl.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=sB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Hl.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Hl.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Hl.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Gl.fromPartial(t??{})},fromPartial(t){let e=sB();return e.filters=t.filters?.map(r=>Hl.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function uB(){return{assetId:void 0,fromAddress:void 0,toAddress:void 0}}var Hl={encode(t,e=C.default.Writer.create()){return t.assetId!==void 0&&e.uint32(10).string(t.assetId),t.fromAddress!==void 0&&e.uint32(18).string(t.fromAddress),t.toAddress!==void 0&&e.uint32(26).string(t.toAddress),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=uB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.assetId=r.string();continue;case 2:if(a!==18)break;i.fromAddress=r.string();continue;case 3:if(a!==26)break;i.toAddress=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{assetId:I(t.assetId)?globalThis.String(t.assetId):void 0,fromAddress:I(t.fromAddress)?globalThis.String(t.fromAddress):void 0,toAddress:I(t.toAddress)?globalThis.String(t.toAddress):void 0}},toJSON(t){let e={};return t.assetId!==void 0&&(e.assetId=t.assetId),t.fromAddress!==void 0&&(e.fromAddress=t.fromAddress),t.toAddress!==void 0&&(e.toAddress=t.toAddress),e},create(t){return Hl.fromPartial(t??{})},fromPartial(t){let e=uB();return e.assetId=t.assetId??void 0,e.fromAddress=t.fromAddress??void 0,e.toAddress=t.toAddress??void 0,e}};function lB(){return{logIds:[],handlerId:0}}var zl={encode(t,e=C.default.Writer.create()){for(let r of t.logIds)e.uint32(10).string(r);return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=lB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.logIds.push(r.string());continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{logIds:globalThis.Array.isArray(t?.logIds)?t.logIds.map(e=>globalThis.String(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.logIds?.length&&(e.logIds=t.logIds),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return zl.fromPartial(t??{})},fromPartial(t){let e=lB();return e.logIds=t.logIds?.map(r=>r)||[],e.handlerId=t.handlerId??0,e}};function cB(){return{logFilters:[],handlerId:0}}var Ql={encode(t,e=C.default.Writer.create()){for(let r of t.logFilters)e.uint32(10).string(r);return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=cB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.logFilters.push(r.string());continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{logFilters:globalThis.Array.isArray(t?.logFilters)?t.logFilters.map(e=>globalThis.String(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.logFilters?.length&&(e.logFilters=t.logFilters),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Ql.fromPartial(t??{})},fromPartial(t){let e=cB();return e.logFilters=t.logFilters?.map(r=>r)||[],e.handlerId=t.handlerId??0,e}};function dB(){return{topics:[],address:void 0,addressType:void 0}}var Kl={encode(t,e=C.default.Writer.create()){for(let r of t.topics)lc.encode(r,e.uint32(10).fork()).ldelim();return t.address!==void 0&&e.uint32(18).string(t.address),t.addressType!==void 0&&e.uint32(24).int32(t.addressType),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=dB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.topics.push(lc.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.address=r.string();continue;case 3:if(a!==24)break;i.addressType=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{topics:globalThis.Array.isArray(t?.topics)?t.topics.map(e=>lc.fromJSON(e)):[],address:I(t.address)?globalThis.String(t.address):void 0,addressType:I(t.addressType)?$Z(t.addressType):void 0}},toJSON(t){let e={};return t.topics?.length&&(e.topics=t.topics.map(r=>lc.toJSON(r))),t.address!==void 0&&(e.address=t.address),t.addressType!==void 0&&(e.addressType=jZ(t.addressType)),e},create(t){return Kl.fromPartial(t??{})},fromPartial(t){let e=dB();return e.topics=t.topics?.map(r=>lc.fromPartial(r))||[],e.address=t.address??void 0,e.addressType=t.addressType??void 0,e}};function fB(){return{innerInstruction:!1,parsedInstruction:!1,rawDataInstruction:!1}}var Zl={encode(t,e=C.default.Writer.create()){return t.innerInstruction!==!1&&e.uint32(8).bool(t.innerInstruction),t.parsedInstruction!==!1&&e.uint32(16).bool(t.parsedInstruction),t.rawDataInstruction!==!1&&e.uint32(24).bool(t.rawDataInstruction),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=fB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.innerInstruction=r.bool();continue;case 2:if(a!==16)break;i.parsedInstruction=r.bool();continue;case 3:if(a!==24)break;i.rawDataInstruction=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{innerInstruction:I(t.innerInstruction)?globalThis.Boolean(t.innerInstruction):!1,parsedInstruction:I(t.parsedInstruction)?globalThis.Boolean(t.parsedInstruction):!1,rawDataInstruction:I(t.rawDataInstruction)?globalThis.Boolean(t.rawDataInstruction):!1}},toJSON(t){let e={};return t.innerInstruction!==!1&&(e.innerInstruction=t.innerInstruction),t.parsedInstruction!==!1&&(e.parsedInstruction=t.parsedInstruction),t.rawDataInstruction!==!1&&(e.rawDataInstruction=t.rawDataInstruction),e},create(t){return Zl.fromPartial(t??{})},fromPartial(t){let e=fB();return e.innerInstruction=t.innerInstruction??!1,e.parsedInstruction=t.parsedInstruction??!1,e.rawDataInstruction=t.rawDataInstruction??!1,e}};function hB(){return{moveTypePrefix:""}}var Xl={encode(t,e=C.default.Writer.create()){return t.moveTypePrefix!==""&&e.uint32(10).string(t.moveTypePrefix),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=hB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.moveTypePrefix=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{moveTypePrefix:I(t.moveTypePrefix)?globalThis.String(t.moveTypePrefix):""}},toJSON(t){let e={};return t.moveTypePrefix!==""&&(e.moveTypePrefix=t.moveTypePrefix),e},create(t){return Xl.fromPartial(t??{})},fromPartial(t){let e=hB();return e.moveTypePrefix=t.moveTypePrefix??"",e}};function pB(){return{resourceChanges:!1,allEvents:!1,inputs:!1,resourceConfig:void 0,supportMultisigFunc:void 0}}var fi={encode(t,e=C.default.Writer.create()){return t.resourceChanges!==!1&&e.uint32(8).bool(t.resourceChanges),t.allEvents!==!1&&e.uint32(16).bool(t.allEvents),t.inputs!==!1&&e.uint32(32).bool(t.inputs),t.resourceConfig!==void 0&&Xl.encode(t.resourceConfig,e.uint32(26).fork()).ldelim(),t.supportMultisigFunc!==void 0&&e.uint32(40).bool(t.supportMultisigFunc),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=pB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.resourceChanges=r.bool();continue;case 2:if(a!==16)break;i.allEvents=r.bool();continue;case 4:if(a!==32)break;i.inputs=r.bool();continue;case 3:if(a!==26)break;i.resourceConfig=Xl.decode(r,r.uint32());continue;case 5:if(a!==40)break;i.supportMultisigFunc=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{resourceChanges:I(t.resourceChanges)?globalThis.Boolean(t.resourceChanges):!1,allEvents:I(t.allEvents)?globalThis.Boolean(t.allEvents):!1,inputs:I(t.inputs)?globalThis.Boolean(t.inputs):!1,resourceConfig:I(t.resourceConfig)?Xl.fromJSON(t.resourceConfig):void 0,supportMultisigFunc:I(t.supportMultisigFunc)?globalThis.Boolean(t.supportMultisigFunc):void 0}},toJSON(t){let e={};return t.resourceChanges!==!1&&(e.resourceChanges=t.resourceChanges),t.allEvents!==!1&&(e.allEvents=t.allEvents),t.inputs!==!1&&(e.inputs=t.inputs),t.resourceConfig!==void 0&&(e.resourceConfig=Xl.toJSON(t.resourceConfig)),t.supportMultisigFunc!==void 0&&(e.supportMultisigFunc=t.supportMultisigFunc),e},create(t){return fi.fromPartial(t??{})},fromPartial(t){let e=pB();return e.resourceChanges=t.resourceChanges??!1,e.allEvents=t.allEvents??!1,e.inputs=t.inputs??!1,e.resourceConfig=t.resourceConfig!==void 0&&t.resourceConfig!==null?Xl.fromPartial(t.resourceConfig):void 0,e.supportMultisigFunc=t.supportMultisigFunc??void 0,e}};function mB(){return{owned:!1}}var Yl={encode(t,e=C.default.Writer.create()){return t.owned!==!1&&e.uint32(8).bool(t.owned),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=mB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.owned=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{owned:I(t.owned)?globalThis.Boolean(t.owned):!1}},toJSON(t){let e={};return t.owned!==!1&&(e.owned=t.owned),e},create(t){return Yl.fromPartial(t??{})},fromPartial(t){let e=mB();return e.owned=t.owned??!1,e}};function gB(){return{filters:[],handlerId:0,fetchConfig:void 0}}var $l={encode(t,e=C.default.Writer.create()){for(let r of t.filters)jl.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&fi.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=gB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(jl.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=fi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>jl.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:I(t.fetchConfig)?fi.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>jl.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=fi.toJSON(t.fetchConfig)),e},create(t){return $l.fromPartial(t??{})},fromPartial(t){let e=gB();return e.filters=t.filters?.map(r=>jl.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?fi.fromPartial(t.fetchConfig):void 0,e}};function yB(){return{type:"",account:""}}var jl={encode(t,e=C.default.Writer.create()){return t.type!==""&&e.uint32(10).string(t.type),t.account!==""&&e.uint32(18).string(t.account),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=yB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.type=r.string();continue;case 2:if(a!==18)break;i.account=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{type:I(t.type)?globalThis.String(t.type):"",account:I(t.account)?globalThis.String(t.account):""}},toJSON(t){let e={};return t.type!==""&&(e.type=t.type),t.account!==""&&(e.account=t.account),e},create(t){return jl.fromPartial(t??{})},fromPartial(t){let e=yB();return e.type=t.type??"",e.account=t.account??"",e}};function vB(){return{filters:[],handlerId:0,fetchConfig:void 0}}var hi={encode(t,e=C.default.Writer.create()){for(let r of t.filters)ec.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&fi.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=vB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(ec.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=fi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>ec.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:I(t.fetchConfig)?fi.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>ec.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=fi.toJSON(t.fetchConfig)),e},create(t){return hi.fromPartial(t??{})},fromPartial(t){let e=vB();return e.filters=t.filters?.map(r=>ec.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?fi.fromPartial(t.fetchConfig):void 0,e}};function bB(){return{type:"",handlerId:0}}var pi={encode(t,e=C.default.Writer.create()){return t.type!==""&&e.uint32(10).string(t.type),t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=bB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.type=r.string();continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{type:I(t.type)?globalThis.String(t.type):"",handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.type!==""&&(e.type=t.type),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return pi.fromPartial(t??{})},fromPartial(t){let e=bB();return e.type=t.type??"",e.handlerId=t.handlerId??0,e}};function SB(){return{function:"",typeArguments:[],withTypeArguments:!1,includeFailed:!1,publicKeyPrefix:"",fromAndToAddress:void 0}}var ec={encode(t,e=C.default.Writer.create()){t.function!==""&&e.uint32(10).string(t.function);for(let r of t.typeArguments)e.uint32(18).string(r);return t.withTypeArguments!==!1&&e.uint32(24).bool(t.withTypeArguments),t.includeFailed!==!1&&e.uint32(32).bool(t.includeFailed),t.publicKeyPrefix!==""&&e.uint32(42).string(t.publicKeyPrefix),t.fromAndToAddress!==void 0&&tc.encode(t.fromAndToAddress,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=SB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.function=r.string();continue;case 2:if(a!==18)break;i.typeArguments.push(r.string());continue;case 3:if(a!==24)break;i.withTypeArguments=r.bool();continue;case 4:if(a!==32)break;i.includeFailed=r.bool();continue;case 5:if(a!==42)break;i.publicKeyPrefix=r.string();continue;case 6:if(a!==50)break;i.fromAndToAddress=tc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{function:I(t.function)?globalThis.String(t.function):"",typeArguments:globalThis.Array.isArray(t?.typeArguments)?t.typeArguments.map(e=>globalThis.String(e)):[],withTypeArguments:I(t.withTypeArguments)?globalThis.Boolean(t.withTypeArguments):!1,includeFailed:I(t.includeFailed)?globalThis.Boolean(t.includeFailed):!1,publicKeyPrefix:I(t.publicKeyPrefix)?globalThis.String(t.publicKeyPrefix):"",fromAndToAddress:I(t.fromAndToAddress)?tc.fromJSON(t.fromAndToAddress):void 0}},toJSON(t){let e={};return t.function!==""&&(e.function=t.function),t.typeArguments?.length&&(e.typeArguments=t.typeArguments),t.withTypeArguments!==!1&&(e.withTypeArguments=t.withTypeArguments),t.includeFailed!==!1&&(e.includeFailed=t.includeFailed),t.publicKeyPrefix!==""&&(e.publicKeyPrefix=t.publicKeyPrefix),t.fromAndToAddress!==void 0&&(e.fromAndToAddress=tc.toJSON(t.fromAndToAddress)),e},create(t){return ec.fromPartial(t??{})},fromPartial(t){let e=SB();return e.function=t.function??"",e.typeArguments=t.typeArguments?.map(r=>r)||[],e.withTypeArguments=t.withTypeArguments??!1,e.includeFailed=t.includeFailed??!1,e.publicKeyPrefix=t.publicKeyPrefix??"",e.fromAndToAddress=t.fromAndToAddress!==void 0&&t.fromAndToAddress!==null?tc.fromPartial(t.fromAndToAddress):void 0,e}};function _B(){return{from:"",to:""}}var tc={encode(t,e=C.default.Writer.create()){return t.from!==""&&e.uint32(10).string(t.from),t.to!==""&&e.uint32(18).string(t.to),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=_B();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.from=r.string();continue;case 2:if(a!==18)break;i.to=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{from:I(t.from)?globalThis.String(t.from):"",to:I(t.to)?globalThis.String(t.to):""}},toJSON(t){let e={};return t.from!==""&&(e.from=t.from),t.to!==""&&(e.to=t.to),e},create(t){return tc.fromPartial(t??{})},fromPartial(t){let e=_B();return e.from=t.from??"",e.to=t.to??"",e}};function EB(){return{filters:[],handlerId:0}}var rc={encode(t,e=C.default.Writer.create()){for(let r of t.filters)oc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=EB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(oc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>oc.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>oc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return rc.fromPartial(t??{})},fromPartial(t){let e=EB();return e.filters=t.filters?.map(r=>oc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function TB(){return{filters:[],handlerId:0}}var nc={encode(t,e=C.default.Writer.create()){for(let r of t.filters)mi.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=TB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(mi.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>mi.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>mi.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return nc.fromPartial(t??{})},fromPartial(t){let e=TB();return e.filters=t.filters?.map(r=>mi.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function AB(){return{inputFilter:void 0,outputFilter:void 0,filter:[]}}var mi={encode(t,e=C.default.Writer.create()){t.inputFilter!==void 0&&ic.encode(t.inputFilter,e.uint32(10).fork()).ldelim(),t.outputFilter!==void 0&&ac.encode(t.outputFilter,e.uint32(18).fork()).ldelim();for(let r of t.filter)br.encode(r,e.uint32(26).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=AB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.inputFilter=ic.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.outputFilter=ac.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.filter.push(br.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{inputFilter:I(t.inputFilter)?ic.fromJSON(t.inputFilter):void 0,outputFilter:I(t.outputFilter)?ac.fromJSON(t.outputFilter):void 0,filter:globalThis.Array.isArray(t?.filter)?t.filter.map(e=>br.fromJSON(e)):[]}},toJSON(t){let e={};return t.inputFilter!==void 0&&(e.inputFilter=ic.toJSON(t.inputFilter)),t.outputFilter!==void 0&&(e.outputFilter=ac.toJSON(t.outputFilter)),t.filter?.length&&(e.filter=t.filter.map(r=>br.toJSON(r))),e},create(t){return mi.fromPartial(t??{})},fromPartial(t){let e=AB();return e.inputFilter=t.inputFilter!==void 0&&t.inputFilter!==null?ic.fromPartial(t.inputFilter):void 0,e.outputFilter=t.outputFilter!==void 0&&t.outputFilter!==null?ac.fromPartial(t.outputFilter):void 0,e.filter=t.filter?.map(r=>br.fromPartial(r))||[],e}};function CB(){return{eq:void 0,gt:void 0,gte:void 0,lt:void 0,lte:void 0,ne:void 0,prefix:void 0,contains:void 0,notContains:void 0,lengthEq:void 0,lengthGt:void 0,lengthLt:void 0,hasAny:void 0,hasAll:void 0,in:void 0}}var Ma={encode(t,e=C.default.Writer.create()){return t.eq!==void 0&&be.encode(t.eq,e.uint32(10).fork()).ldelim(),t.gt!==void 0&&be.encode(t.gt,e.uint32(18).fork()).ldelim(),t.gte!==void 0&&be.encode(t.gte,e.uint32(26).fork()).ldelim(),t.lt!==void 0&&be.encode(t.lt,e.uint32(34).fork()).ldelim(),t.lte!==void 0&&be.encode(t.lte,e.uint32(42).fork()).ldelim(),t.ne!==void 0&&be.encode(t.ne,e.uint32(50).fork()).ldelim(),t.prefix!==void 0&&e.uint32(58).string(t.prefix),t.contains!==void 0&&e.uint32(66).string(t.contains),t.notContains!==void 0&&e.uint32(74).string(t.notContains),t.lengthEq!==void 0&&e.uint32(80).int32(t.lengthEq),t.lengthGt!==void 0&&e.uint32(88).int32(t.lengthGt),t.lengthLt!==void 0&&e.uint32(96).int32(t.lengthLt),t.hasAny!==void 0&&St.encode(t.hasAny,e.uint32(106).fork()).ldelim(),t.hasAll!==void 0&&St.encode(t.hasAll,e.uint32(114).fork()).ldelim(),t.in!==void 0&&St.encode(t.in,e.uint32(122).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=CB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.eq=be.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.gt=be.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.gte=be.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.lt=be.decode(r,r.uint32());continue;case 5:if(a!==42)break;i.lte=be.decode(r,r.uint32());continue;case 6:if(a!==50)break;i.ne=be.decode(r,r.uint32());continue;case 7:if(a!==58)break;i.prefix=r.string();continue;case 8:if(a!==66)break;i.contains=r.string();continue;case 9:if(a!==74)break;i.notContains=r.string();continue;case 10:if(a!==80)break;i.lengthEq=r.int32();continue;case 11:if(a!==88)break;i.lengthGt=r.int32();continue;case 12:if(a!==96)break;i.lengthLt=r.int32();continue;case 13:if(a!==106)break;i.hasAny=St.decode(r,r.uint32());continue;case 14:if(a!==114)break;i.hasAll=St.decode(r,r.uint32());continue;case 15:if(a!==122)break;i.in=St.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{eq:I(t.eq)?be.fromJSON(t.eq):void 0,gt:I(t.gt)?be.fromJSON(t.gt):void 0,gte:I(t.gte)?be.fromJSON(t.gte):void 0,lt:I(t.lt)?be.fromJSON(t.lt):void 0,lte:I(t.lte)?be.fromJSON(t.lte):void 0,ne:I(t.ne)?be.fromJSON(t.ne):void 0,prefix:I(t.prefix)?globalThis.String(t.prefix):void 0,contains:I(t.contains)?globalThis.String(t.contains):void 0,notContains:I(t.notContains)?globalThis.String(t.notContains):void 0,lengthEq:I(t.lengthEq)?globalThis.Number(t.lengthEq):void 0,lengthGt:I(t.lengthGt)?globalThis.Number(t.lengthGt):void 0,lengthLt:I(t.lengthLt)?globalThis.Number(t.lengthLt):void 0,hasAny:I(t.hasAny)?St.fromJSON(t.hasAny):void 0,hasAll:I(t.hasAll)?St.fromJSON(t.hasAll):void 0,in:I(t.in)?St.fromJSON(t.in):void 0}},toJSON(t){let e={};return t.eq!==void 0&&(e.eq=be.toJSON(t.eq)),t.gt!==void 0&&(e.gt=be.toJSON(t.gt)),t.gte!==void 0&&(e.gte=be.toJSON(t.gte)),t.lt!==void 0&&(e.lt=be.toJSON(t.lt)),t.lte!==void 0&&(e.lte=be.toJSON(t.lte)),t.ne!==void 0&&(e.ne=be.toJSON(t.ne)),t.prefix!==void 0&&(e.prefix=t.prefix),t.contains!==void 0&&(e.contains=t.contains),t.notContains!==void 0&&(e.notContains=t.notContains),t.lengthEq!==void 0&&(e.lengthEq=Math.round(t.lengthEq)),t.lengthGt!==void 0&&(e.lengthGt=Math.round(t.lengthGt)),t.lengthLt!==void 0&&(e.lengthLt=Math.round(t.lengthLt)),t.hasAny!==void 0&&(e.hasAny=St.toJSON(t.hasAny)),t.hasAll!==void 0&&(e.hasAll=St.toJSON(t.hasAll)),t.in!==void 0&&(e.in=St.toJSON(t.in)),e},create(t){return Ma.fromPartial(t??{})},fromPartial(t){let e=CB();return e.eq=t.eq!==void 0&&t.eq!==null?be.fromPartial(t.eq):void 0,e.gt=t.gt!==void 0&&t.gt!==null?be.fromPartial(t.gt):void 0,e.gte=t.gte!==void 0&&t.gte!==null?be.fromPartial(t.gte):void 0,e.lt=t.lt!==void 0&&t.lt!==null?be.fromPartial(t.lt):void 0,e.lte=t.lte!==void 0&&t.lte!==null?be.fromPartial(t.lte):void 0,e.ne=t.ne!==void 0&&t.ne!==null?be.fromPartial(t.ne):void 0,e.prefix=t.prefix??void 0,e.contains=t.contains??void 0,e.notContains=t.notContains??void 0,e.lengthEq=t.lengthEq??void 0,e.lengthGt=t.lengthGt??void 0,e.lengthLt=t.lengthLt??void 0,e.hasAny=t.hasAny!==void 0&&t.hasAny!==null?St.fromPartial(t.hasAny):void 0,e.hasAll=t.hasAll!==void 0&&t.hasAll!==null?St.fromPartial(t.hasAll):void 0,e.in=t.in!==void 0&&t.in!==null?St.fromPartial(t.in):void 0,e}};function kB(){return{conditions:{}}}var br={encode(t,e=C.default.Writer.create()){return Object.entries(t.conditions).forEach(([r,n])=>{UC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=kB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=UC.decode(r,r.uint32());o.value!==void 0&&(i.conditions[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{conditions:D0(t.conditions)?Object.entries(t.conditions).reduce((e,[r,n])=>(e[r]=Ma.fromJSON(n),e),{}):{}}},toJSON(t){let e={};if(t.conditions){let r=Object.entries(t.conditions);r.length>0&&(e.conditions={},r.forEach(([n,i])=>{e.conditions[n]=Ma.toJSON(i)}))}return e},create(t){return br.fromPartial(t??{})},fromPartial(t){let e=kB();return e.conditions=Object.entries(t.conditions??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=Ma.fromPartial(i)),r),{}),e}};function IB(){return{key:"",value:void 0}}var UC={encode(t,e=C.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&Ma.encode(t.value,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=IB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=Ma.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:I(t.key)?globalThis.String(t.key):"",value:I(t.value)?Ma.fromJSON(t.value):void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=Ma.toJSON(t.value)),e},create(t){return UC.fromPartial(t??{})},fromPartial(t){let e=IB();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?Ma.fromPartial(t.value):void 0,e}};function OB(){return{filters:[]}}var gi={encode(t,e=C.default.Writer.create()){for(let r of t.filters)br.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=OB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(br.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>br.fromJSON(e)):[]}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>br.toJSON(r))),e},create(t){return gi.fromPartial(t??{})},fromPartial(t){let e=OB();return e.filters=t.filters?.map(r=>br.fromPartial(r))||[],e}};function NB(){return{filters:void 0,preVOut:void 0,preTransaction:void 0}}var ic={encode(t,e=C.default.Writer.create()){return t.filters!==void 0&&gi.encode(t.filters,e.uint32(10).fork()).ldelim(),t.preVOut!==void 0&&br.encode(t.preVOut,e.uint32(18).fork()).ldelim(),t.preTransaction!==void 0&&mi.encode(t.preTransaction,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=NB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters=gi.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.preVOut=br.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.preTransaction=mi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:I(t.filters)?gi.fromJSON(t.filters):void 0,preVOut:I(t.preVOut)?br.fromJSON(t.preVOut):void 0,preTransaction:I(t.preTransaction)?mi.fromJSON(t.preTransaction):void 0}},toJSON(t){let e={};return t.filters!==void 0&&(e.filters=gi.toJSON(t.filters)),t.preVOut!==void 0&&(e.preVOut=br.toJSON(t.preVOut)),t.preTransaction!==void 0&&(e.preTransaction=mi.toJSON(t.preTransaction)),e},create(t){return ic.fromPartial(t??{})},fromPartial(t){let e=NB();return e.filters=t.filters!==void 0&&t.filters!==null?gi.fromPartial(t.filters):void 0,e.preVOut=t.preVOut!==void 0&&t.preVOut!==null?br.fromPartial(t.preVOut):void 0,e.preTransaction=t.preTransaction!==void 0&&t.preTransaction!==null?mi.fromPartial(t.preTransaction):void 0,e}};function RB(){return{filters:void 0}}var ac={encode(t,e=C.default.Writer.create()){return t.filters!==void 0&&gi.encode(t.filters,e.uint32(10).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=RB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters=gi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:I(t.filters)?gi.fromJSON(t.filters):void 0}},toJSON(t){let e={};return t.filters!==void 0&&(e.filters=gi.toJSON(t.filters)),e},create(t){return ac.fromPartial(t??{})},fromPartial(t){let e=RB();return e.filters=t.filters!==void 0&&t.filters!==null?gi.fromPartial(t.filters):void 0,e}};function wB(){return{address:"",keys:[]}}var oc={encode(t,e=C.default.Writer.create()){t.address!==""&&e.uint32(10).string(t.address);for(let r of t.keys)e.uint32(18).string(r);return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=wB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 2:if(a!==18)break;i.keys.push(r.string());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:I(t.address)?globalThis.String(t.address):"",keys:globalThis.Array.isArray(t?.keys)?t.keys.map(e=>globalThis.String(e)):[]}},toJSON(t){let e={};return t.address!==""&&(e.address=t.address),t.keys?.length&&(e.keys=t.keys),e},create(t){return oc.fromPartial(t??{})},fromPartial(t){let e=wB();return e.address=t.address??"",e.keys=t.keys?.map(r=>r)||[],e}};function PB(){return{function:"",includeFailed:!1}}var sc={encode(t,e=C.default.Writer.create()){return t.function!==""&&e.uint32(10).string(t.function),t.includeFailed!==!1&&e.uint32(16).bool(t.includeFailed),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=PB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.function=r.string();continue;case 2:if(a!==16)break;i.includeFailed=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{function:I(t.function)?globalThis.String(t.function):"",includeFailed:I(t.includeFailed)?globalThis.Boolean(t.includeFailed):!1}},toJSON(t){let e={};return t.function!==""&&(e.function=t.function),t.includeFailed!==!1&&(e.includeFailed=t.includeFailed),e},create(t){return sc.fromPartial(t??{})},fromPartial(t){let e=PB();return e.function=t.function??"",e.includeFailed=t.includeFailed??!1,e}};function xB(){return{filters:[],handlerId:0}}var uc={encode(t,e=C.default.Writer.create()){for(let r of t.filters)sc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=xB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(sc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>sc.fromJSON(e)):[],handlerId:I(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>sc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return uc.fromPartial(t??{})},fromPartial(t){let e=xB();return e.filters=t.filters?.map(r=>sc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function BB(){return{hashes:[]}}var lc={encode(t,e=C.default.Writer.create()){for(let r of t.hashes)e.uint32(10).string(r);return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=BB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.hashes.push(r.string());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{hashes:globalThis.Array.isArray(t?.hashes)?t.hashes.map(e=>globalThis.String(e)):[]}},toJSON(t){let e={};return t.hashes?.length&&(e.hashes=t.hashes),e},create(t){return lc.fromPartial(t??{})},fromPartial(t){let e=BB();return e.hashes=t.hashes?.map(r=>r)||[],e}};function DB(){return{configUpdated:!1,error:void 0}}var cc={encode(t,e=C.default.Writer.create()){return t.configUpdated!==!1&&e.uint32(8).bool(t.configUpdated),t.error!==void 0&&e.uint32(18).string(t.error),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=DB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.configUpdated=r.bool();continue;case 2:if(a!==18)break;i.error=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{configUpdated:I(t.configUpdated)?globalThis.Boolean(t.configUpdated):!1,error:I(t.error)?globalThis.String(t.error):void 0}},toJSON(t){let e={};return t.configUpdated!==!1&&(e.configUpdated=t.configUpdated),t.error!==void 0&&(e.error=t.error),e},create(t){return cc.fromPartial(t??{})},fromPartial(t){let e=DB();return e.configUpdated=t.configUpdated??!1,e.error=t.error??void 0,e}};function MB(){return{gauges:[],counters:[],events:[],exports:[],states:void 0}}var cm={encode(t,e=C.default.Writer.create()){for(let r of t.gauges)hc.encode(r,e.uint32(10).fork()).ldelim();for(let r of t.counters)pc.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.events)mc.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.exports)gc.encode(r,e.uint32(42).fork()).ldelim();return t.states!==void 0&&cc.encode(t.states,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=MB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.gauges.push(hc.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.counters.push(pc.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.events.push(mc.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.exports.push(gc.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.states=cc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{gauges:globalThis.Array.isArray(t?.gauges)?t.gauges.map(e=>hc.fromJSON(e)):[],counters:globalThis.Array.isArray(t?.counters)?t.counters.map(e=>pc.fromJSON(e)):[],events:globalThis.Array.isArray(t?.events)?t.events.map(e=>mc.fromJSON(e)):[],exports:globalThis.Array.isArray(t?.exports)?t.exports.map(e=>gc.fromJSON(e)):[],states:I(t.states)?cc.fromJSON(t.states):void 0}},toJSON(t){let e={};return t.gauges?.length&&(e.gauges=t.gauges.map(r=>hc.toJSON(r))),t.counters?.length&&(e.counters=t.counters.map(r=>pc.toJSON(r))),t.events?.length&&(e.events=t.events.map(r=>mc.toJSON(r))),t.exports?.length&&(e.exports=t.exports.map(r=>gc.toJSON(r))),t.states!==void 0&&(e.states=cc.toJSON(t.states)),e},create(t){return cm.fromPartial(t??{})},fromPartial(t){let e=MB();return e.gauges=t.gauges?.map(r=>hc.fromPartial(r))||[],e.counters=t.counters?.map(r=>pc.fromPartial(r))||[],e.events=t.events?.map(r=>mc.fromPartial(r))||[],e.exports=t.exports?.map(r=>gc.fromPartial(r))||[],e.states=t.states!==void 0&&t.states!==null?cc.fromPartial(t.states):void 0,e}};function LB(){return{context:void 0,calldata:""}}var dc={encode(t,e=C.default.Writer.create()){return t.context!==void 0&&fc.encode(t.context,e.uint32(10).fork()).ldelim(),t.calldata!==""&&e.uint32(18).string(t.calldata),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=LB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.context=fc.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.calldata=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{context:I(t.context)?fc.fromJSON(t.context):void 0,calldata:I(t.calldata)?globalThis.String(t.calldata):""}},toJSON(t){let e={};return t.context!==void 0&&(e.context=fc.toJSON(t.context)),t.calldata!==""&&(e.calldata=t.calldata),e},create(t){return dc.fromPartial(t??{})},fromPartial(t){let e=LB();return e.context=t.context!==void 0&&t.context!==null?fc.fromPartial(t.context):void 0,e.calldata=t.calldata??"",e}};function FB(){return{chainId:"",address:"",blockTag:""}}var fc={encode(t,e=C.default.Writer.create()){return t.chainId!==""&&e.uint32(10).string(t.chainId),t.address!==""&&e.uint32(18).string(t.address),t.blockTag!==""&&e.uint32(26).string(t.blockTag),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=FB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.chainId=r.string();continue;case 2:if(a!==18)break;i.address=r.string();continue;case 3:if(a!==26)break;i.blockTag=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{chainId:I(t.chainId)?globalThis.String(t.chainId):"",address:I(t.address)?globalThis.String(t.address):"",blockTag:I(t.blockTag)?globalThis.String(t.blockTag):""}},toJSON(t){let e={};return t.chainId!==""&&(e.chainId=t.chainId),t.address!==""&&(e.address=t.address),t.blockTag!==""&&(e.blockTag=t.blockTag),e},create(t){return fc.fromPartial(t??{})},fromPartial(t){let e=FB();return e.chainId=t.chainId??"",e.address=t.address??"",e.blockTag=t.blockTag??"",e}};function qB(){return{ethCallParams:[]}}var WC={encode(t,e=C.default.Writer.create()){for(let r of t.ethCallParams)dc.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=qB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.ethCallParams.push(dc.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{ethCallParams:globalThis.Array.isArray(t?.ethCallParams)?t.ethCallParams.map(e=>dc.fromJSON(e)):[]}},toJSON(t){let e={};return t.ethCallParams?.length&&(e.ethCallParams=t.ethCallParams.map(r=>dc.toJSON(r))),e},create(t){return WC.fromPartial(t??{})},fromPartial(t){let e=qB();return e.ethCallParams=t.ethCallParams?.map(r=>dc.fromPartial(r))||[],e}};function UB(){return{address:"",contractName:"",blockNumber:BigInt("0"),transactionHash:"",chainId:"",transactionIndex:0,logIndex:0,name:"",labels:{}}}var Ot={encode(t,e=C.default.Writer.create()){if(t.address!==""&&e.uint32(10).string(t.address),t.contractName!==""&&e.uint32(74).string(t.contractName),t.blockNumber!==BigInt("0")){if(BigInt.asUintN(64,t.blockNumber)!==t.blockNumber)throw new globalThis.Error("value provided for field message.blockNumber of type uint64 too large");e.uint32(16).uint64(t.blockNumber.toString())}return t.transactionHash!==""&&e.uint32(50).string(t.transactionHash),t.chainId!==""&&e.uint32(42).string(t.chainId),t.transactionIndex!==0&&e.uint32(24).int32(t.transactionIndex),t.logIndex!==0&&e.uint32(32).int32(t.logIndex),t.name!==""&&e.uint32(82).string(t.name),Object.entries(t.labels).forEach(([r,n])=>{VC.encode({key:r,value:n},e.uint32(58).fork()).ldelim()}),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=UB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 9:if(a!==74)break;i.contractName=r.string();continue;case 2:if(a!==16)break;i.blockNumber=yc(r.uint64());continue;case 6:if(a!==50)break;i.transactionHash=r.string();continue;case 5:if(a!==42)break;i.chainId=r.string();continue;case 3:if(a!==24)break;i.transactionIndex=r.int32();continue;case 4:if(a!==32)break;i.logIndex=r.int32();continue;case 10:if(a!==82)break;i.name=r.string();continue;case 7:if(a!==58)break;let o=VC.decode(r,r.uint32());o.value!==void 0&&(i.labels[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:I(t.address)?globalThis.String(t.address):"",contractName:I(t.contractName)?globalThis.String(t.contractName):"",blockNumber:I(t.blockNumber)?BigInt(t.blockNumber):BigInt("0"),transactionHash:I(t.transactionHash)?globalThis.String(t.transactionHash):"",chainId:I(t.chainId)?globalThis.String(t.chainId):"",transactionIndex:I(t.transactionIndex)?globalThis.Number(t.transactionIndex):0,logIndex:I(t.logIndex)?globalThis.Number(t.logIndex):0,name:I(t.name)?globalThis.String(t.name):"",labels:D0(t.labels)?Object.entries(t.labels).reduce((e,[r,n])=>(e[r]=String(n),e),{}):{}}},toJSON(t){let e={};if(t.address!==""&&(e.address=t.address),t.contractName!==""&&(e.contractName=t.contractName),t.blockNumber!==BigInt("0")&&(e.blockNumber=t.blockNumber.toString()),t.transactionHash!==""&&(e.transactionHash=t.transactionHash),t.chainId!==""&&(e.chainId=t.chainId),t.transactionIndex!==0&&(e.transactionIndex=Math.round(t.transactionIndex)),t.logIndex!==0&&(e.logIndex=Math.round(t.logIndex)),t.name!==""&&(e.name=t.name),t.labels){let r=Object.entries(t.labels);r.length>0&&(e.labels={},r.forEach(([n,i])=>{e.labels[n]=i}))}return e},create(t){return Ot.fromPartial(t??{})},fromPartial(t){let e=UB();return e.address=t.address??"",e.contractName=t.contractName??"",e.blockNumber=t.blockNumber??BigInt("0"),e.transactionHash=t.transactionHash??"",e.chainId=t.chainId??"",e.transactionIndex=t.transactionIndex??0,e.logIndex=t.logIndex??0,e.name=t.name??"",e.labels=Object.entries(t.labels??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=globalThis.String(i)),r),{}),e}};function VB(){return{key:"",value:""}}var VC={encode(t,e=C.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==""&&e.uint32(18).string(t.value),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=VB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:I(t.key)?globalThis.String(t.key):"",value:I(t.value)?globalThis.String(t.value):""}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==""&&(e.value=t.value),e},create(t){return VC.fromPartial(t??{})},fromPartial(t){let e=VB();return e.key=t.key??"",e.value=t.value??"",e}};function JB(){return{bigDecimal:void 0,doubleValue:void 0,bigInteger:void 0}}var yi={encode(t,e=C.default.Writer.create()){return t.bigDecimal!==void 0&&e.uint32(10).string(t.bigDecimal),t.doubleValue!==void 0&&e.uint32(17).double(t.doubleValue),t.bigInteger!==void 0&&Zt.encode(t.bigInteger,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=JB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.bigDecimal=r.string();continue;case 2:if(a!==17)break;i.doubleValue=r.double();continue;case 3:if(a!==26)break;i.bigInteger=Zt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{bigDecimal:I(t.bigDecimal)?globalThis.String(t.bigDecimal):void 0,doubleValue:I(t.doubleValue)?globalThis.Number(t.doubleValue):void 0,bigInteger:I(t.bigInteger)?Zt.fromJSON(t.bigInteger):void 0}},toJSON(t){let e={};return t.bigDecimal!==void 0&&(e.bigDecimal=t.bigDecimal),t.doubleValue!==void 0&&(e.doubleValue=t.doubleValue),t.bigInteger!==void 0&&(e.bigInteger=Zt.toJSON(t.bigInteger)),e},create(t){return yi.fromPartial(t??{})},fromPartial(t){let e=JB();return e.bigDecimal=t.bigDecimal??void 0,e.doubleValue=t.doubleValue??void 0,e.bigInteger=t.bigInteger!==void 0&&t.bigInteger!==null?Zt.fromPartial(t.bigInteger):void 0,e}};function WB(){return{from:0}}var Nt={encode(t,e=C.default.Writer.create()){return t.from!==0&&e.uint32(8).int32(t.from),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=WB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.from=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{from:I(t.from)?eX(t.from):0}},toJSON(t){let e={};return t.from!==0&&(e.from=tX(t.from)),e},create(t){return Nt.fromPartial(t??{})},fromPartial(t){let e=WB();return e.from=t.from??0,e}};function GB(){return{metadata:void 0,metricValue:void 0,runtimeInfo:void 0}}var hc={encode(t,e=C.default.Writer.create()){return t.metadata!==void 0&&Ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.metricValue!==void 0&&yi.encode(t.metricValue,e.uint32(18).fork()).ldelim(),t.runtimeInfo!==void 0&&Nt.encode(t.runtimeInfo,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=GB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=Ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.metricValue=yi.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.runtimeInfo=Nt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:I(t.metadata)?Ot.fromJSON(t.metadata):void 0,metricValue:I(t.metricValue)?yi.fromJSON(t.metricValue):void 0,runtimeInfo:I(t.runtimeInfo)?Nt.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=Ot.toJSON(t.metadata)),t.metricValue!==void 0&&(e.metricValue=yi.toJSON(t.metricValue)),t.runtimeInfo!==void 0&&(e.runtimeInfo=Nt.toJSON(t.runtimeInfo)),e},create(t){return hc.fromPartial(t??{})},fromPartial(t){let e=GB();return e.metadata=t.metadata!==void 0&&t.metadata!==null?Ot.fromPartial(t.metadata):void 0,e.metricValue=t.metricValue!==void 0&&t.metricValue!==null?yi.fromPartial(t.metricValue):void 0,e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?Nt.fromPartial(t.runtimeInfo):void 0,e}};function HB(){return{metadata:void 0,metricValue:void 0,add:!1,runtimeInfo:void 0}}var pc={encode(t,e=C.default.Writer.create()){return t.metadata!==void 0&&Ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.metricValue!==void 0&&yi.encode(t.metricValue,e.uint32(18).fork()).ldelim(),t.add!==!1&&e.uint32(24).bool(t.add),t.runtimeInfo!==void 0&&Nt.encode(t.runtimeInfo,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=HB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=Ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.metricValue=yi.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.add=r.bool();continue;case 4:if(a!==34)break;i.runtimeInfo=Nt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:I(t.metadata)?Ot.fromJSON(t.metadata):void 0,metricValue:I(t.metricValue)?yi.fromJSON(t.metricValue):void 0,add:I(t.add)?globalThis.Boolean(t.add):!1,runtimeInfo:I(t.runtimeInfo)?Nt.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=Ot.toJSON(t.metadata)),t.metricValue!==void 0&&(e.metricValue=yi.toJSON(t.metricValue)),t.add!==!1&&(e.add=t.add),t.runtimeInfo!==void 0&&(e.runtimeInfo=Nt.toJSON(t.runtimeInfo)),e},create(t){return pc.fromPartial(t??{})},fromPartial(t){let e=HB();return e.metadata=t.metadata!==void 0&&t.metadata!==null?Ot.fromPartial(t.metadata):void 0,e.metricValue=t.metricValue!==void 0&&t.metricValue!==null?yi.fromPartial(t.metricValue):void 0,e.add=t.add??!1,e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?Nt.fromPartial(t.runtimeInfo):void 0,e}};function zB(){return{metadata:void 0,distinctEntityId:"",attributes:void 0,severity:0,message:"",runtimeInfo:void 0,noMetric:!1}}var mc={encode(t,e=C.default.Writer.create()){return t.metadata!==void 0&&Ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.distinctEntityId!==""&&e.uint32(18).string(t.distinctEntityId),t.attributes!==void 0&&wr.encode(wr.wrap(t.attributes),e.uint32(50).fork()).ldelim(),t.severity!==0&&e.uint32(56).int32(t.severity),t.message!==""&&e.uint32(66).string(t.message),t.runtimeInfo!==void 0&&Nt.encode(t.runtimeInfo,e.uint32(42).fork()).ldelim(),t.noMetric!==!1&&e.uint32(24).bool(t.noMetric),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=zB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=Ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.distinctEntityId=r.string();continue;case 6:if(a!==50)break;i.attributes=wr.unwrap(wr.decode(r,r.uint32()));continue;case 7:if(a!==56)break;i.severity=r.int32();continue;case 8:if(a!==66)break;i.message=r.string();continue;case 5:if(a!==42)break;i.runtimeInfo=Nt.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.noMetric=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:I(t.metadata)?Ot.fromJSON(t.metadata):void 0,distinctEntityId:I(t.distinctEntityId)?globalThis.String(t.distinctEntityId):"",attributes:D0(t.attributes)?t.attributes:void 0,severity:I(t.severity)?rX(t.severity):0,message:I(t.message)?globalThis.String(t.message):"",runtimeInfo:I(t.runtimeInfo)?Nt.fromJSON(t.runtimeInfo):void 0,noMetric:I(t.noMetric)?globalThis.Boolean(t.noMetric):!1}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=Ot.toJSON(t.metadata)),t.distinctEntityId!==""&&(e.distinctEntityId=t.distinctEntityId),t.attributes!==void 0&&(e.attributes=t.attributes),t.severity!==0&&(e.severity=nX(t.severity)),t.message!==""&&(e.message=t.message),t.runtimeInfo!==void 0&&(e.runtimeInfo=Nt.toJSON(t.runtimeInfo)),t.noMetric!==!1&&(e.noMetric=t.noMetric),e},create(t){return mc.fromPartial(t??{})},fromPartial(t){let e=zB();return e.metadata=t.metadata!==void 0&&t.metadata!==null?Ot.fromPartial(t.metadata):void 0,e.distinctEntityId=t.distinctEntityId??"",e.attributes=t.attributes??void 0,e.severity=t.severity??0,e.message=t.message??"",e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?Nt.fromPartial(t.runtimeInfo):void 0,e.noMetric=t.noMetric??!1,e}};function QB(){return{metadata:void 0,payload:"",runtimeInfo:void 0}}var gc={encode(t,e=C.default.Writer.create()){return t.metadata!==void 0&&Ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.payload!==""&&e.uint32(18).string(t.payload),t.runtimeInfo!==void 0&&Nt.encode(t.runtimeInfo,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof C.default.Reader?t:C.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=QB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=Ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.payload=r.string();continue;case 3:if(a!==26)break;i.runtimeInfo=Nt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:I(t.metadata)?Ot.fromJSON(t.metadata):void 0,payload:I(t.payload)?globalThis.String(t.payload):"",runtimeInfo:I(t.runtimeInfo)?Nt.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=Ot.toJSON(t.metadata)),t.payload!==""&&(e.payload=t.payload),t.runtimeInfo!==void 0&&(e.runtimeInfo=Nt.toJSON(t.runtimeInfo)),e},create(t){return gc.fromPartial(t??{})},fromPartial(t){let e=QB();return e.metadata=t.metadata!==void 0&&t.metadata!==null?Ot.fromPartial(t.metadata):void 0,e.payload=t.payload??"",e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?Nt.fromPartial(t.runtimeInfo):void 0,e}};function yc(t){return BigInt(t.toString())}C.default.util.Long!==Qt&&(C.default.util.Long=Qt,C.default.configure());function D0(t){return typeof t=="object"&&t!==null}function I(t){return t!=null}import{AsyncLocalStorage as oX}from"async_hooks";var KB=class{name;supportedHandlers=[];async configure(e){}async start(e){}stateDiff(e){return!1}async processBinding(e,r){return cm.create()}async preprocessBinding(e,r){return WC.create()}},GC=class{dbContextLocalStorage=new oX;plugins=[];typesToPlugin=new Map;register(e){if(!this.plugins.find(r=>r.name===e.name)){this.plugins.push(e);for(let r of e.supportedHandlers){let n=this.typesToPlugin.get(r);if(n)throw new Error(`Duplicate plugin for ${r}: ${n.name} and ${e.name}`);this.typesToPlugin.set(r,e)}}}configure(e){return Promise.all(this.plugins.map(r=>r.configure(e)))}start(e){return Promise.all(this.plugins.map(r=>r.start(e)))}stateDiff(e){return this.plugins.some(r=>r.stateDiff(e))}processBinding(e,r,n){let i=this.typesToPlugin.get(e.handlerType);if(!i)throw new Error(`No plugin for ${e.handlerType}`);return this.dbContextLocalStorage.run(n,()=>i.processBinding(e,r))}preprocessBinding(e,r,n){let i=this.typesToPlugin.get(e.handlerType);if(!i)throw new Error(`No plugin for ${e.handlerType}`);return this.dbContextLocalStorage.run(n,()=>i.preprocessBinding(e,r))}},La=GC;Yi(La,"INSTANCE",new GC);process.stdout.write("");var S=tr(Rr(),1);var M0=tr(Rr(),1);function ZB(){return{}}var dm={encode(t,e=M0.default.Writer.create()){return e},decode(t,e){let r=t instanceof M0.default.Reader?t:M0.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ZB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{}},toJSON(t){return{}},create(t){return dm.fromPartial(t??{})},fromPartial(t){return ZB()}};process.stdout.write("");var mn=tr(Rr(),1);function sX(t){switch(t){case 0:case"NULL_VALUE":return 0;case-1:case"UNRECOGNIZED":default:return-1}}function uX(t){switch(t){case 0:return"NULL_VALUE";case-1:default:return"UNRECOGNIZED"}}function HC(){return{fields:{}}}var R={encode(t,e=mn.default.Writer.create()){return Object.entries(t.fields).forEach(([r,n])=>{n!==void 0&&KC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof mn.default.Reader?t:mn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=HC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=KC.decode(r,r.uint32());o.value!==void 0&&(i.fields[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:YB(t.fields)?Object.entries(t.fields).reduce((e,[r,n])=>(e[r]=n,e),{}):{}}},toJSON(t){let e={};if(t.fields){let r=Object.entries(t.fields);r.length>0&&(e.fields={},r.forEach(([n,i])=>{e.fields[n]=i}))}return e},create(t){return R.fromPartial(t??{})},fromPartial(t){let e=HC();return e.fields=Object.entries(t.fields??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=i),r),{}),e},wrap(t){let e=HC();if(t!==void 0)for(let r of Object.keys(t))e.fields[r]=t[r];return e},unwrap(t){let e={};if(t.fields)for(let r of Object.keys(t.fields))e[r]=t.fields[r];return e}};function XB(){return{key:"",value:void 0}}var KC={encode(t,e=mn.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&Fa.encode(Fa.wrap(t.value),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof mn.default.Reader?t:mn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=XB();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=Fa.unwrap(Fa.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:vc(t.key)?globalThis.String(t.key):"",value:vc(t?.value)?t.value:void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=t.value),e},create(t){return KC.fromPartial(t??{})},fromPartial(t){let e=XB();return e.key=t.key??"",e.value=t.value??void 0,e}};function zC(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}var Fa={encode(t,e=mn.default.Writer.create()){return t.nullValue!==void 0&&e.uint32(8).int32(t.nullValue),t.numberValue!==void 0&&e.uint32(17).double(t.numberValue),t.stringValue!==void 0&&e.uint32(26).string(t.stringValue),t.boolValue!==void 0&&e.uint32(32).bool(t.boolValue),t.structValue!==void 0&&R.encode(R.wrap(t.structValue),e.uint32(42).fork()).ldelim(),t.listValue!==void 0&&ra.encode(ra.wrap(t.listValue),e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof mn.default.Reader?t:mn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=zC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.nullValue=r.int32();continue;case 2:if(a!==17)break;i.numberValue=r.double();continue;case 3:if(a!==26)break;i.stringValue=r.string();continue;case 4:if(a!==32)break;i.boolValue=r.bool();continue;case 5:if(a!==42)break;i.structValue=R.unwrap(R.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.listValue=ra.unwrap(ra.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{nullValue:vc(t.nullValue)?sX(t.nullValue):void 0,numberValue:vc(t.numberValue)?globalThis.Number(t.numberValue):void 0,stringValue:vc(t.stringValue)?globalThis.String(t.stringValue):void 0,boolValue:vc(t.boolValue)?globalThis.Boolean(t.boolValue):void 0,structValue:YB(t.structValue)?t.structValue:void 0,listValue:globalThis.Array.isArray(t.listValue)?[...t.listValue]:void 0}},toJSON(t){let e={};return t.nullValue!==void 0&&(e.nullValue=uX(t.nullValue)),t.numberValue!==void 0&&(e.numberValue=t.numberValue),t.stringValue!==void 0&&(e.stringValue=t.stringValue),t.boolValue!==void 0&&(e.boolValue=t.boolValue),t.structValue!==void 0&&(e.structValue=t.structValue),t.listValue!==void 0&&(e.listValue=t.listValue),e},create(t){return Fa.fromPartial(t??{})},fromPartial(t){let e=zC();return e.nullValue=t.nullValue??void 0,e.numberValue=t.numberValue??void 0,e.stringValue=t.stringValue??void 0,e.boolValue=t.boolValue??void 0,e.structValue=t.structValue??void 0,e.listValue=t.listValue??void 0,e},wrap(t){let e=zC();if(t===null)e.nullValue=0;else if(typeof t=="boolean")e.boolValue=t;else if(typeof t=="number")e.numberValue=t;else if(typeof t=="string")e.stringValue=t;else if(globalThis.Array.isArray(t))e.listValue=t;else if(typeof t=="object")e.structValue=t;else if(typeof t<"u")throw new globalThis.Error("Unsupported any value type: "+typeof t);return e},unwrap(t){if(t.stringValue!==void 0)return t.stringValue;if(t?.numberValue!==void 0)return t.numberValue;if(t?.boolValue!==void 0)return t.boolValue;if(t?.structValue!==void 0)return t.structValue;if(t?.listValue!==void 0)return t.listValue;if(t?.nullValue!==void 0)return null}};function QC(){return{values:[]}}var ra={encode(t,e=mn.default.Writer.create()){for(let r of t.values)Fa.encode(Fa.wrap(r),e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof mn.default.Reader?t:mn.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=QC();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.values.push(Fa.unwrap(Fa.decode(r,r.uint32())));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{values:globalThis.Array.isArray(t?.values)?[...t.values]:[]}},toJSON(t){let e={};return t.values?.length&&(e.values=t.values),e},create(t){return ra.fromPartial(t??{})},fromPartial(t){let e=QC();return e.values=t.values?.map(r=>r)||[],e},wrap(t){let e=QC();return e.values=t??[],e},unwrap(t){return t?.hasOwnProperty("values")&&globalThis.Array.isArray(t.values)?t.values:t}};function YB(t){return typeof t=="object"&&t!==null}function vc(t){return t!=null}process.stdout.write("");var su=tr(Rr(),1);function $B(){return{seconds:BigInt("0"),nanos:0}}var we={encode(t,e=su.default.Writer.create()){if(t.seconds!==BigInt("0")){if(BigInt.asIntN(64,t.seconds)!==t.seconds)throw new globalThis.Error("value provided for field message.seconds of type int64 too large");e.uint32(8).int64(t.seconds.toString())}return t.nanos!==0&&e.uint32(16).int32(t.nanos),e},decode(t,e){let r=t instanceof su.default.Reader?t:su.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=$B();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.seconds=lX(r.int64());continue;case 2:if(a!==16)break;i.nanos=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{seconds:jB(t.seconds)?BigInt(t.seconds):BigInt("0"),nanos:jB(t.nanos)?globalThis.Number(t.nanos):0}},toJSON(t){let e={};return t.seconds!==BigInt("0")&&(e.seconds=t.seconds.toString()),t.nanos!==0&&(e.nanos=Math.round(t.nanos)),e},create(t){return we.fromPartial(t??{})},fromPartial(t){let e=$B();return e.seconds=t.seconds??BigInt("0"),e.nanos=t.nanos??0,e}};function lX(t){return BigInt(t.toString())}su.default.util.Long!==Qt&&(su.default.util.Long=Qt,su.default.configure());function jB(t){return t!=null}process.stdout.write("");var Je=tr(Rr(),1);function cX(t){switch(t){case 0:case"NULL_VALUE":return 0;case-1:case"UNRECOGNIZED":default:return-1}}function dX(t){switch(t){case 0:return"NULL_VALUE";case-1:default:return"UNRECOGNIZED"}}function eD(){return{symbol:void 0,address:void 0}}var uu={encode(t,e=Je.default.Writer.create()){return t.symbol!==void 0&&e.uint32(10).string(t.symbol),t.address!==void 0&&bc.encode(t.address,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=eD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.symbol=r.string();continue;case 2:if(a!==18)break;i.address=bc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{symbol:Rt(t.symbol)?globalThis.String(t.symbol):void 0,address:Rt(t.address)?bc.fromJSON(t.address):void 0}},toJSON(t){let e={};return t.symbol!==void 0&&(e.symbol=t.symbol),t.address!==void 0&&(e.address=bc.toJSON(t.address)),e},create(t){return uu.fromPartial(t??{})},fromPartial(t){let e=eD();return e.symbol=t.symbol??void 0,e.address=t.address!==void 0&&t.address!==null?bc.fromPartial(t.address):void 0,e}};function tD(){return{address:"",chain:""}}var bc={encode(t,e=Je.default.Writer.create()){return t.address!==""&&e.uint32(10).string(t.address),t.chain!==""&&e.uint32(18).string(t.chain),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=tD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 2:if(a!==18)break;i.chain=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:Rt(t.address)?globalThis.String(t.address):"",chain:Rt(t.chain)?globalThis.String(t.chain):""}},toJSON(t){let e={};return t.address!==""&&(e.address=t.address),t.chain!==""&&(e.chain=t.chain),e},create(t){return bc.fromPartial(t??{})},fromPartial(t){let e=tD();return e.address=t.address??"",e.chain=t.chain??"",e}};function rD(){return{nullValue:void 0,intValue:void 0,floatValue:void 0,bytesValue:void 0,boolValue:void 0,stringValue:void 0,timestampValue:void 0,bigintValue:void 0,bigdecimalValue:void 0,listValue:void 0,structValue:void 0}}var Ee={encode(t,e=Je.default.Writer.create()){return t.nullValue!==void 0&&e.uint32(8).int32(t.nullValue),t.intValue!==void 0&&e.uint32(16).int32(t.intValue),t.floatValue!==void 0&&e.uint32(25).double(t.floatValue),t.bytesValue!==void 0&&e.uint32(34).bytes(t.bytesValue),t.boolValue!==void 0&&e.uint32(40).bool(t.boolValue),t.stringValue!==void 0&&e.uint32(50).string(t.stringValue),t.timestampValue!==void 0&&we.encode(fX(t.timestampValue),e.uint32(58).fork()).ldelim(),t.bigintValue!==void 0&&rr.encode(t.bigintValue,e.uint32(66).fork()).ldelim(),t.bigdecimalValue!==void 0&&Sc.encode(t.bigdecimalValue,e.uint32(74).fork()).ldelim(),t.listValue!==void 0&&et.encode(t.listValue,e.uint32(82).fork()).ldelim(),t.structValue!==void 0&&_t.encode(t.structValue,e.uint32(90).fork()).ldelim(),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=rD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.nullValue=r.int32();continue;case 2:if(a!==16)break;i.intValue=r.int32();continue;case 3:if(a!==25)break;i.floatValue=r.double();continue;case 4:if(a!==34)break;i.bytesValue=r.bytes();continue;case 5:if(a!==40)break;i.boolValue=r.bool();continue;case 6:if(a!==50)break;i.stringValue=r.string();continue;case 7:if(a!==58)break;i.timestampValue=dD(we.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.bigintValue=rr.decode(r,r.uint32());continue;case 9:if(a!==74)break;i.bigdecimalValue=Sc.decode(r,r.uint32());continue;case 10:if(a!==82)break;i.listValue=et.decode(r,r.uint32());continue;case 11:if(a!==90)break;i.structValue=_t.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{nullValue:Rt(t.nullValue)?cX(t.nullValue):void 0,intValue:Rt(t.intValue)?globalThis.Number(t.intValue):void 0,floatValue:Rt(t.floatValue)?globalThis.Number(t.floatValue):void 0,bytesValue:Rt(t.bytesValue)?lD(t.bytesValue):void 0,boolValue:Rt(t.boolValue)?globalThis.Boolean(t.boolValue):void 0,stringValue:Rt(t.stringValue)?globalThis.String(t.stringValue):void 0,timestampValue:Rt(t.timestampValue)?hX(t.timestampValue):void 0,bigintValue:Rt(t.bigintValue)?rr.fromJSON(t.bigintValue):void 0,bigdecimalValue:Rt(t.bigdecimalValue)?Sc.fromJSON(t.bigdecimalValue):void 0,listValue:Rt(t.listValue)?et.fromJSON(t.listValue):void 0,structValue:Rt(t.structValue)?_t.fromJSON(t.structValue):void 0}},toJSON(t){let e={};return t.nullValue!==void 0&&(e.nullValue=dX(t.nullValue)),t.intValue!==void 0&&(e.intValue=Math.round(t.intValue)),t.floatValue!==void 0&&(e.floatValue=t.floatValue),t.bytesValue!==void 0&&(e.bytesValue=cD(t.bytesValue)),t.boolValue!==void 0&&(e.boolValue=t.boolValue),t.stringValue!==void 0&&(e.stringValue=t.stringValue),t.timestampValue!==void 0&&(e.timestampValue=t.timestampValue.toISOString()),t.bigintValue!==void 0&&(e.bigintValue=rr.toJSON(t.bigintValue)),t.bigdecimalValue!==void 0&&(e.bigdecimalValue=Sc.toJSON(t.bigdecimalValue)),t.listValue!==void 0&&(e.listValue=et.toJSON(t.listValue)),t.structValue!==void 0&&(e.structValue=_t.toJSON(t.structValue)),e},create(t){return Ee.fromPartial(t??{})},fromPartial(t){let e=rD();return e.nullValue=t.nullValue??void 0,e.intValue=t.intValue??void 0,e.floatValue=t.floatValue??void 0,e.bytesValue=t.bytesValue??void 0,e.boolValue=t.boolValue??void 0,e.stringValue=t.stringValue??void 0,e.timestampValue=t.timestampValue??void 0,e.bigintValue=t.bigintValue!==void 0&&t.bigintValue!==null?rr.fromPartial(t.bigintValue):void 0,e.bigdecimalValue=t.bigdecimalValue!==void 0&&t.bigdecimalValue!==null?Sc.fromPartial(t.bigdecimalValue):void 0,e.listValue=t.listValue!==void 0&&t.listValue!==null?et.fromPartial(t.listValue):void 0,e.structValue=t.structValue!==void 0&&t.structValue!==null?_t.fromPartial(t.structValue):void 0,e}};function nD(){return{fields:{}}}var _t={encode(t,e=Je.default.Writer.create()){return Object.entries(t.fields).forEach(([r,n])=>{ZC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=nD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=ZC.decode(r,r.uint32());o.value!==void 0&&(i.fields[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:pX(t.fields)?Object.entries(t.fields).reduce((e,[r,n])=>(e[r]=Ee.fromJSON(n),e),{}):{}}},toJSON(t){let e={};if(t.fields){let r=Object.entries(t.fields);r.length>0&&(e.fields={},r.forEach(([n,i])=>{e.fields[n]=Ee.toJSON(i)}))}return e},create(t){return _t.fromPartial(t??{})},fromPartial(t){let e=nD();return e.fields=Object.entries(t.fields??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=Ee.fromPartial(i)),r),{}),e}};function iD(){return{key:"",value:void 0}}var ZC={encode(t,e=Je.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&Ee.encode(t.value,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=iD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=Ee.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:Rt(t.key)?globalThis.String(t.key):"",value:Rt(t.value)?Ee.fromJSON(t.value):void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=Ee.toJSON(t.value)),e},create(t){return ZC.fromPartial(t??{})},fromPartial(t){let e=iD();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?Ee.fromPartial(t.value):void 0,e}};function aD(){return{values:[]}}var et={encode(t,e=Je.default.Writer.create()){for(let r of t.values)Ee.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=aD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.values.push(Ee.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{values:globalThis.Array.isArray(t?.values)?t.values.map(e=>Ee.fromJSON(e)):[]}},toJSON(t){let e={};return t.values?.length&&(e.values=t.values.map(r=>Ee.toJSON(r))),e},create(t){return et.fromPartial(t??{})},fromPartial(t){let e=aD();return e.values=t.values?.map(r=>Ee.fromPartial(r))||[],e}};function oD(){return{entities:[]}}var lu={encode(t,e=Je.default.Writer.create()){for(let r of t.entities)_t.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=oD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entities.push(_t.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entities:globalThis.Array.isArray(t?.entities)?t.entities.map(e=>_t.fromJSON(e)):[]}},toJSON(t){let e={};return t.entities?.length&&(e.entities=t.entities.map(r=>_t.toJSON(r))),e},create(t){return lu.fromPartial(t??{})},fromPartial(t){let e=oD();return e.entities=t.entities?.map(r=>_t.fromPartial(r))||[],e}};function sD(){return{value:void 0,exp:0}}var Sc={encode(t,e=Je.default.Writer.create()){return t.value!==void 0&&rr.encode(t.value,e.uint32(10).fork()).ldelim(),t.exp!==0&&e.uint32(16).int32(t.exp),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=sD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.value=rr.decode(r,r.uint32());continue;case 2:if(a!==16)break;i.exp=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{value:Rt(t.value)?rr.fromJSON(t.value):void 0,exp:Rt(t.exp)?globalThis.Number(t.exp):0}},toJSON(t){let e={};return t.value!==void 0&&(e.value=rr.toJSON(t.value)),t.exp!==0&&(e.exp=Math.round(t.exp)),e},create(t){return Sc.fromPartial(t??{})},fromPartial(t){let e=sD();return e.value=t.value!==void 0&&t.value!==null?rr.fromPartial(t.value):void 0,e.exp=t.exp??0,e}};function uD(){return{negative:!1,data:new Uint8Array(0)}}var rr={encode(t,e=Je.default.Writer.create()){return t.negative!==!1&&e.uint32(8).bool(t.negative),t.data.length!==0&&e.uint32(18).bytes(t.data),e},decode(t,e){let r=t instanceof Je.default.Reader?t:Je.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=uD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.negative=r.bool();continue;case 2:if(a!==18)break;i.data=r.bytes();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{negative:Rt(t.negative)?globalThis.Boolean(t.negative):!1,data:Rt(t.data)?lD(t.data):new Uint8Array(0)}},toJSON(t){let e={};return t.negative!==!1&&(e.negative=t.negative),t.data.length!==0&&(e.data=cD(t.data)),e},create(t){return rr.fromPartial(t??{})},fromPartial(t){let e=uD();return e.negative=t.negative??!1,e.data=t.data??new Uint8Array(0),e}};function lD(t){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(t,"base64"));{let e=globalThis.atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}}function cD(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{let e=[];return t.forEach(r=>{e.push(globalThis.String.fromCharCode(r))}),globalThis.btoa(e.join(""))}}function fX(t){let e=BigInt(Math.trunc(t.getTime()/1e3)),r=t.getTime()%1e3*1e6;return{seconds:e,nanos:r}}function dD(t){let e=(globalThis.Number(t.seconds.toString())||0)*1e3;return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function hX(t){return t instanceof globalThis.Date?t:typeof t=="string"?new globalThis.Date(t):dD(we.fromJSON(t))}Je.default.util.Long!==Qt&&(Je.default.util.Long=Qt,Je.default.configure());function pX(t){return typeof t=="object"&&t!==null}function Rt(t){return t!=null}process.stdout.write("");function mX(t){switch(t){case 0:case"UNKNOWN_TYPE":return 0;case 1:case"COUNTER":return 1;case 2:case"GAUGE":return 2;case 3:case"HISTOGRAM":return 3;case-1:case"UNRECOGNIZED":default:return-1}}function gX(t){switch(t){case 0:return"UNKNOWN_TYPE";case 1:return"COUNTER";case 2:return"GAUGE";case 3:return"HISTOGRAM";case-1:default:return"UNRECOGNIZED"}}function yX(t){switch(t){case 0:case"COUNT":return 0;case 1:case"SUM":return 1;case 2:case"AVG":return 2;case 3:case"MIN":return 3;case 4:case"MAX":return 4;case 5:case"LAST":return 5;case-1:case"UNRECOGNIZED":default:return-1}}function vX(t){switch(t){case 0:return"COUNT";case 1:return"SUM";case 2:return"AVG";case 3:return"MIN";case 4:return"MAX";case 5:return"LAST";case-1:default:return"UNRECOGNIZED"}}function bX(t){switch(t){case 0:case"ADDRESS":return 0;case 1:case"OBJECT":return 1;case 2:case"WRAPPED_OBJECT":return 2;case-1:case"UNRECOGNIZED":default:return-1}}function SX(t){switch(t){case 0:return"ADDRESS";case 1:return"OBJECT";case 2:return"WRAPPED_OBJECT";case-1:default:return"UNRECOGNIZED"}}function _X(t){switch(t){case 0:case"ERC20":return 0;case 1:case"ERC721":return 1;case 2:case"ERC1155":return 2;case-1:case"UNRECOGNIZED":default:return-1}}function EX(t){switch(t){case 0:return"ERC20";case 1:return"ERC721";case 2:return"ERC1155";case-1:default:return"UNRECOGNIZED"}}function oL(t){switch(t){case 0:case"UNKNOWN":return 0;case 1:case"ETH_LOG":return 1;case 2:case"ETH_BLOCK":return 2;case 5:case"ETH_TRACE":return 5;case 11:case"ETH_TRANSACTION":return 11;case 4:case"SOL_INSTRUCTION":return 4;case 6:case"APT_EVENT":return 6;case 7:case"APT_CALL":return 7;case 8:case"APT_RESOURCE":return 8;case 3:case"SUI_EVENT":return 3;case 9:case"SUI_CALL":return 9;case 10:case"SUI_OBJECT":return 10;case 12:case"SUI_OBJECT_CHANGE":return 12;case 13:case"FUEL_CALL":return 13;case 17:case"FUEL_BLOCK":return 17;case 14:case"COSMOS_CALL":return 14;case 15:case"STARKNET_EVENT":return 15;case 16:case"BTC_TRANSACTION":return 16;case 18:case"BTC_BLOCK":return 18;case-1:case"UNRECOGNIZED":default:return-1}}function sL(t){switch(t){case 0:return"UNKNOWN";case 1:return"ETH_LOG";case 2:return"ETH_BLOCK";case 5:return"ETH_TRACE";case 11:return"ETH_TRANSACTION";case 4:return"SOL_INSTRUCTION";case 6:return"APT_EVENT";case 7:return"APT_CALL";case 8:return"APT_RESOURCE";case 3:return"SUI_EVENT";case 9:return"SUI_CALL";case 10:return"SUI_OBJECT";case 12:return"SUI_OBJECT_CHANGE";case 13:return"FUEL_CALL";case 17:return"FUEL_BLOCK";case 14:return"COSMOS_CALL";case 15:return"STARKNET_EVENT";case 16:return"BTC_TRANSACTION";case 18:return"BTC_BLOCK";case-1:default:return"UNRECOGNIZED"}}function uL(t){switch(t){case 0:case"DEBUG":return 0;case 1:case"INFO":return 1;case 2:case"WARNING":return 2;case 3:case"ERROR":return 3;case 4:case"CRITICAL":return 4;case-1:case"UNRECOGNIZED":default:return-1}}function lL(t){switch(t){case 0:return"DEBUG";case 1:return"INFO";case 2:return"WARNING";case 3:return"ERROR";case 4:return"CRITICAL";case-1:default:return"UNRECOGNIZED"}}function TX(t){switch(t){case 0:case"STRING":return 0;case 1:case"DOUBLE":return 1;case 2:case"BOOL":return 2;case 3:case"TIMESTAMP":return 3;case 4:case"BIG_INTEGER":return 4;case 5:case"BIG_DECIMAL":return 5;case-1:case"UNRECOGNIZED":default:return-1}}function AX(t){switch(t){case 0:return"STRING";case 1:return"DOUBLE";case 2:return"BOOL";case 3:return"TIMESTAMP";case 4:return"BIG_INTEGER";case 5:return"BIG_DECIMAL";case-1:default:return"UNRECOGNIZED"}}function CX(t){switch(t){case 0:case"EQ":return 0;case 1:case"NE":return 1;case 2:case"GT":return 2;case 3:case"GE":return 3;case 4:case"LT":return 4;case 5:case"LE":return 5;case 6:case"IN":return 6;case 7:case"NOT_IN":return 7;case 8:case"LIKE":return 8;case 9:case"NOT_LIKE":return 9;case 10:case"HAS_ALL":return 10;case 11:case"HAS_ANY":return 11;case-1:case"UNRECOGNIZED":default:return-1}}function kX(t){switch(t){case 0:return"EQ";case 1:return"NE";case 2:return"GT";case 3:return"GE";case 4:return"LT";case 5:return"LE";case 6:return"IN";case 7:return"NOT_IN";case 8:return"LIKE";case 9:return"NOT_LIKE";case 10:return"HAS_ALL";case 11:return"HAS_ANY";case-1:default:return"UNRECOGNIZED"}}function fD(){return{name:"",version:""}}var _c={encode(t,e=S.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.version!==""&&e.uint32(26).string(t.version),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=fD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 3:if(a!==26)break;i.version=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",version:T(t.version)?globalThis.String(t.version):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.version!==""&&(e.version=t.version),e},create(t){return _c.fromPartial(t??{})},fromPartial(t){let e=fD();return e.name=t.name??"",e.version=t.version??"",e}};function hD(){return{sequential:!1,forceExactBlockTime:!1,processBindingTimeout:0,skipStartBlockValidation:!1,rpcRetryTimes:0}}var Ec={encode(t,e=S.default.Writer.create()){return t.sequential!==!1&&e.uint32(8).bool(t.sequential),t.forceExactBlockTime!==!1&&e.uint32(16).bool(t.forceExactBlockTime),t.processBindingTimeout!==0&&e.uint32(24).int32(t.processBindingTimeout),t.skipStartBlockValidation!==!1&&e.uint32(32).bool(t.skipStartBlockValidation),t.rpcRetryTimes!==0&&e.uint32(40).int32(t.rpcRetryTimes),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=hD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.sequential=r.bool();continue;case 2:if(a!==16)break;i.forceExactBlockTime=r.bool();continue;case 3:if(a!==24)break;i.processBindingTimeout=r.int32();continue;case 4:if(a!==32)break;i.skipStartBlockValidation=r.bool();continue;case 5:if(a!==40)break;i.rpcRetryTimes=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{sequential:T(t.sequential)?globalThis.Boolean(t.sequential):!1,forceExactBlockTime:T(t.forceExactBlockTime)?globalThis.Boolean(t.forceExactBlockTime):!1,processBindingTimeout:T(t.processBindingTimeout)?globalThis.Number(t.processBindingTimeout):0,skipStartBlockValidation:T(t.skipStartBlockValidation)?globalThis.Boolean(t.skipStartBlockValidation):!1,rpcRetryTimes:T(t.rpcRetryTimes)?globalThis.Number(t.rpcRetryTimes):0}},toJSON(t){let e={};return t.sequential!==!1&&(e.sequential=t.sequential),t.forceExactBlockTime!==!1&&(e.forceExactBlockTime=t.forceExactBlockTime),t.processBindingTimeout!==0&&(e.processBindingTimeout=Math.round(t.processBindingTimeout)),t.skipStartBlockValidation!==!1&&(e.skipStartBlockValidation=t.skipStartBlockValidation),t.rpcRetryTimes!==0&&(e.rpcRetryTimes=Math.round(t.rpcRetryTimes)),e},create(t){return Ec.fromPartial(t??{})},fromPartial(t){let e=hD();return e.sequential=t.sequential??!1,e.forceExactBlockTime=t.forceExactBlockTime??!1,e.processBindingTimeout=t.processBindingTimeout??0,e.skipStartBlockValidation=t.skipStartBlockValidation??!1,e.rpcRetryTimes=t.rpcRetryTimes??0,e}};function pD(){return{}}var cL={encode(t,e=S.default.Writer.create()){return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=pD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{}},toJSON(t){return{}},create(t){return cL.fromPartial(t??{})},fromPartial(t){return pD()}};function mD(){return{config:void 0,executionConfig:void 0,contractConfigs:[],templateInstances:[],accountConfigs:[],metricConfigs:[],eventTrackingConfigs:[],exportConfigs:[],eventLogConfigs:[],dbSchema:void 0}}var dL={encode(t,e=S.default.Writer.create()){t.config!==void 0&&_c.encode(t.config,e.uint32(10).fork()).ldelim(),t.executionConfig!==void 0&&Ec.encode(t.executionConfig,e.uint32(74).fork()).ldelim();for(let r of t.contractConfigs)Tc.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.templateInstances)_i.encode(r,e.uint32(26).fork()).ldelim();for(let r of t.accountConfigs)xc.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.metricConfigs)Nc.encode(r,e.uint32(42).fork()).ldelim();for(let r of t.eventTrackingConfigs)Ic.encode(r,e.uint32(50).fork()).ldelim();for(let r of t.exportConfigs)Oc.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.eventLogConfigs)Rc.encode(r,e.uint32(66).fork()).ldelim();return t.dbSchema!==void 0&&Ac.encode(t.dbSchema,e.uint32(82).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=mD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.config=_c.decode(r,r.uint32());continue;case 9:if(a!==74)break;i.executionConfig=Ec.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.contractConfigs.push(Tc.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.templateInstances.push(_i.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.accountConfigs.push(xc.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.metricConfigs.push(Nc.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.eventTrackingConfigs.push(Ic.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.exportConfigs.push(Oc.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.eventLogConfigs.push(Rc.decode(r,r.uint32()));continue;case 10:if(a!==82)break;i.dbSchema=Ac.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{config:T(t.config)?_c.fromJSON(t.config):void 0,executionConfig:T(t.executionConfig)?Ec.fromJSON(t.executionConfig):void 0,contractConfigs:globalThis.Array.isArray(t?.contractConfigs)?t.contractConfigs.map(e=>Tc.fromJSON(e)):[],templateInstances:globalThis.Array.isArray(t?.templateInstances)?t.templateInstances.map(e=>_i.fromJSON(e)):[],accountConfigs:globalThis.Array.isArray(t?.accountConfigs)?t.accountConfigs.map(e=>xc.fromJSON(e)):[],metricConfigs:globalThis.Array.isArray(t?.metricConfigs)?t.metricConfigs.map(e=>Nc.fromJSON(e)):[],eventTrackingConfigs:globalThis.Array.isArray(t?.eventTrackingConfigs)?t.eventTrackingConfigs.map(e=>Ic.fromJSON(e)):[],exportConfigs:globalThis.Array.isArray(t?.exportConfigs)?t.exportConfigs.map(e=>Oc.fromJSON(e)):[],eventLogConfigs:globalThis.Array.isArray(t?.eventLogConfigs)?t.eventLogConfigs.map(e=>Rc.fromJSON(e)):[],dbSchema:T(t.dbSchema)?Ac.fromJSON(t.dbSchema):void 0}},toJSON(t){let e={};return t.config!==void 0&&(e.config=_c.toJSON(t.config)),t.executionConfig!==void 0&&(e.executionConfig=Ec.toJSON(t.executionConfig)),t.contractConfigs?.length&&(e.contractConfigs=t.contractConfigs.map(r=>Tc.toJSON(r))),t.templateInstances?.length&&(e.templateInstances=t.templateInstances.map(r=>_i.toJSON(r))),t.accountConfigs?.length&&(e.accountConfigs=t.accountConfigs.map(r=>xc.toJSON(r))),t.metricConfigs?.length&&(e.metricConfigs=t.metricConfigs.map(r=>Nc.toJSON(r))),t.eventTrackingConfigs?.length&&(e.eventTrackingConfigs=t.eventTrackingConfigs.map(r=>Ic.toJSON(r))),t.exportConfigs?.length&&(e.exportConfigs=t.exportConfigs.map(r=>Oc.toJSON(r))),t.eventLogConfigs?.length&&(e.eventLogConfigs=t.eventLogConfigs.map(r=>Rc.toJSON(r))),t.dbSchema!==void 0&&(e.dbSchema=Ac.toJSON(t.dbSchema)),e},create(t){return dL.fromPartial(t??{})},fromPartial(t){let e=mD();return e.config=t.config!==void 0&&t.config!==null?_c.fromPartial(t.config):void 0,e.executionConfig=t.executionConfig!==void 0&&t.executionConfig!==null?Ec.fromPartial(t.executionConfig):void 0,e.contractConfigs=t.contractConfigs?.map(r=>Tc.fromPartial(r))||[],e.templateInstances=t.templateInstances?.map(r=>_i.fromPartial(r))||[],e.accountConfigs=t.accountConfigs?.map(r=>xc.fromPartial(r))||[],e.metricConfigs=t.metricConfigs?.map(r=>Nc.fromPartial(r))||[],e.eventTrackingConfigs=t.eventTrackingConfigs?.map(r=>Ic.fromPartial(r))||[],e.exportConfigs=t.exportConfigs?.map(r=>Oc.fromPartial(r))||[],e.eventLogConfigs=t.eventLogConfigs?.map(r=>Rc.fromPartial(r))||[],e.dbSchema=t.dbSchema!==void 0&&t.dbSchema!==null?Ac.fromPartial(t.dbSchema):void 0,e}};function gD(){return{contract:void 0,intervalConfigs:[],logConfigs:[],traceConfigs:[],transactionConfig:[],moveEventConfigs:[],moveCallConfigs:[],moveResourceChangeConfigs:[],fuelCallConfigs:[],assetConfigs:[],fuelLogConfigs:[],cosmosLogConfigs:[],starknetEventConfigs:[],btcTransactionConfigs:[],instructionConfig:void 0,startBlock:BigInt("0"),endBlock:BigInt("0"),processorType:""}}var Tc={encode(t,e=S.default.Writer.create()){t.contract!==void 0&&Si.encode(t.contract,e.uint32(10).fork()).ldelim();for(let r of t.intervalConfigs)wt.encode(r,e.uint32(90).fork()).ldelim();for(let r of t.logConfigs)Ei.encode(r,e.uint32(26).fork()).ldelim();for(let r of t.traceConfigs)Mc.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.transactionConfig)Lc.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.moveEventConfigs)zc.encode(r,e.uint32(74).fork()).ldelim();for(let r of t.moveCallConfigs)Ai.encode(r,e.uint32(82).fork()).ldelim();for(let r of t.moveResourceChangeConfigs)Ci.encode(r,e.uint32(98).fork()).ldelim();for(let r of t.fuelCallConfigs)rd.encode(r,e.uint32(106).fork()).ldelim();for(let r of t.assetConfigs)Fc.encode(r,e.uint32(114).fork()).ldelim();for(let r of t.fuelLogConfigs)Uc.encode(r,e.uint32(122).fork()).ldelim();for(let r of t.cosmosLogConfigs)Vc.encode(r,e.uint32(130).fork()).ldelim();for(let r of t.starknetEventConfigs)Xc.encode(r,e.uint32(138).fork()).ldelim();for(let r of t.btcTransactionConfigs)Yc.encode(r,e.uint32(146).fork()).ldelim();if(t.instructionConfig!==void 0&&Wc.encode(t.instructionConfig,e.uint32(50).fork()).ldelim(),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(32).uint64(t.startBlock.toString())}if(t.endBlock!==BigInt("0")){if(BigInt.asUintN(64,t.endBlock)!==t.endBlock)throw new globalThis.Error("value provided for field message.endBlock of type uint64 too large");e.uint32(40).uint64(t.endBlock.toString())}return t.processorType!==""&&e.uint32(66).string(t.processorType),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=gD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contract=Si.decode(r,r.uint32());continue;case 11:if(a!==90)break;i.intervalConfigs.push(wt.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.logConfigs.push(Ei.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.traceConfigs.push(Mc.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.transactionConfig.push(Lc.decode(r,r.uint32()));continue;case 9:if(a!==74)break;i.moveEventConfigs.push(zc.decode(r,r.uint32()));continue;case 10:if(a!==82)break;i.moveCallConfigs.push(Ai.decode(r,r.uint32()));continue;case 12:if(a!==98)break;i.moveResourceChangeConfigs.push(Ci.decode(r,r.uint32()));continue;case 13:if(a!==106)break;i.fuelCallConfigs.push(rd.decode(r,r.uint32()));continue;case 14:if(a!==114)break;i.assetConfigs.push(Fc.decode(r,r.uint32()));continue;case 15:if(a!==122)break;i.fuelLogConfigs.push(Uc.decode(r,r.uint32()));continue;case 16:if(a!==130)break;i.cosmosLogConfigs.push(Vc.decode(r,r.uint32()));continue;case 17:if(a!==138)break;i.starknetEventConfigs.push(Xc.decode(r,r.uint32()));continue;case 18:if(a!==146)break;i.btcTransactionConfigs.push(Yc.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.instructionConfig=Wc.decode(r,r.uint32());continue;case 4:if(a!==32)break;i.startBlock=Er(r.uint64());continue;case 5:if(a!==40)break;i.endBlock=Er(r.uint64());continue;case 8:if(a!==66)break;i.processorType=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{contract:T(t.contract)?Si.fromJSON(t.contract):void 0,intervalConfigs:globalThis.Array.isArray(t?.intervalConfigs)?t.intervalConfigs.map(e=>wt.fromJSON(e)):[],logConfigs:globalThis.Array.isArray(t?.logConfigs)?t.logConfigs.map(e=>Ei.fromJSON(e)):[],traceConfigs:globalThis.Array.isArray(t?.traceConfigs)?t.traceConfigs.map(e=>Mc.fromJSON(e)):[],transactionConfig:globalThis.Array.isArray(t?.transactionConfig)?t.transactionConfig.map(e=>Lc.fromJSON(e)):[],moveEventConfigs:globalThis.Array.isArray(t?.moveEventConfigs)?t.moveEventConfigs.map(e=>zc.fromJSON(e)):[],moveCallConfigs:globalThis.Array.isArray(t?.moveCallConfigs)?t.moveCallConfigs.map(e=>Ai.fromJSON(e)):[],moveResourceChangeConfigs:globalThis.Array.isArray(t?.moveResourceChangeConfigs)?t.moveResourceChangeConfigs.map(e=>Ci.fromJSON(e)):[],fuelCallConfigs:globalThis.Array.isArray(t?.fuelCallConfigs)?t.fuelCallConfigs.map(e=>rd.fromJSON(e)):[],assetConfigs:globalThis.Array.isArray(t?.assetConfigs)?t.assetConfigs.map(e=>Fc.fromJSON(e)):[],fuelLogConfigs:globalThis.Array.isArray(t?.fuelLogConfigs)?t.fuelLogConfigs.map(e=>Uc.fromJSON(e)):[],cosmosLogConfigs:globalThis.Array.isArray(t?.cosmosLogConfigs)?t.cosmosLogConfigs.map(e=>Vc.fromJSON(e)):[],starknetEventConfigs:globalThis.Array.isArray(t?.starknetEventConfigs)?t.starknetEventConfigs.map(e=>Xc.fromJSON(e)):[],btcTransactionConfigs:globalThis.Array.isArray(t?.btcTransactionConfigs)?t.btcTransactionConfigs.map(e=>Yc.fromJSON(e)):[],instructionConfig:T(t.instructionConfig)?Wc.fromJSON(t.instructionConfig):void 0,startBlock:T(t.startBlock)?BigInt(t.startBlock):BigInt("0"),endBlock:T(t.endBlock)?BigInt(t.endBlock):BigInt("0"),processorType:T(t.processorType)?globalThis.String(t.processorType):""}},toJSON(t){let e={};return t.contract!==void 0&&(e.contract=Si.toJSON(t.contract)),t.intervalConfigs?.length&&(e.intervalConfigs=t.intervalConfigs.map(r=>wt.toJSON(r))),t.logConfigs?.length&&(e.logConfigs=t.logConfigs.map(r=>Ei.toJSON(r))),t.traceConfigs?.length&&(e.traceConfigs=t.traceConfigs.map(r=>Mc.toJSON(r))),t.transactionConfig?.length&&(e.transactionConfig=t.transactionConfig.map(r=>Lc.toJSON(r))),t.moveEventConfigs?.length&&(e.moveEventConfigs=t.moveEventConfigs.map(r=>zc.toJSON(r))),t.moveCallConfigs?.length&&(e.moveCallConfigs=t.moveCallConfigs.map(r=>Ai.toJSON(r))),t.moveResourceChangeConfigs?.length&&(e.moveResourceChangeConfigs=t.moveResourceChangeConfigs.map(r=>Ci.toJSON(r))),t.fuelCallConfigs?.length&&(e.fuelCallConfigs=t.fuelCallConfigs.map(r=>rd.toJSON(r))),t.assetConfigs?.length&&(e.assetConfigs=t.assetConfigs.map(r=>Fc.toJSON(r))),t.fuelLogConfigs?.length&&(e.fuelLogConfigs=t.fuelLogConfigs.map(r=>Uc.toJSON(r))),t.cosmosLogConfigs?.length&&(e.cosmosLogConfigs=t.cosmosLogConfigs.map(r=>Vc.toJSON(r))),t.starknetEventConfigs?.length&&(e.starknetEventConfigs=t.starknetEventConfigs.map(r=>Xc.toJSON(r))),t.btcTransactionConfigs?.length&&(e.btcTransactionConfigs=t.btcTransactionConfigs.map(r=>Yc.toJSON(r))),t.instructionConfig!==void 0&&(e.instructionConfig=Wc.toJSON(t.instructionConfig)),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.endBlock!==BigInt("0")&&(e.endBlock=t.endBlock.toString()),t.processorType!==""&&(e.processorType=t.processorType),e},create(t){return Tc.fromPartial(t??{})},fromPartial(t){let e=gD();return e.contract=t.contract!==void 0&&t.contract!==null?Si.fromPartial(t.contract):void 0,e.intervalConfigs=t.intervalConfigs?.map(r=>wt.fromPartial(r))||[],e.logConfigs=t.logConfigs?.map(r=>Ei.fromPartial(r))||[],e.traceConfigs=t.traceConfigs?.map(r=>Mc.fromPartial(r))||[],e.transactionConfig=t.transactionConfig?.map(r=>Lc.fromPartial(r))||[],e.moveEventConfigs=t.moveEventConfigs?.map(r=>zc.fromPartial(r))||[],e.moveCallConfigs=t.moveCallConfigs?.map(r=>Ai.fromPartial(r))||[],e.moveResourceChangeConfigs=t.moveResourceChangeConfigs?.map(r=>Ci.fromPartial(r))||[],e.fuelCallConfigs=t.fuelCallConfigs?.map(r=>rd.fromPartial(r))||[],e.assetConfigs=t.assetConfigs?.map(r=>Fc.fromPartial(r))||[],e.fuelLogConfigs=t.fuelLogConfigs?.map(r=>Uc.fromPartial(r))||[],e.cosmosLogConfigs=t.cosmosLogConfigs?.map(r=>Vc.fromPartial(r))||[],e.starknetEventConfigs=t.starknetEventConfigs?.map(r=>Xc.fromPartial(r))||[],e.btcTransactionConfigs=t.btcTransactionConfigs?.map(r=>Yc.fromPartial(r))||[],e.instructionConfig=t.instructionConfig!==void 0&&t.instructionConfig!==null?Wc.fromPartial(t.instructionConfig):void 0,e.startBlock=t.startBlock??BigInt("0"),e.endBlock=t.endBlock??BigInt("0"),e.processorType=t.processorType??"",e}};function yD(){return{gqlSchema:""}}var Ac={encode(t,e=S.default.Writer.create()){return t.gqlSchema!==""&&e.uint32(10).string(t.gqlSchema),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=yD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.gqlSchema=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{gqlSchema:T(t.gqlSchema)?globalThis.String(t.gqlSchema):""}},toJSON(t){let e={};return t.gqlSchema!==""&&(e.gqlSchema=t.gqlSchema),e},create(t){return Ac.fromPartial(t??{})},fromPartial(t){let e=yD();return e.gqlSchema=t.gqlSchema??"",e}};function vD(){return{}}var Cc={encode(t,e=S.default.Writer.create()){return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=vD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{}},toJSON(t){return{}},create(t){return Cc.fromPartial(t??{})},fromPartial(t){return vD()}};function bD(){return{retentionEventName:"",days:0}}var kc={encode(t,e=S.default.Writer.create()){return t.retentionEventName!==""&&e.uint32(18).string(t.retentionEventName),t.days!==0&&e.uint32(24).int32(t.days),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=bD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.retentionEventName=r.string();continue;case 3:if(a!==24)break;i.days=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{retentionEventName:T(t.retentionEventName)?globalThis.String(t.retentionEventName):"",days:T(t.days)?globalThis.Number(t.days):0}},toJSON(t){let e={};return t.retentionEventName!==""&&(e.retentionEventName=t.retentionEventName),t.days!==0&&(e.days=Math.round(t.days)),e},create(t){return kc.fromPartial(t??{})},fromPartial(t){let e=bD();return e.retentionEventName=t.retentionEventName??"",e.days=t.days??0,e}};function SD(){return{eventName:"",totalByDay:!1,unique:!1,totalPerEntity:void 0,distinctAggregationByDays:[],retentionConfig:void 0}}var Ic={encode(t,e=S.default.Writer.create()){t.eventName!==""&&e.uint32(10).string(t.eventName),t.totalByDay!==!1&&e.uint32(16).bool(t.totalByDay),t.unique!==!1&&e.uint32(24).bool(t.unique),t.totalPerEntity!==void 0&&Cc.encode(t.totalPerEntity,e.uint32(34).fork()).ldelim(),e.uint32(42).fork();for(let r of t.distinctAggregationByDays)e.int32(r);return e.ldelim(),t.retentionConfig!==void 0&&kc.encode(t.retentionConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=SD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.eventName=r.string();continue;case 2:if(a!==16)break;i.totalByDay=r.bool();continue;case 3:if(a!==24)break;i.unique=r.bool();continue;case 4:if(a!==34)break;i.totalPerEntity=Cc.decode(r,r.uint32());continue;case 5:if(a===40){i.distinctAggregationByDays.push(r.int32());continue}if(a===42){let o=r.uint32()+r.pos;for(;r.pos<o;)i.distinctAggregationByDays.push(r.int32());continue}break;case 6:if(a!==50)break;i.retentionConfig=kc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{eventName:T(t.eventName)?globalThis.String(t.eventName):"",totalByDay:T(t.totalByDay)?globalThis.Boolean(t.totalByDay):!1,unique:T(t.unique)?globalThis.Boolean(t.unique):!1,totalPerEntity:T(t.totalPerEntity)?Cc.fromJSON(t.totalPerEntity):void 0,distinctAggregationByDays:globalThis.Array.isArray(t?.distinctAggregationByDays)?t.distinctAggregationByDays.map(e=>globalThis.Number(e)):[],retentionConfig:T(t.retentionConfig)?kc.fromJSON(t.retentionConfig):void 0}},toJSON(t){let e={};return t.eventName!==""&&(e.eventName=t.eventName),t.totalByDay!==!1&&(e.totalByDay=t.totalByDay),t.unique!==!1&&(e.unique=t.unique),t.totalPerEntity!==void 0&&(e.totalPerEntity=Cc.toJSON(t.totalPerEntity)),t.distinctAggregationByDays?.length&&(e.distinctAggregationByDays=t.distinctAggregationByDays.map(r=>Math.round(r))),t.retentionConfig!==void 0&&(e.retentionConfig=kc.toJSON(t.retentionConfig)),e},create(t){return Ic.fromPartial(t??{})},fromPartial(t){let e=SD();return e.eventName=t.eventName??"",e.totalByDay=t.totalByDay??!1,e.unique=t.unique??!1,e.totalPerEntity=t.totalPerEntity!==void 0&&t.totalPerEntity!==null?Cc.fromPartial(t.totalPerEntity):void 0,e.distinctAggregationByDays=t.distinctAggregationByDays?.map(r=>r)||[],e.retentionConfig=t.retentionConfig!==void 0&&t.retentionConfig!==null?kc.fromPartial(t.retentionConfig):void 0,e}};function _D(){return{name:"",channel:""}}var Oc={encode(t,e=S.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.channel!==""&&e.uint32(18).string(t.channel),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=_D();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.channel=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",channel:T(t.channel)?globalThis.String(t.channel):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.channel!==""&&(e.channel=t.channel),e},create(t){return Oc.fromPartial(t??{})},fromPartial(t){let e=_D();return e.name=t.name??"",e.channel=t.channel??"",e}};function ED(){return{name:"",description:"",unit:"",sparse:!1,persistentBetweenVersion:!1,type:0,aggregationConfig:void 0}}var Nc={encode(t,e=S.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.description!==""&&e.uint32(26).string(t.description),t.unit!==""&&e.uint32(18).string(t.unit),t.sparse!==!1&&e.uint32(32).bool(t.sparse),t.persistentBetweenVersion!==!1&&e.uint32(40).bool(t.persistentBetweenVersion),t.type!==0&&e.uint32(56).int32(t.type),t.aggregationConfig!==void 0&&Pc.encode(t.aggregationConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ED();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 3:if(a!==26)break;i.description=r.string();continue;case 2:if(a!==18)break;i.unit=r.string();continue;case 4:if(a!==32)break;i.sparse=r.bool();continue;case 5:if(a!==40)break;i.persistentBetweenVersion=r.bool();continue;case 7:if(a!==56)break;i.type=r.int32();continue;case 6:if(a!==50)break;i.aggregationConfig=Pc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",description:T(t.description)?globalThis.String(t.description):"",unit:T(t.unit)?globalThis.String(t.unit):"",sparse:T(t.sparse)?globalThis.Boolean(t.sparse):!1,persistentBetweenVersion:T(t.persistentBetweenVersion)?globalThis.Boolean(t.persistentBetweenVersion):!1,type:T(t.type)?mX(t.type):0,aggregationConfig:T(t.aggregationConfig)?Pc.fromJSON(t.aggregationConfig):void 0}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.description!==""&&(e.description=t.description),t.unit!==""&&(e.unit=t.unit),t.sparse!==!1&&(e.sparse=t.sparse),t.persistentBetweenVersion!==!1&&(e.persistentBetweenVersion=t.persistentBetweenVersion),t.type!==0&&(e.type=gX(t.type)),t.aggregationConfig!==void 0&&(e.aggregationConfig=Pc.toJSON(t.aggregationConfig)),e},create(t){return Nc.fromPartial(t??{})},fromPartial(t){let e=ED();return e.name=t.name??"",e.description=t.description??"",e.unit=t.unit??"",e.sparse=t.sparse??!1,e.persistentBetweenVersion=t.persistentBetweenVersion??!1,e.type=t.type??0,e.aggregationConfig=t.aggregationConfig!==void 0&&t.aggregationConfig!==null?Pc.fromPartial(t.aggregationConfig):void 0,e}};function TD(){return{name:"",fields:[]}}var Rc={encode(t,e=S.default.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(let r of t.fields)bi.encode(r,e.uint32(18).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=TD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.fields.push(bi.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",fields:globalThis.Array.isArray(t?.fields)?t.fields.map(e=>bi.fromJSON(e)):[]}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.fields?.length&&(e.fields=t.fields.map(r=>bi.toJSON(r))),e},create(t){return Rc.fromPartial(t??{})},fromPartial(t){let e=TD();return e.name=t.name??"",e.fields=t.fields?.map(r=>bi.fromPartial(r))||[],e}};function AD(){return{fields:[]}}var wc={encode(t,e=S.default.Writer.create()){for(let r of t.fields)bi.encode(r,e.uint32(18).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=AD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.fields.push(bi.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{fields:globalThis.Array.isArray(t?.fields)?t.fields.map(e=>bi.fromJSON(e)):[]}},toJSON(t){let e={};return t.fields?.length&&(e.fields=t.fields.map(r=>bi.toJSON(r))),e},create(t){return wc.fromPartial(t??{})},fromPartial(t){let e=AD();return e.fields=t.fields?.map(r=>bi.fromPartial(r))||[],e}};function CD(){return{name:"",basicType:void 0,coinType:void 0,structType:void 0}}var bi={encode(t,e=S.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.basicType!==void 0&&e.uint32(16).int32(t.basicType),t.coinType!==void 0&&uu.encode(t.coinType,e.uint32(26).fork()).ldelim(),t.structType!==void 0&&wc.encode(t.structType,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=CD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==16)break;i.basicType=r.int32();continue;case 3:if(a!==26)break;i.coinType=uu.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.structType=wc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",basicType:T(t.basicType)?TX(t.basicType):void 0,coinType:T(t.coinType)?uu.fromJSON(t.coinType):void 0,structType:T(t.structType)?wc.fromJSON(t.structType):void 0}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.basicType!==void 0&&(e.basicType=AX(t.basicType)),t.coinType!==void 0&&(e.coinType=uu.toJSON(t.coinType)),t.structType!==void 0&&(e.structType=wc.toJSON(t.structType)),e},create(t){return bi.fromPartial(t??{})},fromPartial(t){let e=CD();return e.name=t.name??"",e.basicType=t.basicType??void 0,e.coinType=t.coinType!==void 0&&t.coinType!==null?uu.fromPartial(t.coinType):void 0,e.structType=t.structType!==void 0&&t.structType!==null?wc.fromPartial(t.structType):void 0,e}};function kD(){return{intervalInMinutes:[],types:[],discardOrigin:!1}}var Pc={encode(t,e=S.default.Writer.create()){e.uint32(10).fork();for(let r of t.intervalInMinutes)e.int32(r);e.ldelim(),e.uint32(18).fork();for(let r of t.types)e.int32(r);return e.ldelim(),t.discardOrigin!==!1&&e.uint32(24).bool(t.discardOrigin),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=kD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a===8){i.intervalInMinutes.push(r.int32());continue}if(a===10){let o=r.uint32()+r.pos;for(;r.pos<o;)i.intervalInMinutes.push(r.int32());continue}break;case 2:if(a===16){i.types.push(r.int32());continue}if(a===18){let o=r.uint32()+r.pos;for(;r.pos<o;)i.types.push(r.int32());continue}break;case 3:if(a!==24)break;i.discardOrigin=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{intervalInMinutes:globalThis.Array.isArray(t?.intervalInMinutes)?t.intervalInMinutes.map(e=>globalThis.Number(e)):[],types:globalThis.Array.isArray(t?.types)?t.types.map(e=>yX(e)):[],discardOrigin:T(t.discardOrigin)?globalThis.Boolean(t.discardOrigin):!1}},toJSON(t){let e={};return t.intervalInMinutes?.length&&(e.intervalInMinutes=t.intervalInMinutes.map(r=>Math.round(r))),t.types?.length&&(e.types=t.types.map(r=>vX(r))),t.discardOrigin!==!1&&(e.discardOrigin=t.discardOrigin),e},create(t){return Pc.fromPartial(t??{})},fromPartial(t){let e=kD();return e.intervalInMinutes=t.intervalInMinutes?.map(r=>r)||[],e.types=t.types?.map(r=>r)||[],e.discardOrigin=t.discardOrigin??!1,e}};function ID(){return{chainId:"",address:"",startBlock:BigInt("0"),intervalConfigs:[],aptosIntervalConfigs:[],moveIntervalConfigs:[],moveCallConfigs:[],moveResourceChangeConfigs:[],logConfigs:[]}}var xc={encode(t,e=S.default.Writer.create()){if(t.chainId!==""&&e.uint32(10).string(t.chainId),t.address!==""&&e.uint32(18).string(t.address),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(24).uint64(t.startBlock.toString())}for(let r of t.intervalConfigs)wt.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.aptosIntervalConfigs)Bc.encode(r,e.uint32(42).fork()).ldelim();for(let r of t.moveIntervalConfigs)Dc.encode(r,e.uint32(58).fork()).ldelim();for(let r of t.moveCallConfigs)Ai.encode(r,e.uint32(66).fork()).ldelim();for(let r of t.moveResourceChangeConfigs)Ci.encode(r,e.uint32(74).fork()).ldelim();for(let r of t.logConfigs)Ei.encode(r,e.uint32(50).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ID();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.chainId=r.string();continue;case 2:if(a!==18)break;i.address=r.string();continue;case 3:if(a!==24)break;i.startBlock=Er(r.uint64());continue;case 4:if(a!==34)break;i.intervalConfigs.push(wt.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.aptosIntervalConfigs.push(Bc.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.moveIntervalConfigs.push(Dc.decode(r,r.uint32()));continue;case 8:if(a!==66)break;i.moveCallConfigs.push(Ai.decode(r,r.uint32()));continue;case 9:if(a!==74)break;i.moveResourceChangeConfigs.push(Ci.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.logConfigs.push(Ei.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{chainId:T(t.chainId)?globalThis.String(t.chainId):"",address:T(t.address)?globalThis.String(t.address):"",startBlock:T(t.startBlock)?BigInt(t.startBlock):BigInt("0"),intervalConfigs:globalThis.Array.isArray(t?.intervalConfigs)?t.intervalConfigs.map(e=>wt.fromJSON(e)):[],aptosIntervalConfigs:globalThis.Array.isArray(t?.aptosIntervalConfigs)?t.aptosIntervalConfigs.map(e=>Bc.fromJSON(e)):[],moveIntervalConfigs:globalThis.Array.isArray(t?.moveIntervalConfigs)?t.moveIntervalConfigs.map(e=>Dc.fromJSON(e)):[],moveCallConfigs:globalThis.Array.isArray(t?.moveCallConfigs)?t.moveCallConfigs.map(e=>Ai.fromJSON(e)):[],moveResourceChangeConfigs:globalThis.Array.isArray(t?.moveResourceChangeConfigs)?t.moveResourceChangeConfigs.map(e=>Ci.fromJSON(e)):[],logConfigs:globalThis.Array.isArray(t?.logConfigs)?t.logConfigs.map(e=>Ei.fromJSON(e)):[]}},toJSON(t){let e={};return t.chainId!==""&&(e.chainId=t.chainId),t.address!==""&&(e.address=t.address),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.intervalConfigs?.length&&(e.intervalConfigs=t.intervalConfigs.map(r=>wt.toJSON(r))),t.aptosIntervalConfigs?.length&&(e.aptosIntervalConfigs=t.aptosIntervalConfigs.map(r=>Bc.toJSON(r))),t.moveIntervalConfigs?.length&&(e.moveIntervalConfigs=t.moveIntervalConfigs.map(r=>Dc.toJSON(r))),t.moveCallConfigs?.length&&(e.moveCallConfigs=t.moveCallConfigs.map(r=>Ai.toJSON(r))),t.moveResourceChangeConfigs?.length&&(e.moveResourceChangeConfigs=t.moveResourceChangeConfigs.map(r=>Ci.toJSON(r))),t.logConfigs?.length&&(e.logConfigs=t.logConfigs.map(r=>Ei.toJSON(r))),e},create(t){return xc.fromPartial(t??{})},fromPartial(t){let e=ID();return e.chainId=t.chainId??"",e.address=t.address??"",e.startBlock=t.startBlock??BigInt("0"),e.intervalConfigs=t.intervalConfigs?.map(r=>wt.fromPartial(r))||[],e.aptosIntervalConfigs=t.aptosIntervalConfigs?.map(r=>Bc.fromPartial(r))||[],e.moveIntervalConfigs=t.moveIntervalConfigs?.map(r=>Dc.fromPartial(r))||[],e.moveCallConfigs=t.moveCallConfigs?.map(r=>Ai.fromPartial(r))||[],e.moveResourceChangeConfigs=t.moveResourceChangeConfigs?.map(r=>Ci.fromPartial(r))||[],e.logConfigs=t.logConfigs?.map(r=>Ei.fromPartial(r))||[],e}};function OD(){return{recentInterval:0,backfillInterval:0}}var vi={encode(t,e=S.default.Writer.create()){return t.recentInterval!==0&&e.uint32(8).int32(t.recentInterval),t.backfillInterval!==0&&e.uint32(16).int32(t.backfillInterval),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=OD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.recentInterval=r.int32();continue;case 2:if(a!==16)break;i.backfillInterval=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{recentInterval:T(t.recentInterval)?globalThis.Number(t.recentInterval):0,backfillInterval:T(t.backfillInterval)?globalThis.Number(t.backfillInterval):0}},toJSON(t){let e={};return t.recentInterval!==0&&(e.recentInterval=Math.round(t.recentInterval)),t.backfillInterval!==0&&(e.backfillInterval=Math.round(t.backfillInterval)),e},create(t){return vi.fromPartial(t??{})},fromPartial(t){let e=OD();return e.recentInterval=t.recentInterval??0,e.backfillInterval=t.backfillInterval??0,e}};function ND(){return{handlerId:0,minutes:0,minutesInterval:void 0,slot:0,slotInterval:void 0,fetchConfig:void 0}}var wt={encode(t,e=S.default.Writer.create()){return t.handlerId!==0&&e.uint32(8).int32(t.handlerId),t.minutes!==0&&e.uint32(16).int32(t.minutes),t.minutesInterval!==void 0&&vi.encode(t.minutesInterval,e.uint32(34).fork()).ldelim(),t.slot!==0&&e.uint32(24).int32(t.slot),t.slotInterval!==void 0&&vi.encode(t.slotInterval,e.uint32(42).fork()).ldelim(),t.fetchConfig!==void 0&&Pt.encode(t.fetchConfig,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ND();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.handlerId=r.int32();continue;case 2:if(a!==16)break;i.minutes=r.int32();continue;case 4:if(a!==34)break;i.minutesInterval=vi.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.slot=r.int32();continue;case 5:if(a!==42)break;i.slotInterval=vi.decode(r,r.uint32());continue;case 6:if(a!==50)break;i.fetchConfig=Pt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,minutes:T(t.minutes)?globalThis.Number(t.minutes):0,minutesInterval:T(t.minutesInterval)?vi.fromJSON(t.minutesInterval):void 0,slot:T(t.slot)?globalThis.Number(t.slot):0,slotInterval:T(t.slotInterval)?vi.fromJSON(t.slotInterval):void 0,fetchConfig:T(t.fetchConfig)?Pt.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.minutes!==0&&(e.minutes=Math.round(t.minutes)),t.minutesInterval!==void 0&&(e.minutesInterval=vi.toJSON(t.minutesInterval)),t.slot!==0&&(e.slot=Math.round(t.slot)),t.slotInterval!==void 0&&(e.slotInterval=vi.toJSON(t.slotInterval)),t.fetchConfig!==void 0&&(e.fetchConfig=Pt.toJSON(t.fetchConfig)),e},create(t){return wt.fromPartial(t??{})},fromPartial(t){let e=ND();return e.handlerId=t.handlerId??0,e.minutes=t.minutes??0,e.minutesInterval=t.minutesInterval!==void 0&&t.minutesInterval!==null?vi.fromPartial(t.minutesInterval):void 0,e.slot=t.slot??0,e.slotInterval=t.slotInterval!==void 0&&t.slotInterval!==null?vi.fromPartial(t.slotInterval):void 0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Pt.fromPartial(t.fetchConfig):void 0,e}};function RD(){return{intervalConfig:void 0,type:""}}var Bc={encode(t,e=S.default.Writer.create()){return t.intervalConfig!==void 0&&wt.encode(t.intervalConfig,e.uint32(10).fork()).ldelim(),t.type!==""&&e.uint32(18).string(t.type),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=RD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.intervalConfig=wt.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.type=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{intervalConfig:T(t.intervalConfig)?wt.fromJSON(t.intervalConfig):void 0,type:T(t.type)?globalThis.String(t.type):""}},toJSON(t){let e={};return t.intervalConfig!==void 0&&(e.intervalConfig=wt.toJSON(t.intervalConfig)),t.type!==""&&(e.type=t.type),e},create(t){return Bc.fromPartial(t??{})},fromPartial(t){let e=RD();return e.intervalConfig=t.intervalConfig!==void 0&&t.intervalConfig!==null?wt.fromPartial(t.intervalConfig):void 0,e.type=t.type??"",e}};function wD(){return{intervalConfig:void 0,type:"",ownerType:0,fetchConfig:void 0}}var Dc={encode(t,e=S.default.Writer.create()){return t.intervalConfig!==void 0&&wt.encode(t.intervalConfig,e.uint32(10).fork()).ldelim(),t.type!==""&&e.uint32(18).string(t.type),t.ownerType!==0&&e.uint32(24).int32(t.ownerType),t.fetchConfig!==void 0&&Hc.encode(t.fetchConfig,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=wD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.intervalConfig=wt.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.type=r.string();continue;case 3:if(a!==24)break;i.ownerType=r.int32();continue;case 4:if(a!==34)break;i.fetchConfig=Hc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{intervalConfig:T(t.intervalConfig)?wt.fromJSON(t.intervalConfig):void 0,type:T(t.type)?globalThis.String(t.type):"",ownerType:T(t.ownerType)?bX(t.ownerType):0,fetchConfig:T(t.fetchConfig)?Hc.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.intervalConfig!==void 0&&(e.intervalConfig=wt.toJSON(t.intervalConfig)),t.type!==""&&(e.type=t.type),t.ownerType!==0&&(e.ownerType=SX(t.ownerType)),t.fetchConfig!==void 0&&(e.fetchConfig=Hc.toJSON(t.fetchConfig)),e},create(t){return Dc.fromPartial(t??{})},fromPartial(t){let e=wD();return e.intervalConfig=t.intervalConfig!==void 0&&t.intervalConfig!==null?wt.fromPartial(t.intervalConfig):void 0,e.type=t.type??"",e.ownerType=t.ownerType??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Hc.fromPartial(t.fetchConfig):void 0,e}};function PD(){return{name:"",chainId:"",address:"",abi:""}}var Si={encode(t,e=S.default.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.chainId!==""&&e.uint32(18).string(t.chainId),t.address!==""&&e.uint32(26).string(t.address),t.abi!==""&&e.uint32(34).string(t.abi),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=PD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.name=r.string();continue;case 2:if(a!==18)break;i.chainId=r.string();continue;case 3:if(a!==26)break;i.address=r.string();continue;case 4:if(a!==34)break;i.abi=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{name:T(t.name)?globalThis.String(t.name):"",chainId:T(t.chainId)?globalThis.String(t.chainId):"",address:T(t.address)?globalThis.String(t.address):"",abi:T(t.abi)?globalThis.String(t.abi):""}},toJSON(t){let e={};return t.name!==""&&(e.name=t.name),t.chainId!==""&&(e.chainId=t.chainId),t.address!==""&&(e.address=t.address),t.abi!==""&&(e.abi=t.abi),e},create(t){return Si.fromPartial(t??{})},fromPartial(t){let e=PD();return e.name=t.name??"",e.chainId=t.chainId??"",e.address=t.address??"",e.abi=t.abi??"",e}};function xD(){return{contract:void 0,startBlock:BigInt("0"),endBlock:BigInt("0"),templateId:0,baseLabels:void 0}}var _i={encode(t,e=S.default.Writer.create()){if(t.contract!==void 0&&Si.encode(t.contract,e.uint32(10).fork()).ldelim(),t.startBlock!==BigInt("0")){if(BigInt.asUintN(64,t.startBlock)!==t.startBlock)throw new globalThis.Error("value provided for field message.startBlock of type uint64 too large");e.uint32(16).uint64(t.startBlock.toString())}if(t.endBlock!==BigInt("0")){if(BigInt.asUintN(64,t.endBlock)!==t.endBlock)throw new globalThis.Error("value provided for field message.endBlock of type uint64 too large");e.uint32(24).uint64(t.endBlock.toString())}return t.templateId!==0&&e.uint32(32).int32(t.templateId),t.baseLabels!==void 0&&R.encode(R.wrap(t.baseLabels),e.uint32(42).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=xD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contract=Si.decode(r,r.uint32());continue;case 2:if(a!==16)break;i.startBlock=Er(r.uint64());continue;case 3:if(a!==24)break;i.endBlock=Er(r.uint64());continue;case 4:if(a!==32)break;i.templateId=r.int32();continue;case 5:if(a!==42)break;i.baseLabels=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{contract:T(t.contract)?Si.fromJSON(t.contract):void 0,startBlock:T(t.startBlock)?BigInt(t.startBlock):BigInt("0"),endBlock:T(t.endBlock)?BigInt(t.endBlock):BigInt("0"),templateId:T(t.templateId)?globalThis.Number(t.templateId):0,baseLabels:We(t.baseLabels)?t.baseLabels:void 0}},toJSON(t){let e={};return t.contract!==void 0&&(e.contract=Si.toJSON(t.contract)),t.startBlock!==BigInt("0")&&(e.startBlock=t.startBlock.toString()),t.endBlock!==BigInt("0")&&(e.endBlock=t.endBlock.toString()),t.templateId!==0&&(e.templateId=Math.round(t.templateId)),t.baseLabels!==void 0&&(e.baseLabels=t.baseLabels),e},create(t){return _i.fromPartial(t??{})},fromPartial(t){let e=xD();return e.contract=t.contract!==void 0&&t.contract!==null?Si.fromPartial(t.contract):void 0,e.startBlock=t.startBlock??BigInt("0"),e.endBlock=t.endBlock??BigInt("0"),e.templateId=t.templateId??0,e.baseLabels=t.baseLabels??void 0,e}};function BD(){return{templateInstances:[]}}var fL={encode(t,e=S.default.Writer.create()){for(let r of t.templateInstances)_i.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=BD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.templateInstances.push(_i.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{templateInstances:globalThis.Array.isArray(t?.templateInstances)?t.templateInstances.map(e=>_i.fromJSON(e)):[]}},toJSON(t){let e={};return t.templateInstances?.length&&(e.templateInstances=t.templateInstances.map(r=>_i.toJSON(r))),e},create(t){return fL.fromPartial(t??{})},fromPartial(t){let e=BD();return e.templateInstances=t.templateInstances?.map(r=>_i.fromPartial(r))||[],e}};function DD(){return{transaction:!1,transactionReceipt:!1,transactionReceiptLogs:!1,block:!1,trace:!1}}var Pt={encode(t,e=S.default.Writer.create()){return t.transaction!==!1&&e.uint32(8).bool(t.transaction),t.transactionReceipt!==!1&&e.uint32(16).bool(t.transactionReceipt),t.transactionReceiptLogs!==!1&&e.uint32(40).bool(t.transactionReceiptLogs),t.block!==!1&&e.uint32(24).bool(t.block),t.trace!==!1&&e.uint32(32).bool(t.trace),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=DD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.transaction=r.bool();continue;case 2:if(a!==16)break;i.transactionReceipt=r.bool();continue;case 5:if(a!==40)break;i.transactionReceiptLogs=r.bool();continue;case 3:if(a!==24)break;i.block=r.bool();continue;case 4:if(a!==32)break;i.trace=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:T(t.transaction)?globalThis.Boolean(t.transaction):!1,transactionReceipt:T(t.transactionReceipt)?globalThis.Boolean(t.transactionReceipt):!1,transactionReceiptLogs:T(t.transactionReceiptLogs)?globalThis.Boolean(t.transactionReceiptLogs):!1,block:T(t.block)?globalThis.Boolean(t.block):!1,trace:T(t.trace)?globalThis.Boolean(t.trace):!1}},toJSON(t){let e={};return t.transaction!==!1&&(e.transaction=t.transaction),t.transactionReceipt!==!1&&(e.transactionReceipt=t.transactionReceipt),t.transactionReceiptLogs!==!1&&(e.transactionReceiptLogs=t.transactionReceiptLogs),t.block!==!1&&(e.block=t.block),t.trace!==!1&&(e.trace=t.trace),e},create(t){return Pt.fromPartial(t??{})},fromPartial(t){let e=DD();return e.transaction=t.transaction??!1,e.transactionReceipt=t.transactionReceipt??!1,e.transactionReceiptLogs=t.transactionReceiptLogs??!1,e.block=t.block??!1,e.trace=t.trace??!1,e}};function MD(){return{signature:"",handlerId:0,fetchConfig:void 0}}var Mc={encode(t,e=S.default.Writer.create()){return t.signature!==""&&e.uint32(10).string(t.signature),t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&Pt.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=MD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.signature=r.string();continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=Pt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{signature:T(t.signature)?globalThis.String(t.signature):"",handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:T(t.fetchConfig)?Pt.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.signature!==""&&(e.signature=t.signature),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=Pt.toJSON(t.fetchConfig)),e},create(t){return Mc.fromPartial(t??{})},fromPartial(t){let e=MD();return e.signature=t.signature??"",e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Pt.fromPartial(t.fetchConfig):void 0,e}};function LD(){return{handlerId:0,fetchConfig:void 0}}var Lc={encode(t,e=S.default.Writer.create()){return t.handlerId!==0&&e.uint32(8).int32(t.handlerId),t.fetchConfig!==void 0&&Pt.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=LD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=Pt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:T(t.fetchConfig)?Pt.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=Pt.toJSON(t.fetchConfig)),e},create(t){return Lc.fromPartial(t??{})},fromPartial(t){let e=LD();return e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Pt.fromPartial(t.fetchConfig):void 0,e}};function FD(){return{filters:[],handlerId:0,fetchConfig:void 0}}var Ei={encode(t,e=S.default.Writer.create()){for(let r of t.filters)Jc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&Pt.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=FD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Jc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=Pt.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Jc.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:T(t.fetchConfig)?Pt.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Jc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=Pt.toJSON(t.fetchConfig)),e},create(t){return Ei.fromPartial(t??{})},fromPartial(t){let e=FD();return e.filters=t.filters?.map(r=>Jc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Pt.fromPartial(t.fetchConfig):void 0,e}};function qD(){return{filters:[],handlerId:0}}var Fc={encode(t,e=S.default.Writer.create()){for(let r of t.filters)qc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=qD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(qc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>qc.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>qc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Fc.fromPartial(t??{})},fromPartial(t){let e=qD();return e.filters=t.filters?.map(r=>qc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function UD(){return{assetId:void 0,fromAddress:void 0,toAddress:void 0}}var qc={encode(t,e=S.default.Writer.create()){return t.assetId!==void 0&&e.uint32(10).string(t.assetId),t.fromAddress!==void 0&&e.uint32(18).string(t.fromAddress),t.toAddress!==void 0&&e.uint32(26).string(t.toAddress),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=UD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.assetId=r.string();continue;case 2:if(a!==18)break;i.fromAddress=r.string();continue;case 3:if(a!==26)break;i.toAddress=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{assetId:T(t.assetId)?globalThis.String(t.assetId):void 0,fromAddress:T(t.fromAddress)?globalThis.String(t.fromAddress):void 0,toAddress:T(t.toAddress)?globalThis.String(t.toAddress):void 0}},toJSON(t){let e={};return t.assetId!==void 0&&(e.assetId=t.assetId),t.fromAddress!==void 0&&(e.fromAddress=t.fromAddress),t.toAddress!==void 0&&(e.toAddress=t.toAddress),e},create(t){return qc.fromPartial(t??{})},fromPartial(t){let e=UD();return e.assetId=t.assetId??void 0,e.fromAddress=t.fromAddress??void 0,e.toAddress=t.toAddress??void 0,e}};function VD(){return{logIds:[],handlerId:0}}var Uc={encode(t,e=S.default.Writer.create()){for(let r of t.logIds)e.uint32(10).string(r);return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=VD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.logIds.push(r.string());continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{logIds:globalThis.Array.isArray(t?.logIds)?t.logIds.map(e=>globalThis.String(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.logIds?.length&&(e.logIds=t.logIds),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Uc.fromPartial(t??{})},fromPartial(t){let e=VD();return e.logIds=t.logIds?.map(r=>r)||[],e.handlerId=t.handlerId??0,e}};function JD(){return{logFilters:[],handlerId:0}}var Vc={encode(t,e=S.default.Writer.create()){for(let r of t.logFilters)e.uint32(10).string(r);return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=JD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.logFilters.push(r.string());continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{logFilters:globalThis.Array.isArray(t?.logFilters)?t.logFilters.map(e=>globalThis.String(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.logFilters?.length&&(e.logFilters=t.logFilters),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Vc.fromPartial(t??{})},fromPartial(t){let e=JD();return e.logFilters=t.logFilters?.map(r=>r)||[],e.handlerId=t.handlerId??0,e}};function WD(){return{topics:[],address:void 0,addressType:void 0}}var Jc={encode(t,e=S.default.Writer.create()){for(let r of t.topics)nd.encode(r,e.uint32(10).fork()).ldelim();return t.address!==void 0&&e.uint32(18).string(t.address),t.addressType!==void 0&&e.uint32(24).int32(t.addressType),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=WD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.topics.push(nd.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.address=r.string();continue;case 3:if(a!==24)break;i.addressType=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{topics:globalThis.Array.isArray(t?.topics)?t.topics.map(e=>nd.fromJSON(e)):[],address:T(t.address)?globalThis.String(t.address):void 0,addressType:T(t.addressType)?_X(t.addressType):void 0}},toJSON(t){let e={};return t.topics?.length&&(e.topics=t.topics.map(r=>nd.toJSON(r))),t.address!==void 0&&(e.address=t.address),t.addressType!==void 0&&(e.addressType=EX(t.addressType)),e},create(t){return Jc.fromPartial(t??{})},fromPartial(t){let e=WD();return e.topics=t.topics?.map(r=>nd.fromPartial(r))||[],e.address=t.address??void 0,e.addressType=t.addressType??void 0,e}};function GD(){return{innerInstruction:!1,parsedInstruction:!1,rawDataInstruction:!1}}var Wc={encode(t,e=S.default.Writer.create()){return t.innerInstruction!==!1&&e.uint32(8).bool(t.innerInstruction),t.parsedInstruction!==!1&&e.uint32(16).bool(t.parsedInstruction),t.rawDataInstruction!==!1&&e.uint32(24).bool(t.rawDataInstruction),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=GD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.innerInstruction=r.bool();continue;case 2:if(a!==16)break;i.parsedInstruction=r.bool();continue;case 3:if(a!==24)break;i.rawDataInstruction=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{innerInstruction:T(t.innerInstruction)?globalThis.Boolean(t.innerInstruction):!1,parsedInstruction:T(t.parsedInstruction)?globalThis.Boolean(t.parsedInstruction):!1,rawDataInstruction:T(t.rawDataInstruction)?globalThis.Boolean(t.rawDataInstruction):!1}},toJSON(t){let e={};return t.innerInstruction!==!1&&(e.innerInstruction=t.innerInstruction),t.parsedInstruction!==!1&&(e.parsedInstruction=t.parsedInstruction),t.rawDataInstruction!==!1&&(e.rawDataInstruction=t.rawDataInstruction),e},create(t){return Wc.fromPartial(t??{})},fromPartial(t){let e=GD();return e.innerInstruction=t.innerInstruction??!1,e.parsedInstruction=t.parsedInstruction??!1,e.rawDataInstruction=t.rawDataInstruction??!1,e}};function HD(){return{moveTypePrefix:""}}var Gc={encode(t,e=S.default.Writer.create()){return t.moveTypePrefix!==""&&e.uint32(10).string(t.moveTypePrefix),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=HD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.moveTypePrefix=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{moveTypePrefix:T(t.moveTypePrefix)?globalThis.String(t.moveTypePrefix):""}},toJSON(t){let e={};return t.moveTypePrefix!==""&&(e.moveTypePrefix=t.moveTypePrefix),e},create(t){return Gc.fromPartial(t??{})},fromPartial(t){let e=HD();return e.moveTypePrefix=t.moveTypePrefix??"",e}};function zD(){return{resourceChanges:!1,allEvents:!1,inputs:!1,resourceConfig:void 0,supportMultisigFunc:void 0}}var Ti={encode(t,e=S.default.Writer.create()){return t.resourceChanges!==!1&&e.uint32(8).bool(t.resourceChanges),t.allEvents!==!1&&e.uint32(16).bool(t.allEvents),t.inputs!==!1&&e.uint32(32).bool(t.inputs),t.resourceConfig!==void 0&&Gc.encode(t.resourceConfig,e.uint32(26).fork()).ldelim(),t.supportMultisigFunc!==void 0&&e.uint32(40).bool(t.supportMultisigFunc),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=zD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.resourceChanges=r.bool();continue;case 2:if(a!==16)break;i.allEvents=r.bool();continue;case 4:if(a!==32)break;i.inputs=r.bool();continue;case 3:if(a!==26)break;i.resourceConfig=Gc.decode(r,r.uint32());continue;case 5:if(a!==40)break;i.supportMultisigFunc=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{resourceChanges:T(t.resourceChanges)?globalThis.Boolean(t.resourceChanges):!1,allEvents:T(t.allEvents)?globalThis.Boolean(t.allEvents):!1,inputs:T(t.inputs)?globalThis.Boolean(t.inputs):!1,resourceConfig:T(t.resourceConfig)?Gc.fromJSON(t.resourceConfig):void 0,supportMultisigFunc:T(t.supportMultisigFunc)?globalThis.Boolean(t.supportMultisigFunc):void 0}},toJSON(t){let e={};return t.resourceChanges!==!1&&(e.resourceChanges=t.resourceChanges),t.allEvents!==!1&&(e.allEvents=t.allEvents),t.inputs!==!1&&(e.inputs=t.inputs),t.resourceConfig!==void 0&&(e.resourceConfig=Gc.toJSON(t.resourceConfig)),t.supportMultisigFunc!==void 0&&(e.supportMultisigFunc=t.supportMultisigFunc),e},create(t){return Ti.fromPartial(t??{})},fromPartial(t){let e=zD();return e.resourceChanges=t.resourceChanges??!1,e.allEvents=t.allEvents??!1,e.inputs=t.inputs??!1,e.resourceConfig=t.resourceConfig!==void 0&&t.resourceConfig!==null?Gc.fromPartial(t.resourceConfig):void 0,e.supportMultisigFunc=t.supportMultisigFunc??void 0,e}};function QD(){return{owned:!1}}var Hc={encode(t,e=S.default.Writer.create()){return t.owned!==!1&&e.uint32(8).bool(t.owned),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=QD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.owned=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{owned:T(t.owned)?globalThis.Boolean(t.owned):!1}},toJSON(t){let e={};return t.owned!==!1&&(e.owned=t.owned),e},create(t){return Hc.fromPartial(t??{})},fromPartial(t){let e=QD();return e.owned=t.owned??!1,e}};function KD(){return{filters:[],handlerId:0,fetchConfig:void 0}}var zc={encode(t,e=S.default.Writer.create()){for(let r of t.filters)Qc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&Ti.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=KD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Qc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=Ti.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Qc.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:T(t.fetchConfig)?Ti.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Qc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=Ti.toJSON(t.fetchConfig)),e},create(t){return zc.fromPartial(t??{})},fromPartial(t){let e=KD();return e.filters=t.filters?.map(r=>Qc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Ti.fromPartial(t.fetchConfig):void 0,e}};function ZD(){return{type:"",account:""}}var Qc={encode(t,e=S.default.Writer.create()){return t.type!==""&&e.uint32(10).string(t.type),t.account!==""&&e.uint32(18).string(t.account),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ZD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.type=r.string();continue;case 2:if(a!==18)break;i.account=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{type:T(t.type)?globalThis.String(t.type):"",account:T(t.account)?globalThis.String(t.account):""}},toJSON(t){let e={};return t.type!==""&&(e.type=t.type),t.account!==""&&(e.account=t.account),e},create(t){return Qc.fromPartial(t??{})},fromPartial(t){let e=ZD();return e.type=t.type??"",e.account=t.account??"",e}};function XD(){return{filters:[],handlerId:0,fetchConfig:void 0}}var Ai={encode(t,e=S.default.Writer.create()){for(let r of t.filters)Kc.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),t.fetchConfig!==void 0&&Ti.encode(t.fetchConfig,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=XD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Kc.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue;case 3:if(a!==26)break;i.fetchConfig=Ti.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Kc.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0,fetchConfig:T(t.fetchConfig)?Ti.fromJSON(t.fetchConfig):void 0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Kc.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),t.fetchConfig!==void 0&&(e.fetchConfig=Ti.toJSON(t.fetchConfig)),e},create(t){return Ai.fromPartial(t??{})},fromPartial(t){let e=XD();return e.filters=t.filters?.map(r=>Kc.fromPartial(r))||[],e.handlerId=t.handlerId??0,e.fetchConfig=t.fetchConfig!==void 0&&t.fetchConfig!==null?Ti.fromPartial(t.fetchConfig):void 0,e}};function YD(){return{type:"",handlerId:0}}var Ci={encode(t,e=S.default.Writer.create()){return t.type!==""&&e.uint32(10).string(t.type),t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=YD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.type=r.string();continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{type:T(t.type)?globalThis.String(t.type):"",handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.type!==""&&(e.type=t.type),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Ci.fromPartial(t??{})},fromPartial(t){let e=YD();return e.type=t.type??"",e.handlerId=t.handlerId??0,e}};function $D(){return{function:"",typeArguments:[],withTypeArguments:!1,includeFailed:!1,publicKeyPrefix:"",fromAndToAddress:void 0}}var Kc={encode(t,e=S.default.Writer.create()){t.function!==""&&e.uint32(10).string(t.function);for(let r of t.typeArguments)e.uint32(18).string(r);return t.withTypeArguments!==!1&&e.uint32(24).bool(t.withTypeArguments),t.includeFailed!==!1&&e.uint32(32).bool(t.includeFailed),t.publicKeyPrefix!==""&&e.uint32(42).string(t.publicKeyPrefix),t.fromAndToAddress!==void 0&&Zc.encode(t.fromAndToAddress,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=$D();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.function=r.string();continue;case 2:if(a!==18)break;i.typeArguments.push(r.string());continue;case 3:if(a!==24)break;i.withTypeArguments=r.bool();continue;case 4:if(a!==32)break;i.includeFailed=r.bool();continue;case 5:if(a!==42)break;i.publicKeyPrefix=r.string();continue;case 6:if(a!==50)break;i.fromAndToAddress=Zc.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{function:T(t.function)?globalThis.String(t.function):"",typeArguments:globalThis.Array.isArray(t?.typeArguments)?t.typeArguments.map(e=>globalThis.String(e)):[],withTypeArguments:T(t.withTypeArguments)?globalThis.Boolean(t.withTypeArguments):!1,includeFailed:T(t.includeFailed)?globalThis.Boolean(t.includeFailed):!1,publicKeyPrefix:T(t.publicKeyPrefix)?globalThis.String(t.publicKeyPrefix):"",fromAndToAddress:T(t.fromAndToAddress)?Zc.fromJSON(t.fromAndToAddress):void 0}},toJSON(t){let e={};return t.function!==""&&(e.function=t.function),t.typeArguments?.length&&(e.typeArguments=t.typeArguments),t.withTypeArguments!==!1&&(e.withTypeArguments=t.withTypeArguments),t.includeFailed!==!1&&(e.includeFailed=t.includeFailed),t.publicKeyPrefix!==""&&(e.publicKeyPrefix=t.publicKeyPrefix),t.fromAndToAddress!==void 0&&(e.fromAndToAddress=Zc.toJSON(t.fromAndToAddress)),e},create(t){return Kc.fromPartial(t??{})},fromPartial(t){let e=$D();return e.function=t.function??"",e.typeArguments=t.typeArguments?.map(r=>r)||[],e.withTypeArguments=t.withTypeArguments??!1,e.includeFailed=t.includeFailed??!1,e.publicKeyPrefix=t.publicKeyPrefix??"",e.fromAndToAddress=t.fromAndToAddress!==void 0&&t.fromAndToAddress!==null?Zc.fromPartial(t.fromAndToAddress):void 0,e}};function jD(){return{from:"",to:""}}var Zc={encode(t,e=S.default.Writer.create()){return t.from!==""&&e.uint32(10).string(t.from),t.to!==""&&e.uint32(18).string(t.to),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=jD();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.from=r.string();continue;case 2:if(a!==18)break;i.to=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{from:T(t.from)?globalThis.String(t.from):"",to:T(t.to)?globalThis.String(t.to):""}},toJSON(t){let e={};return t.from!==""&&(e.from=t.from),t.to!==""&&(e.to=t.to),e},create(t){return Zc.fromPartial(t??{})},fromPartial(t){let e=jD();return e.from=t.from??"",e.to=t.to??"",e}};function eM(){return{filters:[],handlerId:0}}var Xc={encode(t,e=S.default.Writer.create()){for(let r of t.filters)ed.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=eM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(ed.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>ed.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>ed.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Xc.fromPartial(t??{})},fromPartial(t){let e=eM();return e.filters=t.filters?.map(r=>ed.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function tM(){return{filters:[],handlerId:0}}var Yc={encode(t,e=S.default.Writer.create()){for(let r of t.filters)ki.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=tM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(ki.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>ki.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>ki.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return Yc.fromPartial(t??{})},fromPartial(t){let e=tM();return e.filters=t.filters?.map(r=>ki.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function rM(){return{inputFilter:void 0,outputFilter:void 0,filter:[]}}var ki={encode(t,e=S.default.Writer.create()){t.inputFilter!==void 0&&$c.encode(t.inputFilter,e.uint32(10).fork()).ldelim(),t.outputFilter!==void 0&&jc.encode(t.outputFilter,e.uint32(18).fork()).ldelim();for(let r of t.filter)Sr.encode(r,e.uint32(26).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=rM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.inputFilter=$c.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.outputFilter=jc.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.filter.push(Sr.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{inputFilter:T(t.inputFilter)?$c.fromJSON(t.inputFilter):void 0,outputFilter:T(t.outputFilter)?jc.fromJSON(t.outputFilter):void 0,filter:globalThis.Array.isArray(t?.filter)?t.filter.map(e=>Sr.fromJSON(e)):[]}},toJSON(t){let e={};return t.inputFilter!==void 0&&(e.inputFilter=$c.toJSON(t.inputFilter)),t.outputFilter!==void 0&&(e.outputFilter=jc.toJSON(t.outputFilter)),t.filter?.length&&(e.filter=t.filter.map(r=>Sr.toJSON(r))),e},create(t){return ki.fromPartial(t??{})},fromPartial(t){let e=rM();return e.inputFilter=t.inputFilter!==void 0&&t.inputFilter!==null?$c.fromPartial(t.inputFilter):void 0,e.outputFilter=t.outputFilter!==void 0&&t.outputFilter!==null?jc.fromPartial(t.outputFilter):void 0,e.filter=t.filter?.map(r=>Sr.fromPartial(r))||[],e}};function nM(){return{eq:void 0,gt:void 0,gte:void 0,lt:void 0,lte:void 0,ne:void 0,prefix:void 0,contains:void 0,notContains:void 0,lengthEq:void 0,lengthGt:void 0,lengthLt:void 0,hasAny:void 0,hasAll:void 0,in:void 0}}var qa={encode(t,e=S.default.Writer.create()){return t.eq!==void 0&&Ee.encode(t.eq,e.uint32(10).fork()).ldelim(),t.gt!==void 0&&Ee.encode(t.gt,e.uint32(18).fork()).ldelim(),t.gte!==void 0&&Ee.encode(t.gte,e.uint32(26).fork()).ldelim(),t.lt!==void 0&&Ee.encode(t.lt,e.uint32(34).fork()).ldelim(),t.lte!==void 0&&Ee.encode(t.lte,e.uint32(42).fork()).ldelim(),t.ne!==void 0&&Ee.encode(t.ne,e.uint32(50).fork()).ldelim(),t.prefix!==void 0&&e.uint32(58).string(t.prefix),t.contains!==void 0&&e.uint32(66).string(t.contains),t.notContains!==void 0&&e.uint32(74).string(t.notContains),t.lengthEq!==void 0&&e.uint32(80).int32(t.lengthEq),t.lengthGt!==void 0&&e.uint32(88).int32(t.lengthGt),t.lengthLt!==void 0&&e.uint32(96).int32(t.lengthLt),t.hasAny!==void 0&&et.encode(t.hasAny,e.uint32(106).fork()).ldelim(),t.hasAll!==void 0&&et.encode(t.hasAll,e.uint32(114).fork()).ldelim(),t.in!==void 0&&et.encode(t.in,e.uint32(122).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=nM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.eq=Ee.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.gt=Ee.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.gte=Ee.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.lt=Ee.decode(r,r.uint32());continue;case 5:if(a!==42)break;i.lte=Ee.decode(r,r.uint32());continue;case 6:if(a!==50)break;i.ne=Ee.decode(r,r.uint32());continue;case 7:if(a!==58)break;i.prefix=r.string();continue;case 8:if(a!==66)break;i.contains=r.string();continue;case 9:if(a!==74)break;i.notContains=r.string();continue;case 10:if(a!==80)break;i.lengthEq=r.int32();continue;case 11:if(a!==88)break;i.lengthGt=r.int32();continue;case 12:if(a!==96)break;i.lengthLt=r.int32();continue;case 13:if(a!==106)break;i.hasAny=et.decode(r,r.uint32());continue;case 14:if(a!==114)break;i.hasAll=et.decode(r,r.uint32());continue;case 15:if(a!==122)break;i.in=et.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{eq:T(t.eq)?Ee.fromJSON(t.eq):void 0,gt:T(t.gt)?Ee.fromJSON(t.gt):void 0,gte:T(t.gte)?Ee.fromJSON(t.gte):void 0,lt:T(t.lt)?Ee.fromJSON(t.lt):void 0,lte:T(t.lte)?Ee.fromJSON(t.lte):void 0,ne:T(t.ne)?Ee.fromJSON(t.ne):void 0,prefix:T(t.prefix)?globalThis.String(t.prefix):void 0,contains:T(t.contains)?globalThis.String(t.contains):void 0,notContains:T(t.notContains)?globalThis.String(t.notContains):void 0,lengthEq:T(t.lengthEq)?globalThis.Number(t.lengthEq):void 0,lengthGt:T(t.lengthGt)?globalThis.Number(t.lengthGt):void 0,lengthLt:T(t.lengthLt)?globalThis.Number(t.lengthLt):void 0,hasAny:T(t.hasAny)?et.fromJSON(t.hasAny):void 0,hasAll:T(t.hasAll)?et.fromJSON(t.hasAll):void 0,in:T(t.in)?et.fromJSON(t.in):void 0}},toJSON(t){let e={};return t.eq!==void 0&&(e.eq=Ee.toJSON(t.eq)),t.gt!==void 0&&(e.gt=Ee.toJSON(t.gt)),t.gte!==void 0&&(e.gte=Ee.toJSON(t.gte)),t.lt!==void 0&&(e.lt=Ee.toJSON(t.lt)),t.lte!==void 0&&(e.lte=Ee.toJSON(t.lte)),t.ne!==void 0&&(e.ne=Ee.toJSON(t.ne)),t.prefix!==void 0&&(e.prefix=t.prefix),t.contains!==void 0&&(e.contains=t.contains),t.notContains!==void 0&&(e.notContains=t.notContains),t.lengthEq!==void 0&&(e.lengthEq=Math.round(t.lengthEq)),t.lengthGt!==void 0&&(e.lengthGt=Math.round(t.lengthGt)),t.lengthLt!==void 0&&(e.lengthLt=Math.round(t.lengthLt)),t.hasAny!==void 0&&(e.hasAny=et.toJSON(t.hasAny)),t.hasAll!==void 0&&(e.hasAll=et.toJSON(t.hasAll)),t.in!==void 0&&(e.in=et.toJSON(t.in)),e},create(t){return qa.fromPartial(t??{})},fromPartial(t){let e=nM();return e.eq=t.eq!==void 0&&t.eq!==null?Ee.fromPartial(t.eq):void 0,e.gt=t.gt!==void 0&&t.gt!==null?Ee.fromPartial(t.gt):void 0,e.gte=t.gte!==void 0&&t.gte!==null?Ee.fromPartial(t.gte):void 0,e.lt=t.lt!==void 0&&t.lt!==null?Ee.fromPartial(t.lt):void 0,e.lte=t.lte!==void 0&&t.lte!==null?Ee.fromPartial(t.lte):void 0,e.ne=t.ne!==void 0&&t.ne!==null?Ee.fromPartial(t.ne):void 0,e.prefix=t.prefix??void 0,e.contains=t.contains??void 0,e.notContains=t.notContains??void 0,e.lengthEq=t.lengthEq??void 0,e.lengthGt=t.lengthGt??void 0,e.lengthLt=t.lengthLt??void 0,e.hasAny=t.hasAny!==void 0&&t.hasAny!==null?et.fromPartial(t.hasAny):void 0,e.hasAll=t.hasAll!==void 0&&t.hasAll!==null?et.fromPartial(t.hasAll):void 0,e.in=t.in!==void 0&&t.in!==null?et.fromPartial(t.in):void 0,e}};function iM(){return{conditions:{}}}var Sr={encode(t,e=S.default.Writer.create()){return Object.entries(t.conditions).forEach(([r,n])=>{XC.encode({key:r,value:n},e.uint32(10).fork()).ldelim()}),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=iM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;let o=XC.decode(r,r.uint32());o.value!==void 0&&(i.conditions[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{conditions:We(t.conditions)?Object.entries(t.conditions).reduce((e,[r,n])=>(e[r]=qa.fromJSON(n),e),{}):{}}},toJSON(t){let e={};if(t.conditions){let r=Object.entries(t.conditions);r.length>0&&(e.conditions={},r.forEach(([n,i])=>{e.conditions[n]=qa.toJSON(i)}))}return e},create(t){return Sr.fromPartial(t??{})},fromPartial(t){let e=iM();return e.conditions=Object.entries(t.conditions??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=qa.fromPartial(i)),r),{}),e}};function aM(){return{key:"",value:void 0}}var XC={encode(t,e=S.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==void 0&&qa.encode(t.value,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=aM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=qa.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:T(t.key)?globalThis.String(t.key):"",value:T(t.value)?qa.fromJSON(t.value):void 0}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==void 0&&(e.value=qa.toJSON(t.value)),e},create(t){return XC.fromPartial(t??{})},fromPartial(t){let e=aM();return e.key=t.key??"",e.value=t.value!==void 0&&t.value!==null?qa.fromPartial(t.value):void 0,e}};function oM(){return{filters:[]}}var Ii={encode(t,e=S.default.Writer.create()){for(let r of t.filters)Sr.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=oM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(Sr.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>Sr.fromJSON(e)):[]}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>Sr.toJSON(r))),e},create(t){return Ii.fromPartial(t??{})},fromPartial(t){let e=oM();return e.filters=t.filters?.map(r=>Sr.fromPartial(r))||[],e}};function sM(){return{filters:void 0,preVOut:void 0,preTransaction:void 0}}var $c={encode(t,e=S.default.Writer.create()){return t.filters!==void 0&&Ii.encode(t.filters,e.uint32(10).fork()).ldelim(),t.preVOut!==void 0&&Sr.encode(t.preVOut,e.uint32(18).fork()).ldelim(),t.preTransaction!==void 0&&ki.encode(t.preTransaction,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=sM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters=Ii.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.preVOut=Sr.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.preTransaction=ki.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:T(t.filters)?Ii.fromJSON(t.filters):void 0,preVOut:T(t.preVOut)?Sr.fromJSON(t.preVOut):void 0,preTransaction:T(t.preTransaction)?ki.fromJSON(t.preTransaction):void 0}},toJSON(t){let e={};return t.filters!==void 0&&(e.filters=Ii.toJSON(t.filters)),t.preVOut!==void 0&&(e.preVOut=Sr.toJSON(t.preVOut)),t.preTransaction!==void 0&&(e.preTransaction=ki.toJSON(t.preTransaction)),e},create(t){return $c.fromPartial(t??{})},fromPartial(t){let e=sM();return e.filters=t.filters!==void 0&&t.filters!==null?Ii.fromPartial(t.filters):void 0,e.preVOut=t.preVOut!==void 0&&t.preVOut!==null?Sr.fromPartial(t.preVOut):void 0,e.preTransaction=t.preTransaction!==void 0&&t.preTransaction!==null?ki.fromPartial(t.preTransaction):void 0,e}};function uM(){return{filters:void 0}}var jc={encode(t,e=S.default.Writer.create()){return t.filters!==void 0&&Ii.encode(t.filters,e.uint32(10).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=uM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters=Ii.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:T(t.filters)?Ii.fromJSON(t.filters):void 0}},toJSON(t){let e={};return t.filters!==void 0&&(e.filters=Ii.toJSON(t.filters)),e},create(t){return jc.fromPartial(t??{})},fromPartial(t){let e=uM();return e.filters=t.filters!==void 0&&t.filters!==null?Ii.fromPartial(t.filters):void 0,e}};function lM(){return{address:"",keys:[]}}var ed={encode(t,e=S.default.Writer.create()){t.address!==""&&e.uint32(10).string(t.address);for(let r of t.keys)e.uint32(18).string(r);return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=lM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 2:if(a!==18)break;i.keys.push(r.string());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:T(t.address)?globalThis.String(t.address):"",keys:globalThis.Array.isArray(t?.keys)?t.keys.map(e=>globalThis.String(e)):[]}},toJSON(t){let e={};return t.address!==""&&(e.address=t.address),t.keys?.length&&(e.keys=t.keys),e},create(t){return ed.fromPartial(t??{})},fromPartial(t){let e=lM();return e.address=t.address??"",e.keys=t.keys?.map(r=>r)||[],e}};function cM(){return{function:"",includeFailed:!1}}var td={encode(t,e=S.default.Writer.create()){return t.function!==""&&e.uint32(10).string(t.function),t.includeFailed!==!1&&e.uint32(16).bool(t.includeFailed),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=cM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.function=r.string();continue;case 2:if(a!==16)break;i.includeFailed=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{function:T(t.function)?globalThis.String(t.function):"",includeFailed:T(t.includeFailed)?globalThis.Boolean(t.includeFailed):!1}},toJSON(t){let e={};return t.function!==""&&(e.function=t.function),t.includeFailed!==!1&&(e.includeFailed=t.includeFailed),e},create(t){return td.fromPartial(t??{})},fromPartial(t){let e=cM();return e.function=t.function??"",e.includeFailed=t.includeFailed??!1,e}};function dM(){return{filters:[],handlerId:0}}var rd={encode(t,e=S.default.Writer.create()){for(let r of t.filters)td.encode(r,e.uint32(10).fork()).ldelim();return t.handlerId!==0&&e.uint32(16).int32(t.handlerId),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=dM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.filters.push(td.decode(r,r.uint32()));continue;case 2:if(a!==16)break;i.handlerId=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>td.fromJSON(e)):[],handlerId:T(t.handlerId)?globalThis.Number(t.handlerId):0}},toJSON(t){let e={};return t.filters?.length&&(e.filters=t.filters.map(r=>td.toJSON(r))),t.handlerId!==0&&(e.handlerId=Math.round(t.handlerId)),e},create(t){return rd.fromPartial(t??{})},fromPartial(t){let e=dM();return e.filters=t.filters?.map(r=>td.fromPartial(r))||[],e.handlerId=t.handlerId??0,e}};function fM(){return{hashes:[]}}var nd={encode(t,e=S.default.Writer.create()){for(let r of t.hashes)e.uint32(10).string(r);return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=fM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.hashes.push(r.string());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{hashes:globalThis.Array.isArray(t?.hashes)?t.hashes.map(e=>globalThis.String(e)):[]}},toJSON(t){let e={};return t.hashes?.length&&(e.hashes=t.hashes),e},create(t){return nd.fromPartial(t??{})},fromPartial(t){let e=fM();return e.hashes=t.hashes?.map(r=>r)||[],e}};function hM(){return{bindings:[]}}var hL={encode(t,e=S.default.Writer.create()){for(let r of t.bindings)_r.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=hM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.bindings.push(_r.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{bindings:globalThis.Array.isArray(t?.bindings)?t.bindings.map(e=>_r.fromJSON(e)):[]}},toJSON(t){let e={};return t.bindings?.length&&(e.bindings=t.bindings.map(r=>_r.toJSON(r))),e},create(t){return hL.fromPartial(t??{})},fromPartial(t){let e=hM();return e.bindings=t.bindings?.map(r=>_r.fromPartial(r))||[],e}};function pM(){return{result:void 0,configUpdated:!1}}var pL={encode(t,e=S.default.Writer.create()){return t.result!==void 0&&gn.encode(t.result,e.uint32(10).fork()).ldelim(),t.configUpdated!==!1&&e.uint32(32).bool(t.configUpdated),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=pM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.result=gn.decode(r,r.uint32());continue;case 4:if(a!==32)break;i.configUpdated=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{result:T(t.result)?gn.fromJSON(t.result):void 0,configUpdated:T(t.configUpdated)?globalThis.Boolean(t.configUpdated):!1}},toJSON(t){let e={};return t.result!==void 0&&(e.result=gn.toJSON(t.result)),t.configUpdated!==!1&&(e.configUpdated=t.configUpdated),e},create(t){return pL.fromPartial(t??{})},fromPartial(t){let e=pM();return e.result=t.result!==void 0&&t.result!==null?gn.fromPartial(t.result):void 0,e.configUpdated=t.configUpdated??!1,e}};function mM(){return{processId:0,binding:void 0,dbResult:void 0}}var mL={encode(t,e=S.default.Writer.create()){return t.processId!==0&&e.uint32(8).int32(t.processId),t.binding!==void 0&&_r.encode(t.binding,e.uint32(18).fork()).ldelim(),t.dbResult!==void 0&&Oi.encode(t.dbResult,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=mM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.processId=r.int32();continue;case 2:if(a!==18)break;i.binding=_r.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.dbResult=Oi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{processId:T(t.processId)?globalThis.Number(t.processId):0,binding:T(t.binding)?_r.fromJSON(t.binding):void 0,dbResult:T(t.dbResult)?Oi.fromJSON(t.dbResult):void 0}},toJSON(t){let e={};return t.processId!==0&&(e.processId=Math.round(t.processId)),t.binding!==void 0&&(e.binding=_r.toJSON(t.binding)),t.dbResult!==void 0&&(e.dbResult=Oi.toJSON(t.dbResult)),e},create(t){return mL.fromPartial(t??{})},fromPartial(t){let e=mM();return e.processId=t.processId??0,e.binding=t.binding!==void 0&&t.binding!==null?_r.fromPartial(t.binding):void 0,e.dbResult=t.dbResult!==void 0&&t.dbResult!==null?Oi.fromPartial(t.dbResult):void 0,e}};function gM(){return{processId:0,dbRequest:void 0,result:void 0}}var gL={encode(t,e=S.default.Writer.create()){return t.processId!==0&&e.uint32(8).int32(t.processId),t.dbRequest!==void 0&&Ni.encode(t.dbRequest,e.uint32(18).fork()).ldelim(),t.result!==void 0&&gn.encode(t.result,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=gM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.processId=r.int32();continue;case 2:if(a!==18)break;i.dbRequest=Ni.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.result=gn.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{processId:T(t.processId)?globalThis.Number(t.processId):0,dbRequest:T(t.dbRequest)?Ni.fromJSON(t.dbRequest):void 0,result:T(t.result)?gn.fromJSON(t.result):void 0}},toJSON(t){let e={};return t.processId!==0&&(e.processId=Math.round(t.processId)),t.dbRequest!==void 0&&(e.dbRequest=Ni.toJSON(t.dbRequest)),t.result!==void 0&&(e.result=gn.toJSON(t.result)),e},create(t){return gL.fromPartial(t??{})},fromPartial(t){let e=gM();return e.processId=t.processId??0,e.dbRequest=t.dbRequest!==void 0&&t.dbRequest!==null?Ni.fromPartial(t.dbRequest):void 0,e.result=t.result!==void 0&&t.result!==null?gn.fromPartial(t.result):void 0,e}};function yM(){return{processId:0,bindings:void 0,dbResult:void 0}}var yL={encode(t,e=S.default.Writer.create()){return t.processId!==0&&e.uint32(8).int32(t.processId),t.bindings!==void 0&&id.encode(t.bindings,e.uint32(18).fork()).ldelim(),t.dbResult!==void 0&&Oi.encode(t.dbResult,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=yM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.processId=r.int32();continue;case 2:if(a!==18)break;i.bindings=id.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.dbResult=Oi.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{processId:T(t.processId)?globalThis.Number(t.processId):0,bindings:T(t.bindings)?id.fromJSON(t.bindings):void 0,dbResult:T(t.dbResult)?Oi.fromJSON(t.dbResult):void 0}},toJSON(t){let e={};return t.processId!==0&&(e.processId=Math.round(t.processId)),t.bindings!==void 0&&(e.bindings=id.toJSON(t.bindings)),t.dbResult!==void 0&&(e.dbResult=Oi.toJSON(t.dbResult)),e},create(t){return yL.fromPartial(t??{})},fromPartial(t){let e=yM();return e.processId=t.processId??0,e.bindings=t.bindings!==void 0&&t.bindings!==null?id.fromPartial(t.bindings):void 0,e.dbResult=t.dbResult!==void 0&&t.dbResult!==null?Oi.fromPartial(t.dbResult):void 0,e}};function vM(){return{bindings:[]}}var id={encode(t,e=S.default.Writer.create()){for(let r of t.bindings)_r.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=vM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.bindings.push(_r.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{bindings:globalThis.Array.isArray(t?.bindings)?t.bindings.map(e=>_r.fromJSON(e)):[]}},toJSON(t){let e={};return t.bindings?.length&&(e.bindings=t.bindings.map(r=>_r.toJSON(r))),e},create(t){return id.fromPartial(t??{})},fromPartial(t){let e=vM();return e.bindings=t.bindings?.map(r=>_r.fromPartial(r))||[],e}};function bM(){return{processId:0,dbRequest:void 0}}var vL={encode(t,e=S.default.Writer.create()){return t.processId!==0&&e.uint32(8).int32(t.processId),t.dbRequest!==void 0&&Ni.encode(t.dbRequest,e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=bM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.processId=r.int32();continue;case 2:if(a!==18)break;i.dbRequest=Ni.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{processId:T(t.processId)?globalThis.Number(t.processId):0,dbRequest:T(t.dbRequest)?Ni.fromJSON(t.dbRequest):void 0}},toJSON(t){let e={};return t.processId!==0&&(e.processId=Math.round(t.processId)),t.dbRequest!==void 0&&(e.dbRequest=Ni.toJSON(t.dbRequest)),e},create(t){return vL.fromPartial(t??{})},fromPartial(t){let e=bM();return e.processId=t.processId??0,e.dbRequest=t.dbRequest!==void 0&&t.dbRequest!==null?Ni.fromPartial(t.dbRequest):void 0,e}};function SM(){return{opId:BigInt("0"),data:void 0,list:void 0,error:void 0,entities:void 0,entityList:void 0,nextCursor:void 0}}var Oi={encode(t,e=S.default.Writer.create()){if(t.opId!==BigInt("0")){if(BigInt.asUintN(64,t.opId)!==t.opId)throw new globalThis.Error("value provided for field message.opId of type uint64 too large");e.uint32(8).uint64(t.opId.toString())}return t.data!==void 0&&R.encode(R.wrap(t.data),e.uint32(18).fork()).ldelim(),t.list!==void 0&&ra.encode(ra.wrap(t.list),e.uint32(34).fork()).ldelim(),t.error!==void 0&&e.uint32(26).string(t.error),t.entities!==void 0&&lu.encode(t.entities,e.uint32(50).fork()).ldelim(),t.entityList!==void 0&&od.encode(t.entityList,e.uint32(58).fork()).ldelim(),t.nextCursor!==void 0&&e.uint32(42).string(t.nextCursor),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=SM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.opId=Er(r.uint64());continue;case 2:if(a!==18)break;i.data=R.unwrap(R.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.list=ra.unwrap(ra.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.error=r.string();continue;case 6:if(a!==50)break;i.entities=lu.decode(r,r.uint32());continue;case 7:if(a!==58)break;i.entityList=od.decode(r,r.uint32());continue;case 5:if(a!==42)break;i.nextCursor=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{opId:T(t.opId)?BigInt(t.opId):BigInt("0"),data:We(t.data)?t.data:void 0,list:globalThis.Array.isArray(t.list)?[...t.list]:void 0,error:T(t.error)?globalThis.String(t.error):void 0,entities:T(t.entities)?lu.fromJSON(t.entities):void 0,entityList:T(t.entityList)?od.fromJSON(t.entityList):void 0,nextCursor:T(t.nextCursor)?globalThis.String(t.nextCursor):void 0}},toJSON(t){let e={};return t.opId!==BigInt("0")&&(e.opId=t.opId.toString()),t.data!==void 0&&(e.data=t.data),t.list!==void 0&&(e.list=t.list),t.error!==void 0&&(e.error=t.error),t.entities!==void 0&&(e.entities=lu.toJSON(t.entities)),t.entityList!==void 0&&(e.entityList=od.toJSON(t.entityList)),t.nextCursor!==void 0&&(e.nextCursor=t.nextCursor),e},create(t){return Oi.fromPartial(t??{})},fromPartial(t){let e=SM();return e.opId=t.opId??BigInt("0"),e.data=t.data??void 0,e.list=t.list??void 0,e.error=t.error??void 0,e.entities=t.entities!==void 0&&t.entities!==null?lu.fromPartial(t.entities):void 0,e.entityList=t.entityList!==void 0&&t.entityList!==null?od.fromPartial(t.entityList):void 0,e.nextCursor=t.nextCursor??void 0,e}};function _M(){return{entity:"",genBlockNumber:BigInt("0"),genBlockChain:"",genBlockTime:void 0,data:void 0}}var ad={encode(t,e=S.default.Writer.create()){if(t.entity!==""&&e.uint32(10).string(t.entity),t.genBlockNumber!==BigInt("0")){if(BigInt.asUintN(64,t.genBlockNumber)!==t.genBlockNumber)throw new globalThis.Error("value provided for field message.genBlockNumber of type uint64 too large");e.uint32(16).uint64(t.genBlockNumber.toString())}return t.genBlockChain!==""&&e.uint32(26).string(t.genBlockChain),t.genBlockTime!==void 0&&we.encode(Zr(t.genBlockTime),e.uint32(34).fork()).ldelim(),t.data!==void 0&&_t.encode(t.data,e.uint32(42).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=_M();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entity=r.string();continue;case 2:if(a!==16)break;i.genBlockNumber=Er(r.uint64());continue;case 3:if(a!==26)break;i.genBlockChain=r.string();continue;case 4:if(a!==34)break;i.genBlockTime=Pr(we.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.data=_t.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entity:T(t.entity)?globalThis.String(t.entity):"",genBlockNumber:T(t.genBlockNumber)?BigInt(t.genBlockNumber):BigInt("0"),genBlockChain:T(t.genBlockChain)?globalThis.String(t.genBlockChain):"",genBlockTime:T(t.genBlockTime)?Xr(t.genBlockTime):void 0,data:T(t.data)?_t.fromJSON(t.data):void 0}},toJSON(t){let e={};return t.entity!==""&&(e.entity=t.entity),t.genBlockNumber!==BigInt("0")&&(e.genBlockNumber=t.genBlockNumber.toString()),t.genBlockChain!==""&&(e.genBlockChain=t.genBlockChain),t.genBlockTime!==void 0&&(e.genBlockTime=t.genBlockTime.toISOString()),t.data!==void 0&&(e.data=_t.toJSON(t.data)),e},create(t){return ad.fromPartial(t??{})},fromPartial(t){let e=_M();return e.entity=t.entity??"",e.genBlockNumber=t.genBlockNumber??BigInt("0"),e.genBlockChain=t.genBlockChain??"",e.genBlockTime=t.genBlockTime??void 0,e.data=t.data!==void 0&&t.data!==null?_t.fromPartial(t.data):void 0,e}};function EM(){return{entities:[]}}var od={encode(t,e=S.default.Writer.create()){for(let r of t.entities)ad.encode(r,e.uint32(10).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=EM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entities.push(ad.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entities:globalThis.Array.isArray(t?.entities)?t.entities.map(e=>ad.fromJSON(e)):[]}},toJSON(t){let e={};return t.entities?.length&&(e.entities=t.entities.map(r=>ad.toJSON(r))),e},create(t){return od.fromPartial(t??{})},fromPartial(t){let e=EM();return e.entities=t.entities?.map(r=>ad.fromPartial(r))||[],e}};function TM(){return{opId:BigInt("0"),get:void 0,upsert:void 0,delete:void 0,list:void 0}}var Ni={encode(t,e=S.default.Writer.create()){if(t.opId!==BigInt("0")){if(BigInt.asUintN(64,t.opId)!==t.opId)throw new globalThis.Error("value provided for field message.opId of type uint64 too large");e.uint32(8).uint64(t.opId.toString())}return t.get!==void 0&&sd.encode(t.get,e.uint32(18).fork()).ldelim(),t.upsert!==void 0&&ld.encode(t.upsert,e.uint32(26).fork()).ldelim(),t.delete!==void 0&&cd.encode(t.delete,e.uint32(34).fork()).ldelim(),t.list!==void 0&&ud.encode(t.list,e.uint32(42).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=TM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.opId=Er(r.uint64());continue;case 2:if(a!==18)break;i.get=sd.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.upsert=ld.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.delete=cd.decode(r,r.uint32());continue;case 5:if(a!==42)break;i.list=ud.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{opId:T(t.opId)?BigInt(t.opId):BigInt("0"),get:T(t.get)?sd.fromJSON(t.get):void 0,upsert:T(t.upsert)?ld.fromJSON(t.upsert):void 0,delete:T(t.delete)?cd.fromJSON(t.delete):void 0,list:T(t.list)?ud.fromJSON(t.list):void 0}},toJSON(t){let e={};return t.opId!==BigInt("0")&&(e.opId=t.opId.toString()),t.get!==void 0&&(e.get=sd.toJSON(t.get)),t.upsert!==void 0&&(e.upsert=ld.toJSON(t.upsert)),t.delete!==void 0&&(e.delete=cd.toJSON(t.delete)),t.list!==void 0&&(e.list=ud.toJSON(t.list)),e},create(t){return Ni.fromPartial(t??{})},fromPartial(t){let e=TM();return e.opId=t.opId??BigInt("0"),e.get=t.get!==void 0&&t.get!==null?sd.fromPartial(t.get):void 0,e.upsert=t.upsert!==void 0&&t.upsert!==null?ld.fromPartial(t.upsert):void 0,e.delete=t.delete!==void 0&&t.delete!==null?cd.fromPartial(t.delete):void 0,e.list=t.list!==void 0&&t.list!==null?ud.fromPartial(t.list):void 0,e}};function AM(){return{entity:"",id:""}}var sd={encode(t,e=S.default.Writer.create()){return t.entity!==""&&e.uint32(10).string(t.entity),t.id!==""&&e.uint32(18).string(t.id),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=AM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entity=r.string();continue;case 2:if(a!==18)break;i.id=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entity:T(t.entity)?globalThis.String(t.entity):"",id:T(t.id)?globalThis.String(t.id):""}},toJSON(t){let e={};return t.entity!==""&&(e.entity=t.entity),t.id!==""&&(e.id=t.id),e},create(t){return sd.fromPartial(t??{})},fromPartial(t){let e=AM();return e.entity=t.entity??"",e.id=t.id??"",e}};function CM(){return{entity:"",filters:[],cursor:"",pageSize:void 0}}var ud={encode(t,e=S.default.Writer.create()){t.entity!==""&&e.uint32(10).string(t.entity);for(let r of t.filters)dd.encode(r,e.uint32(34).fork()).ldelim();return t.cursor!==""&&e.uint32(42).string(t.cursor),t.pageSize!==void 0&&e.uint32(48).uint32(t.pageSize),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=CM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entity=r.string();continue;case 4:if(a!==34)break;i.filters.push(dd.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.cursor=r.string();continue;case 6:if(a!==48)break;i.pageSize=r.uint32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entity:T(t.entity)?globalThis.String(t.entity):"",filters:globalThis.Array.isArray(t?.filters)?t.filters.map(e=>dd.fromJSON(e)):[],cursor:T(t.cursor)?globalThis.String(t.cursor):"",pageSize:T(t.pageSize)?globalThis.Number(t.pageSize):void 0}},toJSON(t){let e={};return t.entity!==""&&(e.entity=t.entity),t.filters?.length&&(e.filters=t.filters.map(r=>dd.toJSON(r))),t.cursor!==""&&(e.cursor=t.cursor),t.pageSize!==void 0&&(e.pageSize=Math.round(t.pageSize)),e},create(t){return ud.fromPartial(t??{})},fromPartial(t){let e=CM();return e.entity=t.entity??"",e.filters=t.filters?.map(r=>dd.fromPartial(r))||[],e.cursor=t.cursor??"",e.pageSize=t.pageSize??void 0,e}};function kM(){return{entity:[],id:[],data:[],entityData:[]}}var ld={encode(t,e=S.default.Writer.create()){for(let r of t.entity)e.uint32(10).string(r);for(let r of t.id)e.uint32(18).string(r);for(let r of t.data)R.encode(R.wrap(r),e.uint32(26).fork()).ldelim();for(let r of t.entityData)_t.encode(r,e.uint32(34).fork()).ldelim();return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=kM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entity.push(r.string());continue;case 2:if(a!==18)break;i.id.push(r.string());continue;case 3:if(a!==26)break;i.data.push(R.unwrap(R.decode(r,r.uint32())));continue;case 4:if(a!==34)break;i.entityData.push(_t.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entity:globalThis.Array.isArray(t?.entity)?t.entity.map(e=>globalThis.String(e)):[],id:globalThis.Array.isArray(t?.id)?t.id.map(e=>globalThis.String(e)):[],data:globalThis.Array.isArray(t?.data)?[...t.data]:[],entityData:globalThis.Array.isArray(t?.entityData)?t.entityData.map(e=>_t.fromJSON(e)):[]}},toJSON(t){let e={};return t.entity?.length&&(e.entity=t.entity),t.id?.length&&(e.id=t.id),t.data?.length&&(e.data=t.data),t.entityData?.length&&(e.entityData=t.entityData.map(r=>_t.toJSON(r))),e},create(t){return ld.fromPartial(t??{})},fromPartial(t){let e=kM();return e.entity=t.entity?.map(r=>r)||[],e.id=t.id?.map(r=>r)||[],e.data=t.data?.map(r=>r)||[],e.entityData=t.entityData?.map(r=>_t.fromPartial(r))||[],e}};function IM(){return{entity:[],id:[]}}var cd={encode(t,e=S.default.Writer.create()){for(let r of t.entity)e.uint32(10).string(r);for(let r of t.id)e.uint32(18).string(r);return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=IM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.entity.push(r.string());continue;case 2:if(a!==18)break;i.id.push(r.string());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{entity:globalThis.Array.isArray(t?.entity)?t.entity.map(e=>globalThis.String(e)):[],id:globalThis.Array.isArray(t?.id)?t.id.map(e=>globalThis.String(e)):[]}},toJSON(t){let e={};return t.entity?.length&&(e.entity=t.entity),t.id?.length&&(e.id=t.id),e},create(t){return cd.fromPartial(t??{})},fromPartial(t){let e=IM();return e.entity=t.entity?.map(r=>r)||[],e.id=t.id?.map(r=>r)||[],e}};function OM(){return{field:"",op:0,value:void 0}}var dd={encode(t,e=S.default.Writer.create()){return t.field!==""&&e.uint32(10).string(t.field),t.op!==0&&e.uint32(16).int32(t.op),t.value!==void 0&&et.encode(t.value,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=OM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.field=r.string();continue;case 2:if(a!==16)break;i.op=r.int32();continue;case 3:if(a!==26)break;i.value=et.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{field:T(t.field)?globalThis.String(t.field):"",op:T(t.op)?CX(t.op):0,value:T(t.value)?et.fromJSON(t.value):void 0}},toJSON(t){let e={};return t.field!==""&&(e.field=t.field),t.op!==0&&(e.op=kX(t.op)),t.value!==void 0&&(e.value=et.toJSON(t.value)),e},create(t){return dd.fromPartial(t??{})},fromPartial(t){let e=OM();return e.field=t.field??"",e.op=t.op??0,e.value=t.value!==void 0&&t.value!==null?et.fromPartial(t.value):void 0,e}};function NM(){return{raw:new Uint8Array(0),ethLog:void 0,ethBlock:void 0,ethTransaction:void 0,ethTrace:void 0,solInstruction:void 0,aptEvent:void 0,aptCall:void 0,aptResource:void 0,suiEvent:void 0,suiCall:void 0,suiObject:void 0,suiObjectChange:void 0,fuelCall:void 0,fuelBlock:void 0,cosmosCall:void 0,starknetEvents:void 0,btcTransaction:void 0,btcBlock:void 0}}var fd={encode(t,e=S.default.Writer.create()){return t.raw.length!==0&&e.uint32(10).bytes(t.raw),t.ethLog!==void 0&&hd.encode(t.ethLog,e.uint32(18).fork()).ldelim(),t.ethBlock!==void 0&&pd.encode(t.ethBlock,e.uint32(26).fork()).ldelim(),t.ethTransaction!==void 0&&md.encode(t.ethTransaction,e.uint32(34).fork()).ldelim(),t.ethTrace!==void 0&&gd.encode(t.ethTrace,e.uint32(42).fork()).ldelim(),t.solInstruction!==void 0&&yd.encode(t.solInstruction,e.uint32(50).fork()).ldelim(),t.aptEvent!==void 0&&vd.encode(t.aptEvent,e.uint32(58).fork()).ldelim(),t.aptCall!==void 0&&bd.encode(t.aptCall,e.uint32(66).fork()).ldelim(),t.aptResource!==void 0&&Sd.encode(t.aptResource,e.uint32(74).fork()).ldelim(),t.suiEvent!==void 0&&_d.encode(t.suiEvent,e.uint32(82).fork()).ldelim(),t.suiCall!==void 0&&Ed.encode(t.suiCall,e.uint32(90).fork()).ldelim(),t.suiObject!==void 0&&Td.encode(t.suiObject,e.uint32(98).fork()).ldelim(),t.suiObjectChange!==void 0&&Ad.encode(t.suiObjectChange,e.uint32(106).fork()).ldelim(),t.fuelCall!==void 0&&Cd.encode(t.fuelCall,e.uint32(114).fork()).ldelim(),t.fuelBlock!==void 0&&kd.encode(t.fuelBlock,e.uint32(146).fork()).ldelim(),t.cosmosCall!==void 0&&Id.encode(t.cosmosCall,e.uint32(122).fork()).ldelim(),t.starknetEvents!==void 0&&Od.encode(t.starknetEvents,e.uint32(130).fork()).ldelim(),t.btcTransaction!==void 0&&Nd.encode(t.btcTransaction,e.uint32(138).fork()).ldelim(),t.btcBlock!==void 0&&Rd.encode(t.btcBlock,e.uint32(154).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=NM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.raw=r.bytes();continue;case 2:if(a!==18)break;i.ethLog=hd.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.ethBlock=pd.decode(r,r.uint32());continue;case 4:if(a!==34)break;i.ethTransaction=md.decode(r,r.uint32());continue;case 5:if(a!==42)break;i.ethTrace=gd.decode(r,r.uint32());continue;case 6:if(a!==50)break;i.solInstruction=yd.decode(r,r.uint32());continue;case 7:if(a!==58)break;i.aptEvent=vd.decode(r,r.uint32());continue;case 8:if(a!==66)break;i.aptCall=bd.decode(r,r.uint32());continue;case 9:if(a!==74)break;i.aptResource=Sd.decode(r,r.uint32());continue;case 10:if(a!==82)break;i.suiEvent=_d.decode(r,r.uint32());continue;case 11:if(a!==90)break;i.suiCall=Ed.decode(r,r.uint32());continue;case 12:if(a!==98)break;i.suiObject=Td.decode(r,r.uint32());continue;case 13:if(a!==106)break;i.suiObjectChange=Ad.decode(r,r.uint32());continue;case 14:if(a!==114)break;i.fuelCall=Cd.decode(r,r.uint32());continue;case 18:if(a!==146)break;i.fuelBlock=kd.decode(r,r.uint32());continue;case 15:if(a!==122)break;i.cosmosCall=Id.decode(r,r.uint32());continue;case 16:if(a!==130)break;i.starknetEvents=Od.decode(r,r.uint32());continue;case 17:if(a!==138)break;i.btcTransaction=Nd.decode(r,r.uint32());continue;case 19:if(a!==154)break;i.btcBlock=Rd.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{raw:T(t.raw)?IX(t.raw):new Uint8Array(0),ethLog:T(t.ethLog)?hd.fromJSON(t.ethLog):void 0,ethBlock:T(t.ethBlock)?pd.fromJSON(t.ethBlock):void 0,ethTransaction:T(t.ethTransaction)?md.fromJSON(t.ethTransaction):void 0,ethTrace:T(t.ethTrace)?gd.fromJSON(t.ethTrace):void 0,solInstruction:T(t.solInstruction)?yd.fromJSON(t.solInstruction):void 0,aptEvent:T(t.aptEvent)?vd.fromJSON(t.aptEvent):void 0,aptCall:T(t.aptCall)?bd.fromJSON(t.aptCall):void 0,aptResource:T(t.aptResource)?Sd.fromJSON(t.aptResource):void 0,suiEvent:T(t.suiEvent)?_d.fromJSON(t.suiEvent):void 0,suiCall:T(t.suiCall)?Ed.fromJSON(t.suiCall):void 0,suiObject:T(t.suiObject)?Td.fromJSON(t.suiObject):void 0,suiObjectChange:T(t.suiObjectChange)?Ad.fromJSON(t.suiObjectChange):void 0,fuelCall:T(t.fuelCall)?Cd.fromJSON(t.fuelCall):void 0,fuelBlock:T(t.fuelBlock)?kd.fromJSON(t.fuelBlock):void 0,cosmosCall:T(t.cosmosCall)?Id.fromJSON(t.cosmosCall):void 0,starknetEvents:T(t.starknetEvents)?Od.fromJSON(t.starknetEvents):void 0,btcTransaction:T(t.btcTransaction)?Nd.fromJSON(t.btcTransaction):void 0,btcBlock:T(t.btcBlock)?Rd.fromJSON(t.btcBlock):void 0}},toJSON(t){let e={};return t.raw.length!==0&&(e.raw=OX(t.raw)),t.ethLog!==void 0&&(e.ethLog=hd.toJSON(t.ethLog)),t.ethBlock!==void 0&&(e.ethBlock=pd.toJSON(t.ethBlock)),t.ethTransaction!==void 0&&(e.ethTransaction=md.toJSON(t.ethTransaction)),t.ethTrace!==void 0&&(e.ethTrace=gd.toJSON(t.ethTrace)),t.solInstruction!==void 0&&(e.solInstruction=yd.toJSON(t.solInstruction)),t.aptEvent!==void 0&&(e.aptEvent=vd.toJSON(t.aptEvent)),t.aptCall!==void 0&&(e.aptCall=bd.toJSON(t.aptCall)),t.aptResource!==void 0&&(e.aptResource=Sd.toJSON(t.aptResource)),t.suiEvent!==void 0&&(e.suiEvent=_d.toJSON(t.suiEvent)),t.suiCall!==void 0&&(e.suiCall=Ed.toJSON(t.suiCall)),t.suiObject!==void 0&&(e.suiObject=Td.toJSON(t.suiObject)),t.suiObjectChange!==void 0&&(e.suiObjectChange=Ad.toJSON(t.suiObjectChange)),t.fuelCall!==void 0&&(e.fuelCall=Cd.toJSON(t.fuelCall)),t.fuelBlock!==void 0&&(e.fuelBlock=kd.toJSON(t.fuelBlock)),t.cosmosCall!==void 0&&(e.cosmosCall=Id.toJSON(t.cosmosCall)),t.starknetEvents!==void 0&&(e.starknetEvents=Od.toJSON(t.starknetEvents)),t.btcTransaction!==void 0&&(e.btcTransaction=Nd.toJSON(t.btcTransaction)),t.btcBlock!==void 0&&(e.btcBlock=Rd.toJSON(t.btcBlock)),e},create(t){return fd.fromPartial(t??{})},fromPartial(t){let e=NM();return e.raw=t.raw??new Uint8Array(0),e.ethLog=t.ethLog!==void 0&&t.ethLog!==null?hd.fromPartial(t.ethLog):void 0,e.ethBlock=t.ethBlock!==void 0&&t.ethBlock!==null?pd.fromPartial(t.ethBlock):void 0,e.ethTransaction=t.ethTransaction!==void 0&&t.ethTransaction!==null?md.fromPartial(t.ethTransaction):void 0,e.ethTrace=t.ethTrace!==void 0&&t.ethTrace!==null?gd.fromPartial(t.ethTrace):void 0,e.solInstruction=t.solInstruction!==void 0&&t.solInstruction!==null?yd.fromPartial(t.solInstruction):void 0,e.aptEvent=t.aptEvent!==void 0&&t.aptEvent!==null?vd.fromPartial(t.aptEvent):void 0,e.aptCall=t.aptCall!==void 0&&t.aptCall!==null?bd.fromPartial(t.aptCall):void 0,e.aptResource=t.aptResource!==void 0&&t.aptResource!==null?Sd.fromPartial(t.aptResource):void 0,e.suiEvent=t.suiEvent!==void 0&&t.suiEvent!==null?_d.fromPartial(t.suiEvent):void 0,e.suiCall=t.suiCall!==void 0&&t.suiCall!==null?Ed.fromPartial(t.suiCall):void 0,e.suiObject=t.suiObject!==void 0&&t.suiObject!==null?Td.fromPartial(t.suiObject):void 0,e.suiObjectChange=t.suiObjectChange!==void 0&&t.suiObjectChange!==null?Ad.fromPartial(t.suiObjectChange):void 0,e.fuelCall=t.fuelCall!==void 0&&t.fuelCall!==null?Cd.fromPartial(t.fuelCall):void 0,e.fuelBlock=t.fuelBlock!==void 0&&t.fuelBlock!==null?kd.fromPartial(t.fuelBlock):void 0,e.cosmosCall=t.cosmosCall!==void 0&&t.cosmosCall!==null?Id.fromPartial(t.cosmosCall):void 0,e.starknetEvents=t.starknetEvents!==void 0&&t.starknetEvents!==null?Od.fromPartial(t.starknetEvents):void 0,e.btcTransaction=t.btcTransaction!==void 0&&t.btcTransaction!==null?Nd.fromPartial(t.btcTransaction):void 0,e.btcBlock=t.btcBlock!==void 0&&t.btcBlock!==null?Rd.fromPartial(t.btcBlock):void 0,e}};function RM(){return{log:void 0,timestamp:void 0,transaction:void 0,transactionReceipt:void 0,block:void 0}}var hd={encode(t,e=S.default.Writer.create()){return t.log!==void 0&&R.encode(R.wrap(t.log),e.uint32(26).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(34).fork()).ldelim(),t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(18).fork()).ldelim(),t.transactionReceipt!==void 0&&R.encode(R.wrap(t.transactionReceipt),e.uint32(42).fork()).ldelim(),t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=RM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 3:if(a!==26)break;i.log=R.unwrap(R.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.transactionReceipt=R.unwrap(R.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{log:We(t.log)?t.log:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,transaction:We(t.transaction)?t.transaction:void 0,transactionReceipt:We(t.transactionReceipt)?t.transactionReceipt:void 0,block:We(t.block)?t.block:void 0}},toJSON(t){let e={};return t.log!==void 0&&(e.log=t.log),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.transaction!==void 0&&(e.transaction=t.transaction),t.transactionReceipt!==void 0&&(e.transactionReceipt=t.transactionReceipt),t.block!==void 0&&(e.block=t.block),e},create(t){return hd.fromPartial(t??{})},fromPartial(t){let e=RM();return e.log=t.log??void 0,e.timestamp=t.timestamp??void 0,e.transaction=t.transaction??void 0,e.transactionReceipt=t.transactionReceipt??void 0,e.block=t.block??void 0,e}};function wM(){return{block:void 0}}var pd={encode(t,e=S.default.Writer.create()){return t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=wM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{block:We(t.block)?t.block:void 0}},toJSON(t){let e={};return t.block!==void 0&&(e.block=t.block),e},create(t){return pd.fromPartial(t??{})},fromPartial(t){let e=wM();return e.block=t.block??void 0,e}};function PM(){return{transaction:void 0,timestamp:void 0,transactionReceipt:void 0,block:void 0,trace:void 0}}var md={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(34).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(42).fork()).ldelim(),t.transactionReceipt!==void 0&&R.encode(R.wrap(t.transactionReceipt),e.uint32(26).fork()).ldelim(),t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(50).fork()).ldelim(),t.trace!==void 0&&R.encode(R.wrap(t.trace),e.uint32(58).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=PM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 4:if(a!==34)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.transactionReceipt=R.unwrap(R.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue;case 7:if(a!==58)break;i.trace=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,transactionReceipt:We(t.transactionReceipt)?t.transactionReceipt:void 0,block:We(t.block)?t.block:void 0,trace:We(t.trace)?t.trace:void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.transactionReceipt!==void 0&&(e.transactionReceipt=t.transactionReceipt),t.block!==void 0&&(e.block=t.block),t.trace!==void 0&&(e.trace=t.trace),e},create(t){return md.fromPartial(t??{})},fromPartial(t){let e=PM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e.transactionReceipt=t.transactionReceipt??void 0,e.block=t.block??void 0,e.trace=t.trace??void 0,e}};function xM(){return{trace:void 0,timestamp:void 0,transaction:void 0,transactionReceipt:void 0,block:void 0}}var gd={encode(t,e=S.default.Writer.create()){return t.trace!==void 0&&R.encode(R.wrap(t.trace),e.uint32(34).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(42).fork()).ldelim(),t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(18).fork()).ldelim(),t.transactionReceipt!==void 0&&R.encode(R.wrap(t.transactionReceipt),e.uint32(26).fork()).ldelim(),t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=xM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 4:if(a!==34)break;i.trace=R.unwrap(R.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.transactionReceipt=R.unwrap(R.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{trace:We(t.trace)?t.trace:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,transaction:We(t.transaction)?t.transaction:void 0,transactionReceipt:We(t.transactionReceipt)?t.transactionReceipt:void 0,block:We(t.block)?t.block:void 0}},toJSON(t){let e={};return t.trace!==void 0&&(e.trace=t.trace),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.transaction!==void 0&&(e.transaction=t.transaction),t.transactionReceipt!==void 0&&(e.transactionReceipt=t.transactionReceipt),t.block!==void 0&&(e.block=t.block),e},create(t){return gd.fromPartial(t??{})},fromPartial(t){let e=xM();return e.trace=t.trace??void 0,e.timestamp=t.timestamp??void 0,e.transaction=t.transaction??void 0,e.transactionReceipt=t.transactionReceipt??void 0,e.block=t.block??void 0,e}};function BM(){return{instructionData:"",slot:BigInt("0"),programAccountId:"",accounts:[],parsed:void 0}}var yd={encode(t,e=S.default.Writer.create()){if(t.instructionData!==""&&e.uint32(10).string(t.instructionData),t.slot!==BigInt("0")){if(BigInt.asUintN(64,t.slot)!==t.slot)throw new globalThis.Error("value provided for field message.slot of type uint64 too large");e.uint32(16).uint64(t.slot.toString())}t.programAccountId!==""&&e.uint32(26).string(t.programAccountId);for(let r of t.accounts)e.uint32(42).string(r);return t.parsed!==void 0&&R.encode(R.wrap(t.parsed),e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=BM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.instructionData=r.string();continue;case 2:if(a!==16)break;i.slot=Er(r.uint64());continue;case 3:if(a!==26)break;i.programAccountId=r.string();continue;case 5:if(a!==42)break;i.accounts.push(r.string());continue;case 4:if(a!==34)break;i.parsed=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{instructionData:T(t.instructionData)?globalThis.String(t.instructionData):"",slot:T(t.slot)?BigInt(t.slot):BigInt("0"),programAccountId:T(t.programAccountId)?globalThis.String(t.programAccountId):"",accounts:globalThis.Array.isArray(t?.accounts)?t.accounts.map(e=>globalThis.String(e)):[],parsed:We(t.parsed)?t.parsed:void 0}},toJSON(t){let e={};return t.instructionData!==""&&(e.instructionData=t.instructionData),t.slot!==BigInt("0")&&(e.slot=t.slot.toString()),t.programAccountId!==""&&(e.programAccountId=t.programAccountId),t.accounts?.length&&(e.accounts=t.accounts),t.parsed!==void 0&&(e.parsed=t.parsed),e},create(t){return yd.fromPartial(t??{})},fromPartial(t){let e=BM();return e.instructionData=t.instructionData??"",e.slot=t.slot??BigInt("0"),e.programAccountId=t.programAccountId??"",e.accounts=t.accounts?.map(r=>r)||[],e.parsed=t.parsed??void 0,e}};function DM(){return{transaction:void 0}}var vd={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=DM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),e},create(t){return vd.fromPartial(t??{})},fromPartial(t){let e=DM();return e.transaction=t.transaction??void 0,e}};function MM(){return{transaction:void 0}}var bd={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=MM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 2:if(a!==18)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),e},create(t){return bd.fromPartial(t??{})},fromPartial(t){let e=MM();return e.transaction=t.transaction??void 0,e}};function LM(){return{resources:[],version:BigInt("0"),timestampMicros:BigInt("0")}}var Sd={encode(t,e=S.default.Writer.create()){for(let r of t.resources)R.encode(R.wrap(r),e.uint32(34).fork()).ldelim();if(t.version!==BigInt("0")){if(BigInt.asIntN(64,t.version)!==t.version)throw new globalThis.Error("value provided for field message.version of type int64 too large");e.uint32(16).int64(t.version.toString())}if(t.timestampMicros!==BigInt("0")){if(BigInt.asIntN(64,t.timestampMicros)!==t.timestampMicros)throw new globalThis.Error("value provided for field message.timestampMicros of type int64 too large");e.uint32(40).int64(t.timestampMicros.toString())}return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=LM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 4:if(a!==34)break;i.resources.push(R.unwrap(R.decode(r,r.uint32())));continue;case 2:if(a!==16)break;i.version=Er(r.int64());continue;case 5:if(a!==40)break;i.timestampMicros=Er(r.int64());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{resources:globalThis.Array.isArray(t?.resources)?[...t.resources]:[],version:T(t.version)?BigInt(t.version):BigInt("0"),timestampMicros:T(t.timestampMicros)?BigInt(t.timestampMicros):BigInt("0")}},toJSON(t){let e={};return t.resources?.length&&(e.resources=t.resources),t.version!==BigInt("0")&&(e.version=t.version.toString()),t.timestampMicros!==BigInt("0")&&(e.timestampMicros=t.timestampMicros.toString()),e},create(t){return Sd.fromPartial(t??{})},fromPartial(t){let e=LM();return e.resources=t.resources?.map(r=>r)||[],e.version=t.version??BigInt("0"),e.timestampMicros=t.timestampMicros??BigInt("0"),e}};function FM(){return{transaction:void 0,timestamp:void 0,slot:BigInt("0")}}var _d={encode(t,e=S.default.Writer.create()){if(t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),t.slot!==BigInt("0")){if(BigInt.asUintN(64,t.slot)!==t.slot)throw new globalThis.Error("value provided for field message.slot of type uint64 too large");e.uint32(24).uint64(t.slot.toString())}return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=FM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 3:if(a!==24)break;i.slot=Er(r.uint64());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,slot:T(t.slot)?BigInt(t.slot):BigInt("0")}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.slot!==BigInt("0")&&(e.slot=t.slot.toString()),e},create(t){return _d.fromPartial(t??{})},fromPartial(t){let e=FM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e.slot=t.slot??BigInt("0"),e}};function qM(){return{transaction:void 0,timestamp:void 0,slot:BigInt("0")}}var Ed={encode(t,e=S.default.Writer.create()){if(t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),t.slot!==BigInt("0")){if(BigInt.asUintN(64,t.slot)!==t.slot)throw new globalThis.Error("value provided for field message.slot of type uint64 too large");e.uint32(24).uint64(t.slot.toString())}return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=qM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 3:if(a!==24)break;i.slot=Er(r.uint64());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,slot:T(t.slot)?BigInt(t.slot):BigInt("0")}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.slot!==BigInt("0")&&(e.slot=t.slot.toString()),e},create(t){return Ed.fromPartial(t??{})},fromPartial(t){let e=qM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e.slot=t.slot??BigInt("0"),e}};function UM(){return{objects:[],self:void 0,timestamp:void 0,slot:BigInt("0")}}var Td={encode(t,e=S.default.Writer.create()){for(let r of t.objects)R.encode(R.wrap(r),e.uint32(10).fork()).ldelim();if(t.self!==void 0&&R.encode(R.wrap(t.self),e.uint32(34).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),t.slot!==BigInt("0")){if(BigInt.asUintN(64,t.slot)!==t.slot)throw new globalThis.Error("value provided for field message.slot of type uint64 too large");e.uint32(24).uint64(t.slot.toString())}return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=UM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.objects.push(R.unwrap(R.decode(r,r.uint32())));continue;case 4:if(a!==34)break;i.self=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 3:if(a!==24)break;i.slot=Er(r.uint64());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{objects:globalThis.Array.isArray(t?.objects)?[...t.objects]:[],self:We(t.self)?t.self:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,slot:T(t.slot)?BigInt(t.slot):BigInt("0")}},toJSON(t){let e={};return t.objects?.length&&(e.objects=t.objects),t.self!==void 0&&(e.self=t.self),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.slot!==BigInt("0")&&(e.slot=t.slot.toString()),e},create(t){return Td.fromPartial(t??{})},fromPartial(t){let e=UM();return e.objects=t.objects?.map(r=>r)||[],e.self=t.self??void 0,e.timestamp=t.timestamp??void 0,e.slot=t.slot??BigInt("0"),e}};function VM(){return{changes:[],timestamp:void 0,txDigest:"",slot:BigInt("0")}}var Ad={encode(t,e=S.default.Writer.create()){for(let r of t.changes)R.encode(R.wrap(r),e.uint32(10).fork()).ldelim();if(t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),t.txDigest!==""&&e.uint32(34).string(t.txDigest),t.slot!==BigInt("0")){if(BigInt.asUintN(64,t.slot)!==t.slot)throw new globalThis.Error("value provided for field message.slot of type uint64 too large");e.uint32(24).uint64(t.slot.toString())}return e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=VM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.changes.push(R.unwrap(R.decode(r,r.uint32())));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.txDigest=r.string();continue;case 3:if(a!==24)break;i.slot=Er(r.uint64());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{changes:globalThis.Array.isArray(t?.changes)?[...t.changes]:[],timestamp:T(t.timestamp)?Xr(t.timestamp):void 0,txDigest:T(t.txDigest)?globalThis.String(t.txDigest):"",slot:T(t.slot)?BigInt(t.slot):BigInt("0")}},toJSON(t){let e={};return t.changes?.length&&(e.changes=t.changes),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),t.txDigest!==""&&(e.txDigest=t.txDigest),t.slot!==BigInt("0")&&(e.slot=t.slot.toString()),e},create(t){return Ad.fromPartial(t??{})},fromPartial(t){let e=VM();return e.changes=t.changes?.map(r=>r)||[],e.timestamp=t.timestamp??void 0,e.txDigest=t.txDigest??"",e.slot=t.slot??BigInt("0"),e}};function JM(){return{transaction:void 0,timestamp:void 0}}var Cd={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=JM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return Cd.fromPartial(t??{})},fromPartial(t){let e=JM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e}};function WM(){return{block:void 0,timestamp:void 0}}var kd={encode(t,e=S.default.Writer.create()){return t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=WM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{block:We(t.block)?t.block:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.block!==void 0&&(e.block=t.block),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return kd.fromPartial(t??{})},fromPartial(t){let e=WM();return e.block=t.block??void 0,e.timestamp=t.timestamp??void 0,e}};function GM(){return{transaction:void 0,timestamp:void 0}}var Id={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=GM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return Id.fromPartial(t??{})},fromPartial(t){let e=GM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e}};function HM(){return{result:void 0,timestamp:void 0}}var Od={encode(t,e=S.default.Writer.create()){return t.result!==void 0&&R.encode(R.wrap(t.result),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=HM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.result=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{result:We(t.result)?t.result:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.result!==void 0&&(e.result=t.result),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return Od.fromPartial(t??{})},fromPartial(t){let e=HM();return e.result=t.result??void 0,e.timestamp=t.timestamp??void 0,e}};function zM(){return{transaction:void 0,timestamp:void 0}}var Nd={encode(t,e=S.default.Writer.create()){return t.transaction!==void 0&&R.encode(R.wrap(t.transaction),e.uint32(34).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(42).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=zM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 4:if(a!==34)break;i.transaction=R.unwrap(R.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{transaction:We(t.transaction)?t.transaction:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.transaction!==void 0&&(e.transaction=t.transaction),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return Nd.fromPartial(t??{})},fromPartial(t){let e=zM();return e.transaction=t.transaction??void 0,e.timestamp=t.timestamp??void 0,e}};function QM(){return{block:void 0,timestamp:void 0}}var Rd={encode(t,e=S.default.Writer.create()){return t.block!==void 0&&R.encode(R.wrap(t.block),e.uint32(10).fork()).ldelim(),t.timestamp!==void 0&&we.encode(Zr(t.timestamp),e.uint32(18).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=QM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.block=R.unwrap(R.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.timestamp=Pr(we.decode(r,r.uint32()));continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{block:We(t.block)?t.block:void 0,timestamp:T(t.timestamp)?Xr(t.timestamp):void 0}},toJSON(t){let e={};return t.block!==void 0&&(e.block=t.block),t.timestamp!==void 0&&(e.timestamp=t.timestamp.toISOString()),e},create(t){return Rd.fromPartial(t??{})},fromPartial(t){let e=QM();return e.block=t.block??void 0,e.timestamp=t.timestamp??void 0,e}};function KM(){return{data:void 0,handlerType:0,handlerIds:[]}}var _r={encode(t,e=S.default.Writer.create()){t.data!==void 0&&fd.encode(t.data,e.uint32(10).fork()).ldelim(),t.handlerType!==0&&e.uint32(24).int32(t.handlerType),e.uint32(34).fork();for(let r of t.handlerIds)e.int32(r);return e.ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=KM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.data=fd.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.handlerType=r.int32();continue;case 4:if(a===32){i.handlerIds.push(r.int32());continue}if(a===34){let o=r.uint32()+r.pos;for(;r.pos<o;)i.handlerIds.push(r.int32());continue}break}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{data:T(t.data)?fd.fromJSON(t.data):void 0,handlerType:T(t.handlerType)?oL(t.handlerType):0,handlerIds:globalThis.Array.isArray(t?.handlerIds)?t.handlerIds.map(e=>globalThis.Number(e)):[]}},toJSON(t){let e={};return t.data!==void 0&&(e.data=fd.toJSON(t.data)),t.handlerType!==0&&(e.handlerType=sL(t.handlerType)),t.handlerIds?.length&&(e.handlerIds=t.handlerIds.map(r=>Math.round(r))),e},create(t){return _r.fromPartial(t??{})},fromPartial(t){let e=KM();return e.data=t.data!==void 0&&t.data!==null?fd.fromPartial(t.data):void 0,e.handlerType=t.handlerType??0,e.handlerIds=t.handlerIds?.map(r=>r)||[],e}};function ZM(){return{configUpdated:!1,error:void 0}}var Ao={encode(t,e=S.default.Writer.create()){return t.configUpdated!==!1&&e.uint32(8).bool(t.configUpdated),t.error!==void 0&&e.uint32(18).string(t.error),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=ZM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.configUpdated=r.bool();continue;case 2:if(a!==18)break;i.error=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{configUpdated:T(t.configUpdated)?globalThis.Boolean(t.configUpdated):!1,error:T(t.error)?globalThis.String(t.error):void 0}},toJSON(t){let e={};return t.configUpdated!==!1&&(e.configUpdated=t.configUpdated),t.error!==void 0&&(e.error=t.error),e},create(t){return Ao.fromPartial(t??{})},fromPartial(t){let e=ZM();return e.configUpdated=t.configUpdated??!1,e.error=t.error??void 0,e}};function XM(){return{gauges:[],counters:[],logs:[],events:[],exports:[],states:void 0}}var gn={encode(t,e=S.default.Writer.create()){for(let r of t.gauges)wd.encode(r,e.uint32(10).fork()).ldelim();for(let r of t.counters)Pd.encode(r,e.uint32(18).fork()).ldelim();for(let r of t.logs)xd.encode(r,e.uint32(26).fork()).ldelim();for(let r of t.events)Bd.encode(r,e.uint32(34).fork()).ldelim();for(let r of t.exports)Dd.encode(r,e.uint32(42).fork()).ldelim();return t.states!==void 0&&Ao.encode(t.states,e.uint32(50).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=XM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.gauges.push(wd.decode(r,r.uint32()));continue;case 2:if(a!==18)break;i.counters.push(Pd.decode(r,r.uint32()));continue;case 3:if(a!==26)break;i.logs.push(xd.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.events.push(Bd.decode(r,r.uint32()));continue;case 5:if(a!==42)break;i.exports.push(Dd.decode(r,r.uint32()));continue;case 6:if(a!==50)break;i.states=Ao.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{gauges:globalThis.Array.isArray(t?.gauges)?t.gauges.map(e=>wd.fromJSON(e)):[],counters:globalThis.Array.isArray(t?.counters)?t.counters.map(e=>Pd.fromJSON(e)):[],logs:globalThis.Array.isArray(t?.logs)?t.logs.map(e=>xd.fromJSON(e)):[],events:globalThis.Array.isArray(t?.events)?t.events.map(e=>Bd.fromJSON(e)):[],exports:globalThis.Array.isArray(t?.exports)?t.exports.map(e=>Dd.fromJSON(e)):[],states:T(t.states)?Ao.fromJSON(t.states):void 0}},toJSON(t){let e={};return t.gauges?.length&&(e.gauges=t.gauges.map(r=>wd.toJSON(r))),t.counters?.length&&(e.counters=t.counters.map(r=>Pd.toJSON(r))),t.logs?.length&&(e.logs=t.logs.map(r=>xd.toJSON(r))),t.events?.length&&(e.events=t.events.map(r=>Bd.toJSON(r))),t.exports?.length&&(e.exports=t.exports.map(r=>Dd.toJSON(r))),t.states!==void 0&&(e.states=Ao.toJSON(t.states)),e},create(t){return gn.fromPartial(t??{})},fromPartial(t){let e=XM();return e.gauges=t.gauges?.map(r=>wd.fromPartial(r))||[],e.counters=t.counters?.map(r=>Pd.fromPartial(r))||[],e.logs=t.logs?.map(r=>xd.fromPartial(r))||[],e.events=t.events?.map(r=>Bd.fromPartial(r))||[],e.exports=t.exports?.map(r=>Dd.fromPartial(r))||[],e.states=t.states!==void 0&&t.states!==null?Ao.fromPartial(t.states):void 0,e}};function YM(){return{address:"",contractName:"",blockNumber:BigInt("0"),transactionHash:"",chainId:"",transactionIndex:0,logIndex:0,name:"",labels:{}}}var ot={encode(t,e=S.default.Writer.create()){if(t.address!==""&&e.uint32(10).string(t.address),t.contractName!==""&&e.uint32(74).string(t.contractName),t.blockNumber!==BigInt("0")){if(BigInt.asUintN(64,t.blockNumber)!==t.blockNumber)throw new globalThis.Error("value provided for field message.blockNumber of type uint64 too large");e.uint32(16).uint64(t.blockNumber.toString())}return t.transactionHash!==""&&e.uint32(50).string(t.transactionHash),t.chainId!==""&&e.uint32(42).string(t.chainId),t.transactionIndex!==0&&e.uint32(24).int32(t.transactionIndex),t.logIndex!==0&&e.uint32(32).int32(t.logIndex),t.name!==""&&e.uint32(82).string(t.name),Object.entries(t.labels).forEach(([r,n])=>{YC.encode({key:r,value:n},e.uint32(58).fork()).ldelim()}),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=YM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.address=r.string();continue;case 9:if(a!==74)break;i.contractName=r.string();continue;case 2:if(a!==16)break;i.blockNumber=Er(r.uint64());continue;case 6:if(a!==50)break;i.transactionHash=r.string();continue;case 5:if(a!==42)break;i.chainId=r.string();continue;case 3:if(a!==24)break;i.transactionIndex=r.int32();continue;case 4:if(a!==32)break;i.logIndex=r.int32();continue;case 10:if(a!==82)break;i.name=r.string();continue;case 7:if(a!==58)break;let o=YC.decode(r,r.uint32());o.value!==void 0&&(i.labels[o.key]=o.value);continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{address:T(t.address)?globalThis.String(t.address):"",contractName:T(t.contractName)?globalThis.String(t.contractName):"",blockNumber:T(t.blockNumber)?BigInt(t.blockNumber):BigInt("0"),transactionHash:T(t.transactionHash)?globalThis.String(t.transactionHash):"",chainId:T(t.chainId)?globalThis.String(t.chainId):"",transactionIndex:T(t.transactionIndex)?globalThis.Number(t.transactionIndex):0,logIndex:T(t.logIndex)?globalThis.Number(t.logIndex):0,name:T(t.name)?globalThis.String(t.name):"",labels:We(t.labels)?Object.entries(t.labels).reduce((e,[r,n])=>(e[r]=String(n),e),{}):{}}},toJSON(t){let e={};if(t.address!==""&&(e.address=t.address),t.contractName!==""&&(e.contractName=t.contractName),t.blockNumber!==BigInt("0")&&(e.blockNumber=t.blockNumber.toString()),t.transactionHash!==""&&(e.transactionHash=t.transactionHash),t.chainId!==""&&(e.chainId=t.chainId),t.transactionIndex!==0&&(e.transactionIndex=Math.round(t.transactionIndex)),t.logIndex!==0&&(e.logIndex=Math.round(t.logIndex)),t.name!==""&&(e.name=t.name),t.labels){let r=Object.entries(t.labels);r.length>0&&(e.labels={},r.forEach(([n,i])=>{e.labels[n]=i}))}return e},create(t){return ot.fromPartial(t??{})},fromPartial(t){let e=YM();return e.address=t.address??"",e.contractName=t.contractName??"",e.blockNumber=t.blockNumber??BigInt("0"),e.transactionHash=t.transactionHash??"",e.chainId=t.chainId??"",e.transactionIndex=t.transactionIndex??0,e.logIndex=t.logIndex??0,e.name=t.name??"",e.labels=Object.entries(t.labels??{}).reduce((r,[n,i])=>(i!==void 0&&(r[n]=globalThis.String(i)),r),{}),e}};function $M(){return{key:"",value:""}}var YC={encode(t,e=S.default.Writer.create()){return t.key!==""&&e.uint32(10).string(t.key),t.value!==""&&e.uint32(18).string(t.value),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=$M();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=r.string();continue;case 2:if(a!==18)break;i.value=r.string();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{key:T(t.key)?globalThis.String(t.key):"",value:T(t.value)?globalThis.String(t.value):""}},toJSON(t){let e={};return t.key!==""&&(e.key=t.key),t.value!==""&&(e.value=t.value),e},create(t){return YC.fromPartial(t??{})},fromPartial(t){let e=$M();return e.key=t.key??"",e.value=t.value??"",e}};function jM(){return{bigDecimal:void 0,doubleValue:void 0,bigInteger:void 0}}var Ri={encode(t,e=S.default.Writer.create()){return t.bigDecimal!==void 0&&e.uint32(10).string(t.bigDecimal),t.doubleValue!==void 0&&e.uint32(17).double(t.doubleValue),t.bigInteger!==void 0&&rr.encode(t.bigInteger,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=jM();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.bigDecimal=r.string();continue;case 2:if(a!==17)break;i.doubleValue=r.double();continue;case 3:if(a!==26)break;i.bigInteger=rr.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{bigDecimal:T(t.bigDecimal)?globalThis.String(t.bigDecimal):void 0,doubleValue:T(t.doubleValue)?globalThis.Number(t.doubleValue):void 0,bigInteger:T(t.bigInteger)?rr.fromJSON(t.bigInteger):void 0}},toJSON(t){let e={};return t.bigDecimal!==void 0&&(e.bigDecimal=t.bigDecimal),t.doubleValue!==void 0&&(e.doubleValue=t.doubleValue),t.bigInteger!==void 0&&(e.bigInteger=rr.toJSON(t.bigInteger)),e},create(t){return Ri.fromPartial(t??{})},fromPartial(t){let e=jM();return e.bigDecimal=t.bigDecimal??void 0,e.doubleValue=t.doubleValue??void 0,e.bigInteger=t.bigInteger!==void 0&&t.bigInteger!==null?rr.fromPartial(t.bigInteger):void 0,e}};function eL(){return{from:0}}var st={encode(t,e=S.default.Writer.create()){return t.from!==0&&e.uint32(8).int32(t.from),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=eL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==8)break;i.from=r.int32();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{from:T(t.from)?oL(t.from):0}},toJSON(t){let e={};return t.from!==0&&(e.from=sL(t.from)),e},create(t){return st.fromPartial(t??{})},fromPartial(t){let e=eL();return e.from=t.from??0,e}};function tL(){return{metadata:void 0,metricValue:void 0,runtimeInfo:void 0}}var wd={encode(t,e=S.default.Writer.create()){return t.metadata!==void 0&&ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.metricValue!==void 0&&Ri.encode(t.metricValue,e.uint32(18).fork()).ldelim(),t.runtimeInfo!==void 0&&st.encode(t.runtimeInfo,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=tL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.metricValue=Ri.decode(r,r.uint32());continue;case 3:if(a!==26)break;i.runtimeInfo=st.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:T(t.metadata)?ot.fromJSON(t.metadata):void 0,metricValue:T(t.metricValue)?Ri.fromJSON(t.metricValue):void 0,runtimeInfo:T(t.runtimeInfo)?st.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=ot.toJSON(t.metadata)),t.metricValue!==void 0&&(e.metricValue=Ri.toJSON(t.metricValue)),t.runtimeInfo!==void 0&&(e.runtimeInfo=st.toJSON(t.runtimeInfo)),e},create(t){return wd.fromPartial(t??{})},fromPartial(t){let e=tL();return e.metadata=t.metadata!==void 0&&t.metadata!==null?ot.fromPartial(t.metadata):void 0,e.metricValue=t.metricValue!==void 0&&t.metricValue!==null?Ri.fromPartial(t.metricValue):void 0,e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?st.fromPartial(t.runtimeInfo):void 0,e}};function rL(){return{metadata:void 0,metricValue:void 0,add:!1,runtimeInfo:void 0}}var Pd={encode(t,e=S.default.Writer.create()){return t.metadata!==void 0&&ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.metricValue!==void 0&&Ri.encode(t.metricValue,e.uint32(18).fork()).ldelim(),t.add!==!1&&e.uint32(24).bool(t.add),t.runtimeInfo!==void 0&&st.encode(t.runtimeInfo,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=rL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.metricValue=Ri.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.add=r.bool();continue;case 4:if(a!==34)break;i.runtimeInfo=st.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:T(t.metadata)?ot.fromJSON(t.metadata):void 0,metricValue:T(t.metricValue)?Ri.fromJSON(t.metricValue):void 0,add:T(t.add)?globalThis.Boolean(t.add):!1,runtimeInfo:T(t.runtimeInfo)?st.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=ot.toJSON(t.metadata)),t.metricValue!==void 0&&(e.metricValue=Ri.toJSON(t.metricValue)),t.add!==!1&&(e.add=t.add),t.runtimeInfo!==void 0&&(e.runtimeInfo=st.toJSON(t.runtimeInfo)),e},create(t){return Pd.fromPartial(t??{})},fromPartial(t){let e=rL();return e.metadata=t.metadata!==void 0&&t.metadata!==null?ot.fromPartial(t.metadata):void 0,e.metricValue=t.metricValue!==void 0&&t.metricValue!==null?Ri.fromPartial(t.metricValue):void 0,e.add=t.add??!1,e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?st.fromPartial(t.runtimeInfo):void 0,e}};function nL(){return{metadata:void 0,level:0,message:"",attributes:"",attributes2:void 0,runtimeInfo:void 0}}var xd={encode(t,e=S.default.Writer.create()){return t.metadata!==void 0&&ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.level!==0&&e.uint32(16).int32(t.level),t.message!==""&&e.uint32(26).string(t.message),t.attributes!==""&&e.uint32(50).string(t.attributes),t.attributes2!==void 0&&R.encode(R.wrap(t.attributes2),e.uint32(58).fork()).ldelim(),t.runtimeInfo!==void 0&&st.encode(t.runtimeInfo,e.uint32(34).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=nL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=ot.decode(r,r.uint32());continue;case 2:if(a!==16)break;i.level=r.int32();continue;case 3:if(a!==26)break;i.message=r.string();continue;case 6:if(a!==50)break;i.attributes=r.string();continue;case 7:if(a!==58)break;i.attributes2=R.unwrap(R.decode(r,r.uint32()));continue;case 4:if(a!==34)break;i.runtimeInfo=st.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:T(t.metadata)?ot.fromJSON(t.metadata):void 0,level:T(t.level)?uL(t.level):0,message:T(t.message)?globalThis.String(t.message):"",attributes:T(t.attributes)?globalThis.String(t.attributes):"",attributes2:We(t.attributes2)?t.attributes2:void 0,runtimeInfo:T(t.runtimeInfo)?st.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=ot.toJSON(t.metadata)),t.level!==0&&(e.level=lL(t.level)),t.message!==""&&(e.message=t.message),t.attributes!==""&&(e.attributes=t.attributes),t.attributes2!==void 0&&(e.attributes2=t.attributes2),t.runtimeInfo!==void 0&&(e.runtimeInfo=st.toJSON(t.runtimeInfo)),e},create(t){return xd.fromPartial(t??{})},fromPartial(t){let e=nL();return e.metadata=t.metadata!==void 0&&t.metadata!==null?ot.fromPartial(t.metadata):void 0,e.level=t.level??0,e.message=t.message??"",e.attributes=t.attributes??"",e.attributes2=t.attributes2??void 0,e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?st.fromPartial(t.runtimeInfo):void 0,e}};function iL(){return{metadata:void 0,distinctEntityId:"",attributes:void 0,severity:0,message:"",runtimeInfo:void 0,noMetric:!1}}var Bd={encode(t,e=S.default.Writer.create()){return t.metadata!==void 0&&ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.distinctEntityId!==""&&e.uint32(18).string(t.distinctEntityId),t.attributes!==void 0&&R.encode(R.wrap(t.attributes),e.uint32(50).fork()).ldelim(),t.severity!==0&&e.uint32(56).int32(t.severity),t.message!==""&&e.uint32(66).string(t.message),t.runtimeInfo!==void 0&&st.encode(t.runtimeInfo,e.uint32(42).fork()).ldelim(),t.noMetric!==!1&&e.uint32(24).bool(t.noMetric),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=iL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.distinctEntityId=r.string();continue;case 6:if(a!==50)break;i.attributes=R.unwrap(R.decode(r,r.uint32()));continue;case 7:if(a!==56)break;i.severity=r.int32();continue;case 8:if(a!==66)break;i.message=r.string();continue;case 5:if(a!==42)break;i.runtimeInfo=st.decode(r,r.uint32());continue;case 3:if(a!==24)break;i.noMetric=r.bool();continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:T(t.metadata)?ot.fromJSON(t.metadata):void 0,distinctEntityId:T(t.distinctEntityId)?globalThis.String(t.distinctEntityId):"",attributes:We(t.attributes)?t.attributes:void 0,severity:T(t.severity)?uL(t.severity):0,message:T(t.message)?globalThis.String(t.message):"",runtimeInfo:T(t.runtimeInfo)?st.fromJSON(t.runtimeInfo):void 0,noMetric:T(t.noMetric)?globalThis.Boolean(t.noMetric):!1}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=ot.toJSON(t.metadata)),t.distinctEntityId!==""&&(e.distinctEntityId=t.distinctEntityId),t.attributes!==void 0&&(e.attributes=t.attributes),t.severity!==0&&(e.severity=lL(t.severity)),t.message!==""&&(e.message=t.message),t.runtimeInfo!==void 0&&(e.runtimeInfo=st.toJSON(t.runtimeInfo)),t.noMetric!==!1&&(e.noMetric=t.noMetric),e},create(t){return Bd.fromPartial(t??{})},fromPartial(t){let e=iL();return e.metadata=t.metadata!==void 0&&t.metadata!==null?ot.fromPartial(t.metadata):void 0,e.distinctEntityId=t.distinctEntityId??"",e.attributes=t.attributes??void 0,e.severity=t.severity??0,e.message=t.message??"",e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?st.fromPartial(t.runtimeInfo):void 0,e.noMetric=t.noMetric??!1,e}};function aL(){return{metadata:void 0,payload:"",runtimeInfo:void 0}}var Dd={encode(t,e=S.default.Writer.create()){return t.metadata!==void 0&&ot.encode(t.metadata,e.uint32(10).fork()).ldelim(),t.payload!==""&&e.uint32(18).string(t.payload),t.runtimeInfo!==void 0&&st.encode(t.runtimeInfo,e.uint32(26).fork()).ldelim(),e},decode(t,e){let r=t instanceof S.default.Reader?t:S.default.Reader.create(t),n=e===void 0?r.len:r.pos+e,i=aL();for(;r.pos<n;){let a=r.uint32();switch(a>>>3){case 1:if(a!==10)break;i.metadata=ot.decode(r,r.uint32());continue;case 2:if(a!==18)break;i.payload=r.string();continue;case 3:if(a!==26)break;i.runtimeInfo=st.decode(r,r.uint32());continue}if((a&7)===4||a===0)break;r.skipType(a&7)}return i},fromJSON(t){return{metadata:T(t.metadata)?ot.fromJSON(t.metadata):void 0,payload:T(t.payload)?globalThis.String(t.payload):"",runtimeInfo:T(t.runtimeInfo)?st.fromJSON(t.runtimeInfo):void 0}},toJSON(t){let e={};return t.metadata!==void 0&&(e.metadata=ot.toJSON(t.metadata)),t.payload!==""&&(e.payload=t.payload),t.runtimeInfo!==void 0&&(e.runtimeInfo=st.toJSON(t.runtimeInfo)),e},create(t){return Dd.fromPartial(t??{})},fromPartial(t){let e=aL();return e.metadata=t.metadata!==void 0&&t.metadata!==null?ot.fromPartial(t.metadata):void 0,e.payload=t.payload??"",e.runtimeInfo=t.runtimeInfo!==void 0&&t.runtimeInfo!==null?st.fromPartial(t.runtimeInfo):void 0,e}},kDe={name:"Processor",fullName:"processor.Processor",methods:{start:{name:"Start",requestType:fL,requestStream:!1,responseType:dm,responseStream:!1,options:{}},stop:{name:"Stop",requestType:dm,requestStream:!1,responseType:dm,responseStream:!1,options:{}},getConfig:{name:"GetConfig",requestType:cL,requestStream:!1,responseType:dL,responseStream:!1,options:{}},processBindings:{name:"ProcessBindings",requestType:hL,requestStream:!1,responseType:pL,responseStream:!1,options:{}},processBindingsStream:{name:"ProcessBindingsStream",requestType:mL,requestStream:!0,responseType:gL,responseStream:!0,options:{}},preprocessBindingsStream:{name:"PreprocessBindingsStream",requestType:yL,requestStream:!0,responseType:vL,responseStream:!0,options:{}}}};function IX(t){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(t,"base64"));{let e=globalThis.atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}}function OX(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{let e=[];return t.forEach(r=>{e.push(globalThis.String.fromCharCode(r))}),globalThis.btoa(e.join(""))}}function Zr(t){let e=BigInt(Math.trunc(t.getTime()/1e3)),r=t.getTime()%1e3*1e6;return{seconds:e,nanos:r}}function Pr(t){let e=(globalThis.Number(t.seconds.toString())||0)*1e3;return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function Xr(t){return t instanceof globalThis.Date?t:typeof t=="string"?new globalThis.Date(t):Pr(we.fromJSON(t))}function Er(t){return BigInt(t.toString())}S.default.util.Long!==Qt&&(S.default.util.Long=Qt,S.default.configure());function We(t){return typeof t=="object"&&t!==null}function T(t){return t!=null}process.stdout.write("");function bL(t){let e={...gn.create(),states:Ao.create()};for(let r of t)e.counters=e.counters.concat(r.counters),e.gauges=e.gauges.concat(r.gauges),e.events=e.events.concat(r.events),e.exports=e.exports.concat(r.exports),e.states={configUpdated:e.states?.configUpdated||r.states?.configUpdated||!1};return e}function L0(t){return t.message+`
`+t.stack}var NDe="user_processor";function $C(t){if(!t.context)throw new Error("null context for eth call");let{chainId:e,address:r,blockTag:n}=t.context;return`${e}|${r}|${n}|${t.calldata}`.toLowerCase()}process.stdout.write("");var jC=class{concurrency=8;chainQueryAPI="";priceFeedAPI="";chainServer=new Map;batchCount=1},Co=jC;Yi(Co,"INSTANCE",new jC);process.stdout.write("");var Pf={execution:{sequential:!1,forceExactBlockTime:!1}};function $4(){j4(Pf.execution)}function j4(t){let e=Reflect.ownKeys(t);for(let r of e){let n=t[r];(n&&typeof n=="object"||typeof n=="function")&&j4(n)}return Object.freeze(t)}process.stdout.write("");import*as ts from"process";s8();var u8=()=>pg.getMeter("processor"),rt=class{constructor(e){this.name=e}_counter;value=0;get counter(){return this._counter||(this._counter=u8().createCounter(this.name)),this._counter}add(e,r){this.counter.add(e,r),this.value+=e}get(){return this.value}},sb=class{constructor(e){this.name=e}_gauge;value=0;get gauge(){return this._gauge||(this._gauge=u8().createGauge(this.name)),this._gauge}record(e,r){this.gauge.record(e,r),this.value=e}get(){return this.value}},ub={send_counts:{get:new rt("store_get_send"),upsert:new rt("store_upsert_send"),list:new rt("store_list_send"),delete:new rt("store_delete_send")},recv_counts:{get:new rt("store_get_recv"),upsert:new rt("store_upsert_recv"),list:new rt("store_list_recv"),delete:new rt("store_delete_recv")},request_times:{get:new rt("store_get_time"),upsert:new rt("store_upsert_time"),list:new rt("store_list_time"),delete:new rt("store_delete_time")},request_errors:{get:new rt("store_get_error"),upsert:new rt("store_upsert_error"),list:new rt("store_list_error"),delete:new rt("store_delete_error")},batched_total_count:new rt("batched_total_count"),batched_request_count:new rt("batched_request_count"),unsolved_requests:new sb("store_unsolved_requests"),stats(){return{send_counts:{get:this.send_counts.get.get(),upsert:this.send_counts.upsert.get(),list:this.send_counts.list.get(),delete:this.send_counts.delete.get()},recv_counts:{get:this.recv_counts.get.get(),upsert:this.recv_counts.upsert.get(),list:this.recv_counts.list.get(),delete:this.recv_counts.delete.get()},request_times:{get:this.request_times.get.get(),upsert:this.request_times.upsert.get(),list:this.request_times.list.get(),delete:this.request_times.delete.get()},request_errors:{get:this.request_errors.get.get(),upsert:this.request_errors.upsert.get(),list:this.request_errors.list.get(),delete:this.request_errors.delete.get()},batched_total_count:this.batched_total_count.get(),batched_request_count:this.batched_request_count.get(),unsolved_requests:this.unsolved_requests.get(),average_request_time:{get:this.request_times.get.get()/this.send_counts.get.get(),upsert:this.request_times.upsert.get()/this.send_counts.upsert.get(),list:this.request_times.list.get()/this.send_counts.list.get()}}}},lb={hit_count:new rt("provider_hit_count"),miss_count:new rt("provider_miss_count"),queue_size:new sb("provider_queue_size"),total_duration:new rt("provider_total_duration"),total_queued:new rt("provider_total_queued"),stats(){return{hit_count:this.hit_count.get(),miss_count:this.miss_count.get(),queue_size:this.queue_size.get(),total_duration:this.total_duration.get(),total_queued:this.total_queued.get(),average_queue_time:this.total_queued.get()/(this.hit_count.get()+this.miss_count.get()),average_duration:this.total_duration.get()/(this.hit_count.get()+this.miss_count.get())}}},cb={process_binding_count:new rt("process_binding_count"),process_binding_time:new rt("process_binding_time"),process_binding_error:new rt("process_binding_error"),stats(){return{process_binding_count:this.process_binding_count.get(),process_binding_time:this.process_binding_time.get(),process_binding_error:this.process_binding_error.get()}}};process.stdout.write("");var{request_errors:rue,unsolved_requests:l8,request_times:c8,batched_request_count:nue,batched_total_count:iue,send_counts:d8,recv_counts:aue}=ub,f8=ts.env.STORE_BATCH_MAX_IDLE?parseInt(ts.env.STORE_BATCH_MAX_IDLE):1,h8=ts.env.STORE_BATCH_SIZE?parseInt(ts.env.STORE_BATCH_SIZE):10,h2=ts.env.STORE_UPSERT_NO_WAIT==="true",p8=new Error("timeout"),db=class{constructor(e,r){this.subject=e;this.processId=r}defers=new Map;statsInterval;pendings=[];newPromise(e,r){return new Promise((n,i)=>{this.defers.set(e,{resolve:n,reject:i,requestType:r}),l8.record(this.defers.size,{processId:this.processId})})}sendRequest(e,r){if(f8>0&&h8>1&&e.upsert)return this.sendUpsertInBatch(e.upsert);let n=Object.keys(e)[0],i=db.opCounter++,a=this.newPromise(i,n),o=Date.now(),s=[a],u;if(r){let l=new Promise((c,d)=>u=setTimeout(d,r*1e3,p8));s.push(l)}return this.subject.next({dbRequest:{...e,opId:i},processId:this.processId}),d8[n]?.add(1),n==="upsert"&&h2?(this.pendings.push(a),Promise.resolve({opId:i})):Promise.race(s).then(l=>(r&&console.debug("db request",n,"op",i," took",Date.now()-o,"ms"),c8[n]?.add(Date.now()-o),l)).catch(l=>{throw l===p8&&console.error("db request",n,"op:",i," timeout"),rue[n]?.add(1),l}).finally(()=>{u&&clearTimeout(u)})}result(e){let r=e.opId,n=this.defers.get(r);n&&(n.requestType&&aue[n.requestType]?.add(1),e.error?n.reject(new Error(e.error)):n.resolve(e),this.defers.delete(r)),l8.record(this.defers.size,{processId:this.processId})}error(e,r){console.error("process error",e,r);let n=cm.create({states:{error:r?.toString()}});this.subject.next({result:n,processId:e})}close(){for(let[e,r]of this.defers)r.reject(new Error("context closed before db response, processId: "+this.processId+" opId: "+e));this.defers.clear(),this.statsInterval&&clearInterval(this.statsInterval)}upsertBatch=void 0;async sendUpsertInBatch(e){if(this.upsertBatch){let{request:r,promise:n}=this.upsertBatch;return r.entity=this.upsertBatch.request.entity.concat(e.entity),r.entityData=this.upsertBatch.request.entityData.concat(e.entityData),r.id=this.upsertBatch.request.id.concat(e.id),r.entity.length>=h8&&this.sendBatch(),h2?{opId:this.upsertBatch.opId}:n}else{let r=db.opCounter++,n=setTimeout(()=>{this.sendBatch()},f8),i=Date.now(),a=this.newPromise(r,"upsert").finally(()=>{c8.upsert.add(Date.now()-i)});return this.upsertBatch={opId:r,request:e,promise:a,timer:n},h2?(this.pendings.push(a),{opId:this.upsertBatch.opId}):a}}sendBatch(){if(this.upsertBatch){let{request:e,opId:r,timer:n}=this.upsertBatch;clearTimeout(n),this.upsertBatch=void 0,this.subject.next({dbRequest:{upsert:e,opId:r},processId:this.processId}),d8.upsert?.add(1),nue.add(1),iue.add(e.entity.length)}}async awaitPendings(){await Promise.all(this.pendings)}},mg=db;Yi(mg,"opCounter",0n);ts.stdout.write("");var m8="6.13.1";function oue(t,e,r){let n=e.split("|").map(a=>a.trim());for(let a=0;a<n.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Bt(t){let e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,a)=>(n[e[a]]=i,n),{})}function Y(t,e,r){for(let n in e){let i=e[n],a=r?r[n]:null;a&&oue(i,a,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Mf(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Mf).join(", ")+" ]";if(t instanceof Uint8Array){let e="0123456789abcdef",r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Mf(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Mf(r)}: ${Mf(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function pt(t,e){return t&&t.code===e}function Lf(t){return pt(t,"CALL_EXCEPTION")}function Ke(t,e,r){let n=t;{let a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Mf(r)}`);for(let o in r){if(o==="shortMessage")continue;let s=r[o];a.push(o+"="+Mf(s))}}a.push(`code=${e}`),a.push(`version=${m8}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Y(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Y(i,{shortMessage:n}),i}function B(t,e,r,n){if(!t)throw Ke(e,r,n)}function A(t,e,r,n){B(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function gg(t,e,r){r==null&&(r=""),r&&(r=": "+r),B(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),B(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var sue=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){let r=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(r!==n)throw new Error("broken")}t.push(e)}catch{}return t},[]);function p2(t){B(sue.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function rs(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),B(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function y8(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((t.length-2)/2),i=2;for(let a=0;a<n.length;a++)n[a]=parseInt(t.substring(i,i+2),16),i+=2;return n}A(!1,"invalid BytesLike value",e||"value",t)}function he(t,e){return y8(t,e,!1)}function vt(t,e){return y8(t,e,!0)}function Ne(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function wu(t){return Ne(t,!0)||t instanceof Uint8Array}var g8="0123456789abcdef";function G(t){let e=he(t),r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=g8[(i&240)>>4]+g8[i&15]}return r}function Ge(t){return"0x"+t.map(e=>G(e).substring(2)).join("")}function _a(t){return Ne(t,!0)?(t.length-2)/2:he(t).length}function ct(t,e,r){let n=he(t);return r!=null&&r>n.length&&B(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),G(n.slice(e??0,r??n.length))}function v8(t,e,r){let n=he(t);B(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),G(i)}function Cn(t,e){return v8(t,e,!0)}function m2(t,e){return v8(t,e,!1)}var fb=BigInt(0),qi=BigInt(1),Ff=9007199254740991;function g2(t,e){let r=vg(t,"value"),n=BigInt(Se(e,"width"));if(B(r>>n===fb,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-qi){let i=(qi<<n)-qi;return-((~r&i)+qi)}return r}function yg(t,e){let r=Q(t,"value"),n=BigInt(Se(e,"width")),i=qi<<n-qi;if(r<fb){r=-r,B(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let a=(qi<<n)-qi;return(~r&a)+qi}else B(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function ns(t,e){let r=vg(t,"value"),n=BigInt(Se(e,"bits"));return r&(qi<<n)-qi}function Q(t,e){switch(typeof t){case"bigint":return t;case"number":return A(Number.isInteger(t),"underflow",e||"value",t),A(t>=-Ff&&t<=Ff,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){A(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}A(!1,"invalid BigNumberish value",e||"value",t)}function vg(t,e){let r=Q(t,e);return B(r>=fb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}var b8="0123456789abcdef";function qf(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=b8[r>>4],e+=b8[r&15];return BigInt(e)}return Q(t)}function Se(t,e){switch(typeof t){case"bigint":return A(t>=-Ff&&t<=Ff,"overflow",e||"value",t),Number(t);case"number":return A(Number.isInteger(t),"underflow",e||"value",t),A(t>=-Ff&&t<=Ff,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Se(BigInt(t),e)}catch(r){A(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}A(!1,"invalid numeric value",e||"value",t)}function y2(t){return Se(qf(t))}function en(t,e){let n=vg(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let i=Se(e,"width");for(B(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function qt(t){let e=vg(t,"value");if(e===fb)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){let a=i*2;n[i]=parseInt(r.substring(a,a+2),16)}return n}function Ea(t){let e=G(wu(t)?t:qt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var S8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var UUe=BigInt(0),_8=BigInt(58);function v2(t){let e=he(t),r=qf(e),n="";for(;r;)n=S8[Number(r%_8)]+n,r/=_8;for(let i=0;i<e.length&&!e[i];i++)n=S8[0]+n;return n}function E8(t){return vt(Buffer.from(t,"base64"))}function T8(t){return Buffer.from(he(t)).toString("base64")}var Pu=class{filter;emitter;#e;constructor(e,r,n){this.#e=r,Y(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function uue(t,e,r,n,i){A(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function A8(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let a=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)a++;return a}return t==="OVERRUN"?r.length-e-1:0}function lue(t,e,r,n,i){return t==="OVERLONG"?(A(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),A8(t,e,r,n,i))}var C8=Object.freeze({error:uue,ignore:A8,replace:lue});function cue(t,e){e==null&&(e=C8.error);let r=he(t,"bytes"),n=[],i=0;for(;i<r.length;){let a=r[i++];if(!(a>>7)){n.push(a);continue}let o=null,s=null;if((a&224)===192)o=1,s=127;else if((a&240)===224)o=2,s=2047;else if((a&248)===240)o=3,s=65535;else{(a&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+o>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let u=a&(1<<8-o-1)-1;for(let l=0;l<o;l++){let c=r[i];if((c&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),u=null;break}u=u<<6|c&63,i++}if(u!==null){if(u>1114111){i+=e("OUT_OF_RANGE",i-1-o,r,n,u);continue}if(u>=55296&&u<=57343){i+=e("UTF16_SURROGATE",i-1-o,r,n,u);continue}if(u<=s){i+=e("OVERLONG",i-1-o,r,n,u);continue}n.push(u)}}return n}function qr(t,e){A(typeof t=="string","invalid string value","str",t),e!=null&&(p2(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let a=t.charCodeAt(n);A(n<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);let o=65536+((i&1023)<<10)+(a&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function due(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function is(t,e){return due(cue(t,e))}import fue from"http";import hue from"https";import{gunzipSync as pue}from"zlib";function hb(t){async function e(r,n){B(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let i=r.url.split(":")[0].toLowerCase();B(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),B(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=r.method,o=Object.assign({},r.headers),s={method:a,headers:o};t&&t.agent&&(s.agent=t.agent);let u=null;try{u=new AbortController,s.abort=u.signal}catch(d){console.log(d)}let l=(i==="http"?fue:hue).request(r.url,s);l.setTimeout(r.timeout);let c=r.body;return c&&l.write(Buffer.from(c)),l.end(),new Promise((d,f)=>{n&&n.addListener(()=>{u&&u.abort(),f(Ke("request cancelled","CANCELLED"))}),l.on("timeout",()=>{let p;if(c)try{p=JSON.parse(Buffer.from(c).toString("utf8"))}catch{}f(Ke("request timeout","TIMEOUT",{payload:p}))}),l.once("response",p=>{let g=p.statusCode||0,m=p.statusMessage||"",b=Object.keys(p.headers||{}).reduce((E,k)=>{let O=p.headers[k]||"";return Array.isArray(O)&&(O=O.join(", ")),E[k]=O,E},{}),v=null;p.on("data",E=>{if(n)try{n.checkSignal()}catch(k){return f(k)}if(v==null)v=E;else{let k=new Uint8Array(v.length+E.length);k.set(v,0),k.set(E,v.length),v=k}}),p.on("end",()=>{b["content-encoding"]==="gzip"&&v&&(v=he(pue(v))),d({statusCode:g,statusMessage:m,headers:b,body:v})}),p.on("error",E=>{E.response={statusCode:g,statusMessage:m,headers:b,body:v},f(E)})}),l.on("error",p=>{f(p)})})}return e}var e4e=hb({});var mue=12,gue=250,k8=hb(),yue=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),vue=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),b2=!1;async function O8(t,e){try{let r=t.match(yue);if(!r)throw new Error("invalid data");return new Ui(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?E8(r[3]):bue(r[3]))}catch{return new Ui(599,"BAD REQUEST (invalid data: URI)",{},null,new Cr(t))}}function N8(t){async function e(r,n){try{let i=r.match(vue);if(!i)throw new Error("invalid link");return new Cr(`${t}${i[2]}`)}catch{return new Ui(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Cr(r))}}return e}var pb={data:O8,ipfs:N8("https://gateway.ipfs.io/ipfs/")},R8=new WeakMap,gb=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,R8.set(e,()=>{if(!this.#t){this.#t=!0;for(let r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){B(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){B(!this.cancelled,"cancelled","CANCELLED",{})}};function mb(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Cr=class{#e;#t;#r;#n;#a;#s;#i;#d;#l;#u;#o;#p;#c;#f;#h;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#d=void 0;else if(typeof e=="string")this.#i=qr(e),this.#d="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#d="application/octet-stream";else if(typeof e=="object")this.#i=qr(JSON.stringify(e)),this.#d="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#l&&(e.authorization=`Basic ${T8(qr(this.#l))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#d&&(e["content-type"]=this.#d),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#l||null}setCredentials(e,r){A(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#l=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#a}set timeout(e){A(e>=0,"timeout must be non-zero","timeout",e),this.#a=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#o||null}set processFunc(e){this.#o=e}get retryFunc(){return this.#p||null}set retryFunc(e){this.#p=e}get getUrlFunc(){return this.#h||k8}set getUrlFunc(e){this.#h=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#a=3e5,this.#f={slotInterval:gue,maxAttempts:mue},this.#h=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?G(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#f.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#f.maxAttempts=e.maxAttempts)}async#m(e,r,n,i,a){if(e>=this.#f.maxAttempts)return a.makeServerError("exceeded maximum retry limit");B(I8()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await Sue(n);let o=this.clone(),s=(o.url.split(":")[0]||"").toLowerCase();if(s in pb){let c=await pb[s](o.url,mb(i.#c));if(c instanceof Ui){let d=c;if(this.processFunc){mb(i.#c);try{d=await this.processFunc(o,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}o=c}this.preflightFunc&&(o=await this.preflightFunc(o));let u=await this.getUrlFunc(o,mb(i.#c)),l=new Ui(u.statusCode,u.statusMessage,u.headers,u.body,i);if(l.statusCode===301||l.statusCode===302){try{let c=l.headers.location||"";return o.redirect(c).#m(e+1,r,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){let c=l.headers["retry-after"],d=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof c=="string"&&c.match(/^[1-9][0-9]*$/)&&(d=parseInt(c)),o.clone().#m(e+1,r,d,i,l)}if(this.processFunc){mb(i.#c);try{l=await this.processFunc(o,l)}catch(c){(c.throttle==null||typeof c.stall!="number")&&l.makeServerError("error in post-processing function",c).assertOk();let d=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return c.stall>=0&&(d=c.stall),o.clone().#m(e+1,r,d,i,l)}}return l}send(){return B(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new gb(this),this.#m(0,I8()+this.timeout,0,this,new Ui(0,"",{},null,this))}cancel(){B(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=R8.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();B(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new Cr(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#r=Object.assign({},this.#r),this.#i&&(i.#i=new Uint8Array(this.#i)),i.#d=this.#d,i}clone(){let e=new Cr(this.url);return e.#n=this.#n,this.#i&&(e.#i=this.#i),e.#d=this.#d,e.#r=Object.assign({},this.#r),e.#l=this.#l,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#o=this.#o,e.#p=this.#p,e.#f=Object.assign({},this.#f),e.#h=this.#h,e}static lockConfig(){b2=!0}static getGateway(e){return pb[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(b2)throw new Error("gateways locked");pb[e]=r}static registerGetUrl(e){if(b2)throw new Error("gateways locked");k8=e}static createGetUrlFunc(e){return hb(e)}static createDataGateway(){return O8}static createIpfsGatewayFunc(e){return N8(e)}},Ui=class{#e;#t;#r;#n;#a;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?G(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":is(this.#n)}catch{B(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{B(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,i,a){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((o,s)=>(o[s.toLowerCase()]=String(n[s]),o),{}),this.#n=i==null?null:new Uint8Array(i),this.#a=a||null,this.#s={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new Ui(599,n,this.headers,this.body,this.#a||void 0);return i.#s={message:e,error:r},i}throwThrottleError(e,r){r==null?r=-1:A(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw Y(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#a}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=is(this.#n))}catch{}B(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function I8(){return new Date().getTime()}function bue(t){return qr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Sue(t){return new Promise(e=>setTimeout(e,t))}function _ue(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function w8(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function P8(t,e,r,n){let i=[];for(;r<e+1+n;){let a=x8(t,r);i.push(a.result),r+=a.consumed,B(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function x8(t,e){B(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{B(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let i=w8(t,e+1,n);return r(e+1+n+i),P8(t,e,e+1+n,n+i)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),P8(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let i=w8(t,e+1,n);r(e+1+n+i);let a=G(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:a}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let i=G(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:_ue(t[e])}}function Uf(t){let e=he(t,"data"),r=x8(e,0);return A(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function B8(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function M8(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(M8(a))}),n.length<=55)return n.unshift(192+n.length),n;let i=B8(n.length);return i.unshift(247+i.length),i.concat(n)}let e=Array.prototype.slice.call(he(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=B8(e.length);return r.unshift(183+r.length),r.concat(e)}var D8="0123456789abcdef";function Ta(t){let e="0x";for(let r of M8(t))e+=D8[r>>4],e+=D8[r&15];return e}var ur=32,S2=new Uint8Array(ur),Eue=["then"],yb={},q8=new WeakMap;function xu(t){return q8.get(t)}function L8(t,e){q8.set(t,e)}function bg(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function _2(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof Ur?_2(xu(n),n,r):n):t.reduce((n,i,a)=>{let o=e.getValue(i);return i in n||(r&&o instanceof Ur&&(o=_2(xu(o),o,r)),n[i]=o),n},{})}var Ur=class extends Array{#e;constructor(...e){let r=e[0],n=e[1],i=(e[2]||[]).slice(),a=!0;r!==yb&&(n=e,i=[],a=!1),super(n.length),n.forEach((u,l)=>{this[l]=u});let o=i.reduce((u,l)=>(typeof l=="string"&&u.set(l,(u.get(l)||0)+1),u),new Map);if(L8(this,Object.freeze(n.map((u,l)=>{let c=i[l];return c!=null&&o.get(c)===1?c:null}))),this.#e=[],this.#e==null&&this.#e,!a)return;Object.freeze(this);let s=new Proxy(this,{get:(u,l,c)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let f=Se(l,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");let p=u[f];return p instanceof Error&&bg(`index ${f}`,p),p}if(Eue.indexOf(l)>=0)return Reflect.get(u,l,c);let d=u[l];if(d instanceof Function)return function(...f){return d.apply(this===c?u:this,f)};if(!(l in u))return u.getValue.apply(this===c?u:this,[l])}return Reflect.get(u,l,c)}});return L8(s,xu(this)),s}toArray(e){let r=[];return this.forEach((n,i)=>{n instanceof Error&&bg(`index ${i}`,n),e&&n instanceof Ur&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){let r=xu(this);return r.reduce((n,i,a)=>(B(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),_2(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);let n=xu(this),i=[],a=[];for(let o=e;o<r;o++)i.push(this[o]),a.push(n[o]);return new Ur(yb,i,a)}filter(e,r){let n=xu(this),i=[],a=[];for(let o=0;o<this.length;o++){let s=this[o];s instanceof Error&&bg(`index ${o}`,s),e.call(r,s,o,this)&&(i.push(s),a.push(n[o]))}return new Ur(yb,i,a)}map(e,r){let n=[];for(let i=0;i<this.length;i++){let a=this[i];a instanceof Error&&bg(`index ${i}`,a),n.push(e.call(r,a,i,this))}return n}getValue(e){let r=xu(this).indexOf(e);if(r===-1)return;let n=this[r];return n instanceof Error&&bg(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new Ur(yb,e,r)}};function F8(t){let e=qt(t);return B(e.length<=ur,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ur,offset:e.length}),e.length!==ur&&(e=vt(Ge([S2.slice(e.length%ur),e]))),e}var Ut=class{name;type;localName;dynamic;constructor(e,r,n,i){Y(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){A(!1,e,this.localName,r)}},Bu=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Ge(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(vt(e.data))}writeBytes(e){let r=vt(e),n=r.length%ur;return n&&(r=vt(Ge([r,S2.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(F8(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(S2),this.#t+=ur,r=>{this.#e[e]=F8(r)}}},Vf=class{allowLoose;#e;#t;#r;#n;#a;constructor(e,r,n){Y(this,{allowLoose:!!r}),this.#e=vt(e),this.#r=0,this.#n=null,this.#a=n??1024,this.#t=0}get data(){return G(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#n)return this.#n.#s(e);this.#r+=e,B(this.#a<1||this.#r<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:vt(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(e,r,n){let i=Math.ceil(r/ur)*ur;return this.#t+i>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?i=r:B(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:vt(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let r=new Vf(this.#e.slice(this.#t+e),this.allowLoose,this.#a);return r.#n=this,r}readBytes(e,r){let n=this.#i(0,e,!!r);return this.#s(e),this.#t+=n.length,n.slice(0,e)}readValue(){return qf(this.readBytes(ur))}readIndex(){return y2(this.readBytes(ur))}};import{createHash as E2,createHmac as x4e,pbkdf2Sync as B4e,randomBytes as D4e}from"crypto";function Sg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _g(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function U8(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Sg(t.outputLen),Sg(t.blockLen)}function to(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vb(t,e){_g(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var bb=BigInt(4294967295),V8=BigInt(32);function Tue(t,e=!1){return e?{h:Number(t&bb),l:Number(t>>V8&bb)}:{h:Number(t>>V8&bb)|0,l:Number(t&bb)|0}}function J8(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=Tue(t[i],e);[r[i],n[i]]=[a,o]}return[r,n]}var W8=(t,e,r)=>t<<r|e>>>32-r,G8=(t,e,r)=>e<<r|t>>>32-r,H8=(t,e,r)=>e<<r-32|t>>>64-r,z8=(t,e,r)=>t<<r-32|e>>>64-r;import*as Eg from"crypto";var Sb=Eg&&typeof Eg=="object"&&"webcrypto"in Eg?Eg.webcrypto:void 0;var Q8=t=>t instanceof Uint8Array;var K8=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_b=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vi=(t,e)=>t<<32-e|t>>>e,Aue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Aue)throw new Error("Non little-endian hardware is not supported");function Cue(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function os(t){if(typeof t=="string"&&(t=Cue(t)),!Q8(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Z8(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Q8(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var as=class{clone(){return this._cloneInto()}},U4e={}.toString;function Eb(t){let e=n=>t().update(os(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function X8(t){let e=(n,i)=>t(i).update(os(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Y8(t=32){if(Sb&&typeof Sb.getRandomValues=="function")return Sb.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var[eV,tV,rV]=[[],[],[]],kue=BigInt(0),Tg=BigInt(1),Iue=BigInt(2),Oue=BigInt(7),Nue=BigInt(256),Rue=BigInt(113);for(let t=0,e=Tg,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],eV.push(2*(5*n+r)),tV.push((t+1)*(t+2)/2%64);let i=kue;for(let a=0;a<7;a++)e=(e<<Tg^(e>>Oue)*Rue)%Nue,e&Iue&&(i^=Tg<<(Tg<<BigInt(a))-Tg);rV.push(i)}var[wue,Pue]=J8(rV,!0),$8=(t,e,r)=>r>32?H8(t,e,r):W8(t,e,r),j8=(t,e,r)=>r>32?z8(t,e,r):G8(t,e,r);function xue(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,u=(o+2)%10,l=r[u],c=r[u+1],d=$8(l,c,1)^r[s],f=j8(l,c,1)^r[s+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=f}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=tV[o],u=$8(i,a,s),l=j8(i,a,s),c=eV[o];i=t[c],a=t[c+1],t[c]=u,t[c+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)r[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=wue[n],t[1]^=Pue[n]}r.fill(0)}var Jf=class extends as{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Sg(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=K8(this.state)}keccak(){xue(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){to(this);let{blockLen:r,state:n}=this;e=os(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);for(let s=0;s<o;s++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){to(this,!1),_g(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Sg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vb(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new Jf(r,n,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},ss=(t,e,r)=>Eb(()=>new Jf(e,t,r)),H4e=ss(6,144,224/8),z4e=ss(6,136,256/8),Q4e=ss(6,104,384/8),K4e=ss(6,72,512/8),Z4e=ss(1,144,224/8),nV=ss(1,136,256/8),X4e=ss(1,104,384/8),Y4e=ss(1,72,512/8),iV=(t,e,r)=>X8((n={})=>new Jf(e,t,n.dkLen===void 0?r:n.dkLen,!0)),$4e=iV(31,168,128/8),j4e=iV(31,136,256/8);var aV=!1,oV=function(t){return nV(t)},sV=oV;function Ze(t){let e=he(t,"data");return G(sV(e))}Ze._=oV;Ze.lock=function(){aV=!0};Ze.register=function(t){if(aV)throw new TypeError("keccak256 is locked");sV=t};Object.freeze(Ze);function Bue(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,s,n)}var Tb=class extends as{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_b(this.buffer)}update(e){to(this);let{view:r,buffer:n,blockLen:i}=this;e=os(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let u=_b(e);for(;i<=a-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){to(this),vb(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:a}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;Bue(n,i-8,BigInt(this.length*8),a),this.process(n,0);let s=_b(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,c[d],a)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%r&&e.buffer.set(n),e}};var Due=(t,e,r)=>t&e^~t&r,Mue=(t,e,r)=>t&e^t&r^e&r,Lue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),us=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ls=new Uint32Array(64),T2=class extends Tb{constructor(){super(64,32,8,!1),this.A=us[0]|0,this.B=us[1]|0,this.C=us[2]|0,this.D=us[3]|0,this.E=us[4]|0,this.F=us[5]|0,this.G=us[6]|0,this.H=us[7]|0}get(){let{A:e,B:r,C:n,D:i,E:a,F:o,G:s,H:u}=this;return[e,r,n,i,a,o,s,u]}set(e,r,n,i,a,o,s,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(e,r){for(let d=0;d<16;d++,r+=4)ls[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=ls[d-15],p=ls[d-2],g=Vi(f,7)^Vi(f,18)^f>>>3,m=Vi(p,17)^Vi(p,19)^p>>>10;ls[d]=m+ls[d-7]+g+ls[d-16]|0}let{A:n,B:i,C:a,D:o,E:s,F:u,G:l,H:c}=this;for(let d=0;d<64;d++){let f=Vi(s,6)^Vi(s,11)^Vi(s,25),p=c+f+Due(s,u,l)+Lue[d]+ls[d]|0,m=(Vi(n,2)^Vi(n,13)^Vi(n,22))+Mue(n,i,a)|0;c=l,l=u,u=s,s=o+p|0,o=a,a=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,i,a,o,s,u,l,c)}roundClean(){ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var uV=Eb(()=>new T2);var Ab=class extends as{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,U8(e);let n=os(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return to(this),this.iHash.update(e),this}digestInto(e){to(this),_g(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},A2=(t,e,r)=>new Ab(t,e).update(r).digest();A2.create=(t,e)=>new Ab(t,e);var lV=function(t){return E2("sha256").update(t).digest()},cV=function(t){return E2("sha512").update(t).digest()},dV=lV,fV=cV,hV=!1,pV=!1;function cs(t){let e=he(t,"data");return G(dV(e))}cs._=lV;cs.lock=function(){hV=!0};cs.register=function(t){if(hV)throw new Error("sha256 is locked");dV=t};Object.freeze(cs);function Cb(t){let e=he(t,"data");return G(fV(e))}Cb._=cV;Cb.lock=function(){pV=!0};Cb.register=function(t){if(pV)throw new Error("sha512 is locked");fV=t};Object.freeze(cs);var O2={};vl(O2,{bitGet:()=>Gue,bitLen:()=>Wue,bitMask:()=>Ag,bitSet:()=>Hue,bytesToHex:()=>Du,bytesToNumberBE:()=>ro,bytesToNumberLE:()=>Ob,concatBytes:()=>Wf,createHmacDrbg:()=>I2,ensureBytes:()=>kn,equalBytes:()=>Vue,hexToBytes:()=>Mu,hexToNumber:()=>k2,numberToBytesBE:()=>ds,numberToBytesLE:()=>Nb,numberToHexUnpadded:()=>yV,numberToVarBytesBE:()=>Uue,utf8ToBytes:()=>Jue,validateObject:()=>fs});var gV=BigInt(0),kb=BigInt(1),Fue=BigInt(2),Ib=t=>t instanceof Uint8Array,que=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Du(t){if(!Ib(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=que[t[r]];return e}function yV(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function k2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Mu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,a=t.slice(i,i+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function ro(t){return k2(Du(t))}function Ob(t){if(!Ib(t))throw new Error("Uint8Array expected");return k2(Du(Uint8Array.from(t).reverse()))}function ds(t,e){return Mu(t.toString(16).padStart(e*2,"0"))}function Nb(t,e){return ds(t,e).reverse()}function Uue(t){return Mu(yV(t))}function kn(t,e,r){let n;if(typeof e=="string")try{n=Mu(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Ib(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Wf(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Ib(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Vue(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Jue(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Wue(t){let e;for(e=0;t>gV;t>>=kb,e+=1);return e}function Gue(t,e){return t>>BigInt(e)&kb}var Hue=(t,e,r)=>t|(r?kb:gV)<<BigInt(e),Ag=t=>(Fue<<BigInt(t-1))-kb,C2=t=>new Uint8Array(t),mV=t=>Uint8Array.from(t);function I2(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=C2(t),i=C2(t),a=0,o=()=>{n.fill(1),i.fill(0),a=0},s=(...d)=>r(i,n,...d),u=(d=C2())=>{i=s(mV([0]),d),n=s(),d.length!==0&&(i=s(mV([1]),d),n=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<e;){n=s();let p=n.slice();f.push(p),d+=n.length}return Wf(...f)};return(d,f)=>{o(),u(d);let p;for(;!(p=f(l()));)u();return o(),p}}var zue={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function fs(t,e,r={}){let n=(i,a,o)=>{let s=zue[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!s(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(let[i,a]of Object.entries(e))n(i,a,!1);for(let[i,a]of Object.entries(r))n(i,a,!0);return t}var zt=BigInt(0),Et=BigInt(1),Lu=BigInt(2),Que=BigInt(3),N2=BigInt(4),vV=BigInt(5),bV=BigInt(8),Kue=BigInt(9),Zue=BigInt(16);function kr(t,e){let r=t%e;return r>=zt?r:e+r}function Xue(t,e,r){if(r<=zt||e<zt)throw new Error("Expected power/modulo > 0");if(r===Et)return zt;let n=Et;for(;e>zt;)e&Et&&(n=n*t%r),t=t*t%r,e>>=Et;return n}function In(t,e,r){let n=t;for(;e-- >zt;)n*=n,n%=r;return n}function Rb(t,e){if(t===zt||e<=zt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=kr(t,e),n=e,i=zt,a=Et,o=Et,s=zt;for(;r!==zt;){let l=n/r,c=n%r,d=i-o*l,f=a-s*l;n=r,r=c,i=o,a=s,o=d,s=f}if(n!==Et)throw new Error("invert: does not exist");return kr(i,e)}function Yue(t){let e=(t-Et)/Lu,r,n,i;for(r=t-Et,n=0;r%Lu===zt;r/=Lu,n++);for(i=Lu;i<t&&Xue(i,e,t)!==t-Et;i++);if(n===1){let o=(t+Et)/N2;return function(u,l){let c=u.pow(l,o);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}let a=(r+Et)/Lu;return function(s,u){if(s.pow(u,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=n,c=s.pow(s.mul(s.ONE,i),r),d=s.pow(u,a),f=s.pow(u,r);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let m=s.sqr(f);p<l&&!s.eql(m,s.ONE);p++)m=s.sqr(m);let g=s.pow(c,Et<<BigInt(l-p-1));c=s.sqr(g),d=s.mul(d,g),f=s.mul(f,c),l=p}return d}}function $ue(t){if(t%N2===Que){let e=(t+Et)/N2;return function(n,i){let a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%bV===vV){let e=(t-vV)/bV;return function(n,i){let a=n.mul(i,Lu),o=n.pow(a,e),s=n.mul(i,o),u=n.mul(n.mul(s,Lu),o),l=n.mul(s,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%Zue,Yue(t)}var jue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function R2(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=jue.reduce((n,i)=>(n[i]="function",n),e);return fs(t,r)}function ele(t,e,r){if(r<zt)throw new Error("Expected power > 0");if(r===zt)return t.ONE;if(r===Et)return e;let n=t.ONE,i=e;for(;r>zt;)r&Et&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Et;return n}function tle(t,e){let r=new Array(e.length),n=e.reduce((a,o,s)=>t.is0(o)?a:(r[s]=a,t.mul(a,o)),t.ONE),i=t.inv(n);return e.reduceRight((a,o,s)=>t.is0(o)?a:(r[s]=t.mul(a,r[s]),t.mul(a,o)),i),r}function w2(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function SV(t,e,r=!1,n={}){if(t<=zt)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:a}=w2(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=$ue(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:Ag(i),ZERO:zt,ONE:Et,create:u=>kr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return zt<=u&&u<t},is0:u=>u===zt,isOdd:u=>(u&Et)===Et,neg:u=>kr(-u,t),eql:(u,l)=>u===l,sqr:u=>kr(u*u,t),add:(u,l)=>kr(u+l,t),sub:(u,l)=>kr(u-l,t),mul:(u,l)=>kr(u*l,t),pow:(u,l)=>ele(s,u,l),div:(u,l)=>kr(u*Rb(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>Rb(u,t),sqrt:n.sqrt||(u=>o(s,u)),invertBatch:u=>tle(s,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?Nb(u,a):ds(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return r?Ob(u):ro(u)}});return Object.freeze(s)}function _V(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function P2(t){let e=_V(t);return e+Math.ceil(e/2)}function EV(t,e,r=!1){let n=t.length,i=_V(e),a=P2(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);let o=r?ro(t):Ob(t),s=kr(o,e-Et)+Et;return r?Nb(s,i):ds(s,i)}var nle=BigInt(0),x2=BigInt(1);function TV(t,e){let r=(i,a)=>{let o=a.negate();return i?o:a},n=i=>{let a=Math.ceil(e/i)+1,o=2**(i-1);return{windows:a,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,a){let o=t.ZERO,s=i;for(;a>nle;)a&x2&&(o=o.add(s)),s=s.double(),a>>=x2;return o},precomputeWindow(i,a){let{windows:o,windowSize:s}=n(a),u=[],l=i,c=l;for(let d=0;d<o;d++){c=l,u.push(c);for(let f=1;f<s;f++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,a,o){let{windows:s,windowSize:u}=n(i),l=t.ZERO,c=t.BASE,d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let g=0;g<s;g++){let m=g*u,b=Number(o&d);o>>=p,b>u&&(b-=f,o+=x2);let v=m,E=m+Math.abs(b)-1,k=g%2!==0,O=b<0;b===0?c=c.add(r(k,a[v])):l=l.add(r(O,a[E]))}return{p:l,f:c}},wNAFCached(i,a,o,s){let u=i._WINDOW_SIZE||1,l=a.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&a.set(i,s(l))),this.wNAF(u,l,o)}}}function B2(t){return R2(t.Fp),fs(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...w2(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function ile(t){let e=B2(t);fs(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:ale,hexToBytes:ole}=O2,Fu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Fu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ale(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Fu,r=typeof t=="string"?ole(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:a}=Fu._parseInt(r.subarray(2)),{d:o,l:s}=Fu._parseInt(a);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,o=i.length/2,s=r(a),u=r(o);return`30${r(o+a+4)}02${u}${i}02${s}${n}`}},no=BigInt(0),Zn=BigInt(1),T7e=BigInt(2),AV=BigInt(3),A7e=BigInt(4);function sle(t){let e=ile(t),{Fp:r}=e,n=e.toBytes||((g,m,b)=>{let v=m.toAffine();return Wf(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),i=e.fromBytes||(g=>{let m=g.subarray(1),b=r.fromBytes(m.subarray(0,r.BYTES)),v=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:b,y:v}});function a(g){let{a:m,b}=e,v=r.sqr(g),E=r.mul(v,g);return r.add(r.add(E,r.mul(g,m)),b)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&no<g&&g<e.n}function s(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){let{allowedPrivateKeyLengths:m,nByteLength:b,wrapPrivateKey:v,n:E}=e;if(m&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Du(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(b*2,"0")}let k;try{k=typeof g=="bigint"?g:ro(kn("private key",g,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof g}`)}return v&&(k=kr(k,E)),s(k),k}let l=new Map;function c(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,b,v){if(this.px=m,this.py=b,this.pz=v,m==null||!r.isValid(m))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required")}static fromAffine(m){let{x:b,y:v}=m||{};if(!m||!r.isValid(b)||!r.isValid(v))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let E=k=>r.eql(k,r.ZERO);return E(b)&&E(v)?d.ZERO:new d(b,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let b=r.invertBatch(m.map(v=>v.pz));return m.map((v,E)=>v.toAffine(b[E])).map(d.fromAffine)}static fromHex(m){let b=d.fromAffine(i(kn("pointHex",m)));return b.assertValidity(),b}static fromPrivateKey(m){return d.BASE.multiply(u(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:b}=this.toAffine();if(!r.isValid(m)||!r.isValid(b))throw new Error("bad point: x or y not FE");let v=r.sqr(b),E=a(m);if(!r.eql(v,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){c(m);let{px:b,py:v,pz:E}=this,{px:k,py:O,pz:M}=m,P=r.eql(r.mul(b,M),r.mul(k,E)),q=r.eql(r.mul(v,M),r.mul(O,E));return P&&q}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:m,b}=e,v=r.mul(b,AV),{px:E,py:k,pz:O}=this,M=r.ZERO,P=r.ZERO,q=r.ZERO,z=r.mul(E,E),me=r.mul(k,k),ne=r.mul(O,O),w=r.mul(E,k);return w=r.add(w,w),q=r.mul(E,O),q=r.add(q,q),M=r.mul(m,q),P=r.mul(v,ne),P=r.add(M,P),M=r.sub(me,P),P=r.add(me,P),P=r.mul(M,P),M=r.mul(w,M),q=r.mul(v,q),ne=r.mul(m,ne),w=r.sub(z,ne),w=r.mul(m,w),w=r.add(w,q),q=r.add(z,z),z=r.add(q,z),z=r.add(z,ne),z=r.mul(z,w),P=r.add(P,z),ne=r.mul(k,O),ne=r.add(ne,ne),z=r.mul(ne,w),M=r.sub(M,z),q=r.mul(ne,me),q=r.add(q,q),q=r.add(q,q),new d(M,P,q)}add(m){c(m);let{px:b,py:v,pz:E}=this,{px:k,py:O,pz:M}=m,P=r.ZERO,q=r.ZERO,z=r.ZERO,me=e.a,ne=r.mul(e.b,AV),w=r.mul(b,k),Oe=r.mul(v,O),D=r.mul(E,M),_=r.add(b,v),N=r.add(k,O);_=r.mul(_,N),N=r.add(w,Oe),_=r.sub(_,N),N=r.add(b,E);let U=r.add(k,M);return N=r.mul(N,U),U=r.add(w,D),N=r.sub(N,U),U=r.add(v,E),P=r.add(O,M),U=r.mul(U,P),P=r.add(Oe,D),U=r.sub(U,P),z=r.mul(me,N),P=r.mul(ne,D),z=r.add(P,z),P=r.sub(Oe,z),z=r.add(Oe,z),q=r.mul(P,z),Oe=r.add(w,w),Oe=r.add(Oe,w),D=r.mul(me,D),N=r.mul(ne,N),Oe=r.add(Oe,D),D=r.sub(w,D),D=r.mul(me,D),N=r.add(N,D),w=r.mul(Oe,N),q=r.add(q,w),w=r.mul(U,N),P=r.mul(_,P),P=r.sub(P,w),w=r.mul(_,Oe),z=r.mul(U,z),z=r.add(z,w),new d(P,q,z)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,b=>{let v=r.invertBatch(b.map(E=>E.pz));return b.map((E,k)=>E.toAffine(v[k])).map(d.fromAffine)})}multiplyUnsafe(m){let b=d.ZERO;if(m===no)return b;if(s(m),m===Zn)return this;let{endo:v}=e;if(!v)return p.unsafeLadder(this,m);let{k1neg:E,k1:k,k2neg:O,k2:M}=v.splitScalar(m),P=b,q=b,z=this;for(;k>no||M>no;)k&Zn&&(P=P.add(z)),M&Zn&&(q=q.add(z)),z=z.double(),k>>=Zn,M>>=Zn;return E&&(P=P.negate()),O&&(q=q.negate()),q=new d(r.mul(q.px,v.beta),q.py,q.pz),P.add(q)}multiply(m){s(m);let b=m,v,E,{endo:k}=e;if(k){let{k1neg:O,k1:M,k2neg:P,k2:q}=k.splitScalar(b),{p:z,f:me}=this.wNAF(M),{p:ne,f:w}=this.wNAF(q);z=p.constTimeNegate(O,z),ne=p.constTimeNegate(P,ne),ne=new d(r.mul(ne.px,k.beta),ne.py,ne.pz),v=z.add(ne),E=me.add(w)}else{let{p:O,f:M}=this.wNAF(b);v=O,E=M}return d.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(m,b,v){let E=d.BASE,k=(M,P)=>P===no||P===Zn||!M.equals(E)?M.multiplyUnsafe(P):M.multiply(P),O=k(this,b).add(k(m,v));return O.is0()?void 0:O}toAffine(m){let{px:b,py:v,pz:E}=this,k=this.is0();m==null&&(m=k?r.ONE:r.inv(E));let O=r.mul(b,m),M=r.mul(v,m),P=r.mul(E,m);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:O,y:M}}isTorsionFree(){let{h:m,isTorsionFree:b}=e;if(m===Zn)return!0;if(b)return b(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:b}=e;return m===Zn?this:b?b(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(d,this,m)}toHex(m=!0){return Du(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let f=e.nBitLength,p=TV(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:o}}function ule(t){let e=B2(t);return fs(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function CV(t){let e=ule(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function o(N){return no<N&&N<r.ORDER}function s(N){return kr(N,n)}function u(N){return Rb(N,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:f}=sle({...e,toBytes(N,U,oe){let ce=U.toAffine(),ge=r.toBytes(ce.x),_e=Wf;return oe?_e(Uint8Array.from([U.hasEvenY()?2:3]),ge):_e(Uint8Array.from([4]),ge,r.toBytes(ce.y))},fromBytes(N){let U=N.length,oe=N[0],ce=N.subarray(1);if(U===i&&(oe===2||oe===3)){let ge=ro(ce);if(!o(ge))throw new Error("Point is not on curve");let _e=d(ge),Qe=r.sqrt(_e),Pe=(Qe&Zn)===Zn;return(oe&1)===1!==Pe&&(Qe=r.neg(Qe)),{x:ge,y:Qe}}else if(U===a&&oe===4){let ge=r.fromBytes(ce.subarray(0,r.BYTES)),_e=r.fromBytes(ce.subarray(r.BYTES,2*r.BYTES));return{x:ge,y:_e}}else throw new Error(`Point of length ${U} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=N=>Du(ds(N,e.nByteLength));function g(N){let U=n>>Zn;return N>U}function m(N){return g(N)?s(-N):N}let b=(N,U,oe)=>ro(N.slice(U,oe));class v{constructor(U,oe,ce){this.r=U,this.s=oe,this.recovery=ce,this.assertValidity()}static fromCompact(U){let oe=e.nByteLength;return U=kn("compactSignature",U,oe*2),new v(b(U,0,oe),b(U,oe,2*oe))}static fromDER(U){let{r:oe,s:ce}=Fu.toSig(kn("DER",U));return new v(oe,ce)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(U){return new v(this.r,this.s,U)}recoverPublicKey(U){let{r:oe,s:ce,recovery:ge}=this,_e=q(kn("msgHash",U));if(ge==null||![0,1,2,3].includes(ge))throw new Error("recovery id invalid");let Qe=ge===2||ge===3?oe+e.n:oe;if(Qe>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Pe=ge&1?"03":"02",Ue=l.fromHex(Pe+p(Qe)),nt=u(Qe),je=s(-_e*nt),At=s(ce*nt),Nr=l.BASE.multiplyAndAddUnsafe(Ue,je,At);if(!Nr)throw new Error("point at infinify");return Nr.assertValidity(),Nr}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Mu(this.toDERHex())}toDERHex(){return Fu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Mu(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let E={isValidPrivateKey(N){try{return c(N),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let N=P2(e.n);return EV(e.randomBytes(N),e.n)},precompute(N=8,U=l.BASE){return U._setWindowSize(N),U.multiply(BigInt(3)),U}};function k(N,U=!0){return l.fromPrivateKey(N).toRawBytes(U)}function O(N){let U=N instanceof Uint8Array,oe=typeof N=="string",ce=(U||oe)&&N.length;return U?ce===i||ce===a:oe?ce===2*i||ce===2*a:N instanceof l}function M(N,U,oe=!0){if(O(N))throw new Error("first arg must be private key");if(!O(U))throw new Error("second arg must be public key");return l.fromHex(U).multiply(c(N)).toRawBytes(oe)}let P=e.bits2int||function(N){let U=ro(N),oe=N.length*8-e.nBitLength;return oe>0?U>>BigInt(oe):U},q=e.bits2int_modN||function(N){return s(P(N))},z=Ag(e.nBitLength);function me(N){if(typeof N!="bigint")throw new Error("bigint expected");if(!(no<=N&&N<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ds(N,e.nByteLength)}function ne(N,U,oe=w){if(["recovered","canonical"].some(L=>L in oe))throw new Error("sign() legacy options not supported");let{hash:ce,randomBytes:ge}=e,{lowS:_e,prehash:Qe,extraEntropy:Pe}=oe;_e==null&&(_e=!0),N=kn("msgHash",N),Qe&&(N=kn("prehashed msgHash",ce(N)));let Ue=q(N),nt=c(U),je=[me(nt),me(Ue)];if(Pe!=null){let L=Pe===!0?ge(r.BYTES):Pe;je.push(kn("extraEntropy",L))}let At=Wf(...je),Nr=Ue;function Lt(L){let F=P(L);if(!f(F))return;let H=u(F),ee=l.BASE.multiply(F).toAffine(),j=s(ee.x);if(j===no)return;let ve=s(H*s(Nr+j*nt));if(ve===no)return;let it=(ee.x===j?0:2)|Number(ee.y&Zn),ri=ve;return _e&&g(ve)&&(ri=m(ve),it^=1),new v(j,ri,it)}return{seed:At,k2sig:Lt}}let w={lowS:e.lowS,prehash:!1},Oe={lowS:e.lowS,prehash:!1};function D(N,U,oe=w){let{seed:ce,k2sig:ge}=ne(N,U,oe),_e=e;return I2(_e.hash.outputLen,_e.nByteLength,_e.hmac)(ce,ge)}l.BASE._setWindowSize(8);function _(N,U,oe,ce=Oe){let ge=N;if(U=kn("msgHash",U),oe=kn("publicKey",oe),"strict"in ce)throw new Error("options.strict was renamed to lowS");let{lowS:_e,prehash:Qe}=ce,Pe,Ue;try{if(typeof ge=="string"||ge instanceof Uint8Array)try{Pe=v.fromDER(ge)}catch(ee){if(!(ee instanceof Fu.Err))throw ee;Pe=v.fromCompact(ge)}else if(typeof ge=="object"&&typeof ge.r=="bigint"&&typeof ge.s=="bigint"){let{r:ee,s:j}=ge;Pe=new v(ee,j)}else throw new Error("PARSE");Ue=l.fromHex(oe)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_e&&Pe.hasHighS())return!1;Qe&&(U=e.hash(U));let{r:nt,s:je}=Pe,At=q(U),Nr=u(je),Lt=s(At*Nr),L=s(nt*Nr),F=l.BASE.multiplyAndAddUnsafe(Ue,Lt,L)?.toAffine();return F?s(F.x)===nt:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:M,sign:D,verify:_,ProjectivePoint:l,Signature:v,utils:E}}function lle(t){return{hash:t,hmac:(e,...r)=>A2(t,e,Z8(...r)),randomBytes:Y8}}function kV(t,e){let r=n=>CV({...t,...lle(n)});return Object.freeze({...r(e),create:r})}var NV=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),IV=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cle=BigInt(1),D2=BigInt(2),OV=(t,e)=>(t+e/D2)/e;function dle(t){let e=NV,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),u=BigInt(88),l=t*t*t%e,c=l*l*t%e,d=In(c,r,e)*c%e,f=In(d,r,e)*c%e,p=In(f,D2,e)*l%e,g=In(p,i,e)*p%e,m=In(g,a,e)*g%e,b=In(m,s,e)*m%e,v=In(b,u,e)*b%e,E=In(v,s,e)*m%e,k=In(E,r,e)*c%e,O=In(k,o,e)*g%e,M=In(O,n,e)*l%e,P=In(M,D2,e);if(!M2.eql(M2.sqr(P),t))throw new Error("Cannot find square root");return P}var M2=SV(NV,void 0,void 0,{sqrt:dle}),io=kV({a:BigInt(0),b:BigInt(7),Fp:M2,n:IV,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=IV,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cle*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),s=OV(a*t,e),u=OV(-n*t,e),l=kr(t-s*r-u*i,e),c=kr(-s*n-u*a,e),d=l>o,f=c>o;if(d&&(l=e-l),f&&(c=e-c),l>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:c}}}},uV),x7e=BigInt(0);var B7e=io.ProjectivePoint;var ao="0x0000000000000000000000000000000000000000";var wb="0x0000000000000000000000000000000000000000000000000000000000000000";var RV=BigInt(0),wV=BigInt(1),PV=BigInt(2),xV=BigInt(27),BV=BigInt(28),Pb=BigInt(35),Gf={};function DV(t){return Cn(qt(t),32)}var dt=class{#e;#t;#r;#n;get r(){return this.#e}set r(e){A(_a(e)===32,"invalid r","value",e),this.#e=G(e)}get s(){return this.#t}set s(e){A(_a(e)===32,"invalid s","value",e);let r=G(e);A(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),this.#t=r}get v(){return this.#r}set v(e){let r=Se(e,"value");A(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:dt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=he(this.s);return this.yParity&&(e[0]|=128),G(e)}get compactSerialized(){return Ge([this.r,this.yParityAndS])}get serialized(){return Ge([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,i){rs(e,Gf,"Signature"),this.#e=r,this.#t=n,this.#r=i,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new dt(Gf,this.r,this.s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let r=Q(e,"v");return r==xV||r==BV?RV:(A(r>=Pb,"invalid EIP-155 v","v",e),(r-Pb)/PV)}static getChainIdV(e,r){return Q(e)*PV+BigInt(35+r-27)}static getNormalizedV(e){let r=Q(e);return r===RV||r===xV?27:r===wV||r===BV?28:(A(r>=Pb,"invalid v","v",e),r&wV?27:28)}static from(e){function r(l,c){A(l,c,"signature",e)}if(e==null)return new dt(Gf,wb,wb,27);if(typeof e=="string"){let l=he(e,"signature");if(l.length===64){let c=G(l.slice(0,32)),d=l.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new dt(Gf,c,G(d),f)}if(l.length===65){let c=G(l.slice(0,32)),d=l.slice(32,64);r((d[0]&128)===0,"non-canonical s");let f=dt.getNormalizedV(l[64]);return new dt(Gf,c,G(d),f)}r(!1,"invalid raw signature length")}if(e instanceof dt)return e.clone();let n=e.r;r(n!=null,"missing r");let i=DV(n),a=function(l,c){if(l!=null)return DV(l);if(c!=null){r(Ne(c,32),"invalid yParityAndS");let d=he(c);return d[0]&=127,G(d)}r(!1,"missing s")}(e.s,e.yParityAndS);r((he(a)[0]&128)==0,"non-canonical s");let{networkV:o,v:s}=function(l,c,d){if(l!=null){let f=Q(l);return{networkV:f>=Pb?f:void 0,v:dt.getNormalizedV(f)}}if(c!=null)return r(Ne(c,32),"invalid yParityAndS"),{v:he(c)[0]&128?28:27};if(d!=null){switch(Se(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),u=new dt(Gf,i,a,s);return o&&(u.#n=o),r(e.yParity==null||Se(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}};var tn=class{#e;constructor(e){A(_a(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=G(e)}get privateKey(){return this.#e}get publicKey(){return tn.computePublicKey(this.#e)}get compressedPublicKey(){return tn.computePublicKey(this.#e,!0)}sign(e){A(_a(e)===32,"invalid digest length","digest",e);let r=io.sign(vt(e),vt(this.#e),{lowS:!0});return dt.from({r:en(r.r,32),s:en(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=tn.computePublicKey(e);return G(io.getSharedSecret(vt(this.#e),he(r),!1))}static computePublicKey(e,r){let n=he(e,"key");if(n.length===32){let a=io.getPublicKey(n,!!r);return G(a)}if(n.length===64){let a=new Uint8Array(65);a[0]=4,a.set(n,1),n=a}let i=io.ProjectivePoint.fromHex(n);return G(i.toRawBytes(r))}static recoverPublicKey(e,r){A(_a(e)===32,"invalid digest length","digest",e);let n=dt.from(r),i=io.Signature.fromCompact(vt(Ge([n.r,n.s])));i=i.addRecoveryBit(n.yParity);let a=i.recoverPublicKey(vt(e));return A(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(e,r,n){let i=io.ProjectivePoint.fromHex(tn.computePublicKey(e).substring(2)),a=io.ProjectivePoint.fromHex(tn.computePublicKey(r).substring(2));return"0x"+i.add(a).toHex(!!n)}};var fle=BigInt(0),hle=BigInt(36);function MV(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=he(Ze(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var L2={};for(let t=0;t<10;t++)L2[String(t)]=String(t);for(let t=0;t<26;t++)L2[String.fromCharCode(65+t)]=String(10+t);var LV=15;function ple(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>L2[n]).join("");for(;e.length>=LV;){let n=e.substring(0,LV);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}var mle=function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function gle(t){t=t.toLowerCase();let e=fle;for(let r=0;r<t.length;r++)e=e*hle+mle[t[r]];return e}function ke(t){if(A(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=MV(t);return A(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){A(t.substring(2,4)===ple(t),"bad icap checksum","address",t);let e=gle(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return MV("0x"+e)}A(!1,"invalid address","address",t)}function F2(t){let e=ke(t.from),n=Q(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ke(ct(Ze(Ta([e,n])),12))}function xb(t){return t&&typeof t.getAddress=="function"}async function q2(t,e){let r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(B(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),A(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ke(r)}function Vt(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ke(t):(B(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),q2(t,e.resolveName(t)));if(xb(t))return q2(t,t.getAddress());if(t&&typeof t.then=="function")return q2(t,t);A(!1,"unsupported addressable value","target",t)}var Ji={};function te(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Re(Ji,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function qe(t,e){return new Re(Ji,`bytes${e||""}`,t,{size:e})}var FV=Symbol.for("_ethers_typed"),Re=class{type;value;#e;_typedSymbol;constructor(e,r,n,i){i==null&&(i=null),rs(Ji,e,"Typed"),Y(this,{_typedSymbol:FV,type:r,value:n}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new Re(Ji,e,r)}static uint8(e){return te(e,8)}static uint16(e){return te(e,16)}static uint24(e){return te(e,24)}static uint32(e){return te(e,32)}static uint40(e){return te(e,40)}static uint48(e){return te(e,48)}static uint56(e){return te(e,56)}static uint64(e){return te(e,64)}static uint72(e){return te(e,72)}static uint80(e){return te(e,80)}static uint88(e){return te(e,88)}static uint96(e){return te(e,96)}static uint104(e){return te(e,104)}static uint112(e){return te(e,112)}static uint120(e){return te(e,120)}static uint128(e){return te(e,128)}static uint136(e){return te(e,136)}static uint144(e){return te(e,144)}static uint152(e){return te(e,152)}static uint160(e){return te(e,160)}static uint168(e){return te(e,168)}static uint176(e){return te(e,176)}static uint184(e){return te(e,184)}static uint192(e){return te(e,192)}static uint200(e){return te(e,200)}static uint208(e){return te(e,208)}static uint216(e){return te(e,216)}static uint224(e){return te(e,224)}static uint232(e){return te(e,232)}static uint240(e){return te(e,240)}static uint248(e){return te(e,248)}static uint256(e){return te(e,256)}static uint(e){return te(e,256)}static int8(e){return te(e,-8)}static int16(e){return te(e,-16)}static int24(e){return te(e,-24)}static int32(e){return te(e,-32)}static int40(e){return te(e,-40)}static int48(e){return te(e,-48)}static int56(e){return te(e,-56)}static int64(e){return te(e,-64)}static int72(e){return te(e,-72)}static int80(e){return te(e,-80)}static int88(e){return te(e,-88)}static int96(e){return te(e,-96)}static int104(e){return te(e,-104)}static int112(e){return te(e,-112)}static int120(e){return te(e,-120)}static int128(e){return te(e,-128)}static int136(e){return te(e,-136)}static int144(e){return te(e,-144)}static int152(e){return te(e,-152)}static int160(e){return te(e,-160)}static int168(e){return te(e,-168)}static int176(e){return te(e,-176)}static int184(e){return te(e,-184)}static int192(e){return te(e,-192)}static int200(e){return te(e,-200)}static int208(e){return te(e,-208)}static int216(e){return te(e,-216)}static int224(e){return te(e,-224)}static int232(e){return te(e,-232)}static int240(e){return te(e,-240)}static int248(e){return te(e,-248)}static int256(e){return te(e,-256)}static int(e){return te(e,-256)}static bytes1(e){return qe(e,1)}static bytes2(e){return qe(e,2)}static bytes3(e){return qe(e,3)}static bytes4(e){return qe(e,4)}static bytes5(e){return qe(e,5)}static bytes6(e){return qe(e,6)}static bytes7(e){return qe(e,7)}static bytes8(e){return qe(e,8)}static bytes9(e){return qe(e,9)}static bytes10(e){return qe(e,10)}static bytes11(e){return qe(e,11)}static bytes12(e){return qe(e,12)}static bytes13(e){return qe(e,13)}static bytes14(e){return qe(e,14)}static bytes15(e){return qe(e,15)}static bytes16(e){return qe(e,16)}static bytes17(e){return qe(e,17)}static bytes18(e){return qe(e,18)}static bytes19(e){return qe(e,19)}static bytes20(e){return qe(e,20)}static bytes21(e){return qe(e,21)}static bytes22(e){return qe(e,22)}static bytes23(e){return qe(e,23)}static bytes24(e){return qe(e,24)}static bytes25(e){return qe(e,25)}static bytes26(e){return qe(e,26)}static bytes27(e){return qe(e,27)}static bytes28(e){return qe(e,28)}static bytes29(e){return qe(e,29)}static bytes30(e){return qe(e,30)}static bytes31(e){return qe(e,31)}static bytes32(e){return qe(e,32)}static address(e){return new Re(Ji,"address",e)}static bool(e){return new Re(Ji,"bool",!!e)}static bytes(e){return new Re(Ji,"bytes",e)}static string(e){return new Re(Ji,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Re(Ji,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===FV}static dereference(e,r){if(Re.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};var Bb=class extends Ut{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Re.dereference(r,"string");try{n=ke(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return ke(en(e.readValue(),20))}};var Db=class extends Ut{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};function U2(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(l=>{let c=l.localName;return B(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),B(!u[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),u[c]=!0,r[c]})}else A(!1,"invalid tuple value","tuple",r);A(e.length===n.length,"types/value length mismatch","tuple",r);let i=new Bu,a=new Bu,o=[];e.forEach((u,l)=>{let c=n[l];if(u.dynamic){let d=a.length;u.encode(a,c);let f=i.writeUpdatableValue();o.push(p=>{f(p+d)})}else u.encode(i,c)}),o.forEach(u=>{u(i.length)});let s=t.appendWriter(i);return s+=t.appendWriter(a),s}function V2(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(a=>{let o=null;if(a.dynamic){let s=t.readIndex(),u=i.subReader(s);try{o=a.decode(u)}catch(l){if(pt(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=a.name,o.name=a.localName,o.type=a.type}}else try{o=a.decode(t)}catch(s){if(pt(s,"BUFFER_OVERRUN"))throw s;o=s,o.baseType=a.name,o.name=a.localName,o.type=a.type}if(o==null)throw new Error("investigate");r.push(o),n.push(a.localName||null)}),Ur.fromItems(r,n)}var Mb=class extends Ut{coder;length;constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",a=r===-1||e.dynamic;super("array",i,n,a),Y(this,{coder:e,length:r})}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){let n=Re.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,e.writeValue(n.length)),gg(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<n.length;o++)a.push(this.coder);return U2(e,a,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),B(r*ur<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*ur,length:e.dataLength}));let n=[];for(let i=0;i<r;i++)n.push(new Db(this.coder));return V2(e,n)}};var Lb=class extends Ut{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=Re.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var Cg=class extends Ut{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=vt(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},Fb=class extends Cg{constructor(e){super("bytes",e)}decode(e){return G(super.decode(e))}};var qb=class extends Ut{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),Y(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=vt(Re.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return G(e.readBytes(this.size))}};var yle=new Uint8Array([]),Ub=class extends Ut{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(yle)}decode(e){return e.readBytes(0),null}};var vle=BigInt(0),ble=BigInt(1),Sle=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Vb=class extends Ut{size;signed;constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),Y(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=Q(Re.dereference(r,this.type)),i=ns(Sle,ur*8);if(this.signed){let a=ns(i,this.size*8-1);(n>a||n<-(a+ble))&&this._throwError("value out-of-bounds",r),n=yg(n,8*ur)}else(n<vle||n>ns(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=ns(e.readValue(),this.size*8);return this.signed&&(r=g2(r,this.size*8)),r}};var Jb=class extends Cg{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,qr(Re.dereference(r,"string")))}decode(e){return is(super.decode(e))}};var qu=class extends Ut{coders;constructor(e,r){let n=!1,i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});let a="tuple("+i.join(",")+")";super("tuple",a,r,n),Y(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,r){let n=Re.dereference(r,"tuple");return U2(e,this.coders,n)}decode(e){return V2(e,this.coders)}};function Wi(t){return Ze(qr(t))}var _le="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",qV=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),UV=4;function Ele(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,a=[0,1];for(let M=1;M<n;M++)a.push(i+=r());let o=r(),s=e;e+=o;let u=0,l=0;function c(){return u==0&&(l=l<<8|t[e++],u=8),l>>--u&1}let d=31,f=2**d,p=f>>>1,g=p>>1,m=f-1,b=0;for(let M=0;M<d;M++)b=b<<1|c();let v=[],E=0,k=f;for(;;){let M=Math.floor(((b-E+1)*i-1)/k),P=0,q=n;for(;q-P>1;){let ne=P+q>>>1;M<a[ne]?q=ne:P=ne}if(P==0)break;v.push(P);let z=E+Math.floor(k*a[P]/i),me=E+Math.floor(k*a[P+1]/i)-1;for(;!((z^me)&p);)b=b<<1&m|c(),z=z<<1&m,me=me<<1&m|1;for(;z&~me&g;)b=b&p|b<<1&m>>>1|c(),z=z<<1^p,me=(me^p)<<1|p|1;E=z,k=1+me-z}let O=n-4;return v.map(M=>{switch(M-O){case 3:return O+65792+(t[s++]<<16|t[s++]<<8|t[s++]);case 2:return O+256+(t[s++]<<8|t[s++]);case 1:return O+t[s++];default:return M-1}})}function Tle(t){let e=0;return()=>t[e++]}function GV(t){return Tle(Ele(Ale(t)))}function Ale(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,a)=>e[i.charCodeAt(0)]=a);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,a=0,o=0,s=0;i<r;i++)s=s<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[a++]=s>>(o-=8));return n}function Cle(t){return t&1?~t>>1:t>>1}function kle(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Cle(e());return r}function Og(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let a=0;a<i;a++)r.push(e+a);e+=i+1}return r}function HV(t){return Ng(()=>{let e=Og(t);if(e.length)return e})}function zV(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Ile(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Ole(r,t))}return e.flat()}function Ng(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function QV(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)kle(t,r).forEach((a,o)=>n[o].push(a));return n}function Ile(t,e){let r=1+e(),n=e(),i=Ng(e);return QV(i.length,1+t,e).flatMap((o,s)=>{let[u,...l]=o;return Array(i[s]).fill().map((c,d)=>{let f=d*n;return[u+d*r,l.map(p=>p+f)]})})}function Ole(t,e){let r=1+e();return QV(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Nle(t){let e=[],r=Og(t);return i(n([]),[]),e;function n(a){let o=t(),s=Ng(()=>{let u=Og(t).map(l=>r[l]);if(u.length)return n(u)});return{S:o,B:s,Q:a}}function i({S:a,B:o},s,u){if(!(a&4&&u===s[s.length-1])){a&2&&(u=s[s.length-1]),a&1&&e.push(s);for(let l of o)for(let c of l.Q)i(l,[...s,c],u)}}}function Rle(t){return t.toString(16).toUpperCase().padStart(2,"0")}function KV(t){return`{${Rle(t)}}`}function wle(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function Qf(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function Ple(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var xle="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",Rg=44032,Gb=4352,Hb=4449,zb=4519,ZV=19,XV=21,Kf=28,Qb=XV*Kf,Ble=ZV*Qb,Dle=Rg+Ble,Mle=Gb+ZV,Lle=Hb+XV,Fle=zb+Kf;function kg(t){return t>>24&255}function YV(t){return t&16777215}var W2,VV,G2,Wb;function qle(){let t=GV(xle);W2=new Map(HV(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),VV=new Set(Og(t)),G2=new Map,Wb=new Map;for(let[e,r]of zV(t)){if(!VV.has(e)&&r.length==2){let[n,i]=r,a=Wb.get(n);a||(a=new Map,Wb.set(n,a)),a.set(i,e)}G2.set(e,r.reverse())}}function $V(t){return t>=Rg&&t<Dle}function Ule(t,e){if(t>=Gb&&t<Mle&&e>=Hb&&e<Lle)return Rg+(t-Gb)*Qb+(e-Hb)*Kf;if($V(t)&&e>zb&&e<Fle&&(t-Rg)%Kf==0)return t+(e-zb);{let r=Wb.get(t);return r&&(r=r.get(e),r)?r:-1}}function jV(t){W2||qle();let e=[],r=[],n=!1;function i(a){let o=W2.get(a);o&&(n=!0,a|=o),e.push(a)}for(let a of t)for(;;){if(a<128)e.push(a);else if($V(a)){let o=a-Rg,s=o/Qb|0,u=o%Qb/Kf|0,l=o%Kf;i(Gb+s),i(Hb+u),l>0&&i(zb+l)}else{let o=G2.get(a);o?r.push(...o):i(a)}if(!r.length)break;a=r.pop()}if(n&&e.length>1){let a=kg(e[0]);for(let o=1;o<e.length;o++){let s=kg(e[o]);if(s==0||a<=s){a=s;continue}let u=o-1;for(;;){let l=e[u+1];if(e[u+1]=e[u],e[u]=l,!u||(a=kg(e[--u]),a<=s))break}a=kg(e[o])}}return e}function Vle(t){let e=[],r=[],n=-1,i=0;for(let a of t){let o=kg(a),s=YV(a);if(n==-1)o==0?n=s:e.push(s);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=s):r.push(s),i=o;else{let u=Ule(n,s);u>=0?n=u:i==0&&o==0?(e.push(n),n=s):(r.push(s),i=o)}}return n>=0&&e.push(n,...r),e}function eJ(t){return jV(t).map(YV)}function Jle(t){return Vle(jV(t))}var JV=45;var tJ=".",rJ=65039,nJ=1,Kb=t=>Array.from(t);function wg(t,e){return t.P.has(e)||t.Q.has(e)}var H2=class extends Array{get is_emoji(){return!0}},z2,iJ,Vu,Q2,aJ,Wle,zf,J2,Hf,Uu,WV,K2;function Z2(){if(z2)return;let t=GV(_le),e=()=>Og(t),r=()=>new Set(e()),n=(c,d)=>d.forEach(f=>c.add(f));z2=new Map(zV(t)),iJ=r(),Vu=e(),Q2=new Set(e().map(c=>Vu[c])),Vu=new Set(Vu),aJ=r(),Wle=r();let i=HV(t),a=t(),o=()=>{let c=new Set;return e().forEach(d=>n(c,i[d])),n(c,e()),c};zf=Ng(c=>{let d=Ng(t).map(f=>f+96);if(d.length){let f=c>=a;d[0]-=32,d=Qf(d),f&&(d=`Restricted[${d}]`);let p=o(),g=o(),m=!t();return{N:d,P:p,Q:g,M:m,R:f}}}),J2=r(),Hf=new Map;let s=e().concat(Kb(J2)).sort((c,d)=>c-d);s.forEach((c,d)=>{let f=t(),p=s[d]=f?s[d-f]:{V:[],M:new Map};p.V.push(c),J2.has(c)||Hf.set(c,p)});for(let{V:c,M:d}of new Set(Hf.values())){let f=[];for(let g of c){let m=zf.filter(v=>wg(v,g)),b=f.find(({G:v})=>m.some(E=>v.has(E)));b||(b={G:new Set,V:[]},f.push(b)),b.V.push(g),n(b.G,m)}let p=f.flatMap(g=>Kb(g.G));for(let{G:g,V:m}of f){let b=new Set(p.filter(v=>!g.has(v)));for(let v of m)d.set(v,b)}}Uu=new Set;let u=new Set,l=c=>Uu.has(c)?u.add(c):Uu.add(c);for(let c of zf){for(let d of c.P)l(d);for(let d of c.Q)l(d)}for(let c of Uu)!Hf.has(c)&&!u.has(c)&&Hf.set(c,nJ);n(Uu,eJ(Uu)),WV=Nle(t).map(c=>H2.from(c)).sort(Ple),K2=new Map;for(let c of WV){let d=[K2];for(let f of c){let p=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===rJ?d.push(...p):d=p}for(let f of d)f.V=c}}function X2(t){return(oJ(t)?"":`${Y2(Zb([t]))} `)+KV(t)}function Y2(t){return`"${t}"\u200E`}function Gle(t){if(t.length>=4&&t[2]==JV&&t[3]==JV)throw new Error(`invalid label extension: "${Qf(t.slice(0,4))}"`)}function Hle(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function zle(t){let e=t[0],r=qV.get(e);if(r)throw Ig(`leading ${r}`);let n=t.length,i=-1;for(let a=1;a<n;a++){e=t[a];let o=qV.get(e);if(o){if(i==a)throw Ig(`${r} + ${o}`);i=a+1,r=o}}if(i==n)throw Ig(`trailing ${r}`)}function Zb(t,e=1/0,r=KV){let n=[];Qle(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,a=t.length;for(let o=0;o<a;o++){let s=t[o];oJ(s)&&(n.push(Qf(t.slice(i,o))),n.push(r(s)),i=o+1)}return n.push(Qf(t.slice(i,a))),n.join("")}function Qle(t){return Z2(),Vu.has(t)}function oJ(t){return Z2(),aJ.has(t)}function sJ(t){return Yle(Kle(t,Jle,ece))}function Kle(t,e,r){if(!t)return[];Z2();let n=0;return t.split(tJ).map(i=>{let a=wle(i),o={input:a,offset:n};n+=a.length+1;try{let s=o.tokens=jle(a,e,r),u=s.length,l;if(!u)throw new Error("empty label");let c=o.output=s.flat();if(Hle(c),!(o.emoji=u>1||s[0].is_emoji)&&c.every(f=>f<128))Gle(c),l="ASCII";else{let f=s.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(Vu.has(c[0]))throw Ig("leading combining mark");for(let m=1;m<u;m++){let b=s[m];if(!b.is_emoji&&Vu.has(b[0]))throw Ig(`emoji + combining mark: "${Qf(s[m-1])} + ${Zb([b[0]])}"`)}zle(c);let p=Kb(new Set(f)),[g]=Xle(p);$le(g,f),Zle(g,p),l=g.N}}o.type=l}catch(s){o.error=s}return o})}function Zle(t,e){let r,n=[];for(let i of e){let a=Hf.get(i);if(a===nJ)return;if(a){let o=a.M.get(i);if(r=r?r.filter(s=>o.has(s)):Kb(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(a=>wg(i,a)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Xle(t){let e=zf;for(let r of t){let n=e.filter(i=>wg(i,r));if(!n.length)throw zf.some(i=>wg(i,r))?lJ(e[0],r):uJ(r);if(e=n,n.length==1)break}return e}function Yle(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${Y2(Zb(e,63))}: ${i}`)}return Qf(n)}).join(tJ)}function uJ(t){return new Error(`disallowed character: ${X2(t)}`)}function lJ(t,e){let r=X2(e),n=zf.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Ig(t){return new Error(`illegal placement: ${t}`)}function $le(t,e){for(let r of e)if(!wg(t,r))throw lJ(t,r);if(t.M){let r=eJ(e);for(let n=1,i=r.length;n<i;n++)if(Q2.has(r[n])){let a=n+1;for(let o;a<i&&Q2.has(o=r[a]);a++)for(let s=n;s<a;s++)if(r[s]==o)throw new Error(`duplicate non-spacing marks: ${X2(o)}`);if(a-n>UV)throw new Error(`excessive non-spacing marks: ${Y2(Zb(r.slice(n-1,a)))} (${a-n}/${UV})`);n=a}}}function jle(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let a=tce(t);if(a)i.length&&(n.push(e(i)),i=[]),n.push(r(a));else{let o=t.pop();if(Uu.has(o))i.push(o);else{let s=z2.get(o);if(s)i.push(...s);else if(!iJ.has(o))throw uJ(o)}}}return i.length&&n.push(e(i)),n}function ece(t){return t.filter(e=>e!=rJ)}function tce(t,e){let r=K2,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:a}=r;a&&(n=a,e&&e.push(...t.slice(i).reverse()),t.length=i)}return n}var dJ=new Uint8Array(32);dJ.fill(0);function cJ(t){return A(t.length!==0,"invalid ENS name; empty component","comp",t),t}function fJ(t){let e=qr(hJ(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(cJ(e.slice(n,i))),n=i+1);return A(n<e.length,"invalid ENS name; empty component","name",t),r.push(cJ(e.slice(n))),r}function hJ(t){try{if(t.length===0)throw new Error("empty label");return sJ(t)}catch(e){A(!1,`invalid ENS name (${e.message})`,"name",t)}}function Zf(t){A(typeof t=="string","invalid ENS name; not a string","name",t),A(t.length,"invalid ENS name (empty label)","name",t);let e=dJ,r=fJ(t);for(;r.length;)e=Ze(Ge([e,Ze(r.pop())]));return G(e)}function $2(t,e){let r=e??63;return A(r<=255,"DNS encoded label cannot exceed 255","length",r),G(Ge(fJ(t).map(n=>{A(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function j2(t,e){return{address:ke(t),storageKeys:e.map((r,n)=>(A(Ne(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function On(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(A(r.length===2,"invalid slot set",`value[${n}]`,r),j2(r[0],r[1])):(A(r!=null&&typeof r=="object","invalid address-slot set","value",t),j2(r.address,r.storageKeys)));A(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return j2(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function rce(t){let e;return typeof t=="string"?e=tn.computePublicKey(t,!1):e=t.publicKey,ke(Ze("0x"+e.substring(4)).substring(26))}function pJ(t,e){return rce(tn.recoverPublicKey(t,e))}var jt=BigInt(0),nce=BigInt(2),ice=BigInt(27),ace=BigInt(28),oce=BigInt(35),sce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eR=4096*32;function mJ(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=cs(e).substring(4),"0x"+r}function Xb(t){return t==="0x"?null:ke(t)}function tR(t,e){try{return On(t)}catch(r){A(!1,r.message,e,t)}}function Pg(t,e){return t==="0x"?0:Se(t,e)}function Dt(t,e){if(t==="0x")return jt;let r=Q(t,e);return A(r<=sce,"value exceeds uint size",e,r),r}function ft(t,e){let r=Q(t,"value"),n=qt(r);return A(n.length<=32,"value too large",`tx.${e}`,r),n}function rR(t){return On(t).map(e=>[e.address,e.storageKeys])}function uce(t,e){A(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)A(Ne(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function lce(t){let e=Uf(t);A(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:Pg(e[0],"nonce"),gasPrice:Dt(e[1],"gasPrice"),gasLimit:Dt(e[2],"gasLimit"),to:Xb(e[3]),value:Dt(e[4],"value"),data:G(e[5]),chainId:jt};if(e.length===6)return r;let n=Dt(e[6],"v"),i=Dt(e[7],"r"),a=Dt(e[8],"s");if(i===jt&&a===jt)r.chainId=n;else{let o=(n-oce)/nce;o<jt&&(o=jt),r.chainId=o,A(o!==jt||n===ice||n===ace,"non-canonical legacy v","v",e[6]),r.signature=dt.from({r:Cn(e[7],32),s:Cn(e[8],32),v:n})}return r}function cce(t,e){let r=[ft(t.nonce,"nonce"),ft(t.gasPrice||0,"gasPrice"),ft(t.gasLimit,"gasLimit"),t.to||"0x",ft(t.value,"value"),t.data],n=jt;if(t.chainId!=jt)n=Q(t.chainId,"tx.chainId"),A(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let a=t.signature.legacyChainId;a!=null&&(n=a)}if(!e)return n!==jt&&(r.push(qt(n)),r.push("0x"),r.push("0x")),Ta(r);let i=BigInt(27+e.yParity);return n!==jt?i=dt.getChainIdV(n,e.v):BigInt(e.v)!==i&&A(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(qt(i)),r.push(qt(e.r)),r.push(qt(e.s)),Ta(r)}function nR(t,e){let r;try{if(r=Pg(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{A(!1,"invalid yParity","yParity",e[0])}let n=Cn(e[1],32),i=Cn(e[2],32),a=dt.from({r:n,s:i,yParity:r});t.signature=a}function dce(t){let e=Uf(he(t).slice(1));A(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",G(t));let r={type:2,chainId:Dt(e[0],"chainId"),nonce:Pg(e[1],"nonce"),maxPriorityFeePerGas:Dt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Dt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Dt(e[4],"gasLimit"),to:Xb(e[5]),value:Dt(e[6],"value"),data:G(e[7]),accessList:tR(e[8],"accessList")};return e.length===9||nR(r,e.slice(9)),r}function fce(t,e){let r=[ft(t.chainId,"chainId"),ft(t.nonce,"nonce"),ft(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ft(t.maxFeePerGas||0,"maxFeePerGas"),ft(t.gasLimit,"gasLimit"),t.to||"0x",ft(t.value,"value"),t.data,rR(t.accessList||[])];return e&&(r.push(ft(e.yParity,"yParity")),r.push(qt(e.r)),r.push(qt(e.s))),Ge(["0x02",Ta(r)])}function hce(t){let e=Uf(he(t).slice(1));A(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",G(t));let r={type:1,chainId:Dt(e[0],"chainId"),nonce:Pg(e[1],"nonce"),gasPrice:Dt(e[2],"gasPrice"),gasLimit:Dt(e[3],"gasLimit"),to:Xb(e[4]),value:Dt(e[5],"value"),data:G(e[6]),accessList:tR(e[7],"accessList")};return e.length===8||nR(r,e.slice(8)),r}function pce(t,e){let r=[ft(t.chainId,"chainId"),ft(t.nonce,"nonce"),ft(t.gasPrice||0,"gasPrice"),ft(t.gasLimit,"gasLimit"),t.to||"0x",ft(t.value,"value"),t.data,rR(t.accessList||[])];return e&&(r.push(ft(e.yParity,"recoveryParam")),r.push(qt(e.r)),r.push(qt(e.s))),Ge(["0x01",Ta(r)])}function mce(t){let e=Uf(he(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let a=e[1],o=e[2],s=e[3];A(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),A(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),A(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),A(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),A(a.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let u=0;u<e[1].length;u++)n.push({data:a[u],commitment:o[u],proof:s[u]});e=e[0]}A(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",G(t));let i={type:3,chainId:Dt(e[0],"chainId"),nonce:Pg(e[1],"nonce"),maxPriorityFeePerGas:Dt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Dt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Dt(e[4],"gasLimit"),to:Xb(e[5]),value:Dt(e[6],"value"),data:G(e[7]),accessList:tR(e[8],"accessList"),maxFeePerBlobGas:Dt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),A(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),A(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<i.blobVersionedHashes.length;a++)A(Ne(i.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||nR(i,e.slice(11)),i}function gce(t,e,r){let n=[ft(t.chainId,"chainId"),ft(t.nonce,"nonce"),ft(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ft(t.maxFeePerGas||0,"maxFeePerGas"),ft(t.gasLimit,"gasLimit"),t.to||ao,ft(t.value,"value"),t.data,rR(t.accessList||[]),ft(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),uce(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(ft(e.yParity,"yParity")),n.push(qt(e.r)),n.push(qt(e.s)),r)?Ge(["0x03",Ta([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):Ge(["0x03",Ta(n)])}var Vr=class{#e;#t;#r;#n;#a;#s;#i;#d;#l;#u;#o;#p;#c;#f;#h;#m;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:A(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=this.#t;return e==null&&this.type===3?ao:e}set to(e){this.#t=e==null?null:ke(e)}get nonce(){return this.#n}set nonce(e){this.#n=Se(e,"value")}get gasLimit(){return this.#a}set gasLimit(e){this.#a=Q(e)}get gasPrice(){let e=this.#s;return e==null&&(this.type===0||this.type===1)?jt:e}set gasPrice(e){this.#s=e==null?null:Q(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#i;return e??(this.type===2||this.type===3?jt:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:Q(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#d;return e??(this.type===2||this.type===3?jt:null)}set maxFeePerGas(e){this.#d=e==null?null:Q(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=G(e)}get value(){return this.#l}set value(e){this.#l=Q(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=Q(e)}get signature(){return this.#o||null}set signature(e){this.#o=e==null?null:dt.from(e)}get accessList(){let e=this.#p||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#p=e==null?null:On(e)}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?jt:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Q(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#f;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){A(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)A(Ne(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#f=e}get blobs(){return this.#m==null?null:this.#m.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#m=null;return}let r=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if(wu(a)){B(this.#h,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=he(a);if(A(o.length<=eR,"blob is too large",`blobs[${i}]`,a),o.length!==eR){let l=new Uint8Array(eR);l.set(o),o=l}let s=this.#h.blobToKzgCommitment(o),u=G(this.#h.computeBlobKzgProof(o,s));r.push({data:G(o),commitment:G(s),proof:u}),n.push(mJ(1,s))}else{let o=G(a.commitment);r.push({data:G(a.data),commitment:o,proof:G(a.proof)}),n.push(mJ(1,o))}}this.#m=r,this.#f=n}get kzg(){return this.#h}set kzg(e){this.#h=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#a=jt,this.#s=null,this.#i=null,this.#d=null,this.#r="0x",this.#l=jt,this.#u=jt,this.#o=null,this.#p=null,this.#c=null,this.#f=null,this.#m=null,this.#h=null}get hash(){return this.signature==null?null:Ze(this.#g(!0,!1))}get unsignedHash(){return Ze(this.unsignedSerialized)}get from(){return this.signature==null?null:pJ(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:tn.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,r){B(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return cce(this,n);case 1:return pce(this,n);case 2:return fce(this,n);case 3:return gce(this,n,r?this.blobs:null)}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#c!=null||this.#f;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&B(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),B(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),B(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let a=[];return this.type!=null?a.push(this.type):r?a.push(2):e?(a.push(1),n||a.push(0)):n?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Vr.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Vr;if(typeof e=="string"){let n=he(e);if(n[0]>=127)return Vr.from(lce(n));switch(n[0]){case 1:return Vr.from(hce(n));case 2:return Vr.from(dce(n));case 3:return Vr.from(mce(n))}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new Vr;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=dt.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(A(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),A(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(A(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),A(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};var bJ=new Uint8Array(32);bJ.fill(0);var yce=BigInt(-1),SJ=BigInt(0),_J=BigInt(1),vce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bce(t){let e=he(t),r=e.length%32;return r?Ge([e,bJ.slice(r)]):G(e)}var Sce=en(_J,32),_ce=en(SJ,32),gJ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},iR=["name","version","chainId","verifyingContract","salt"];function yJ(t){return function(e){return A(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var Ece={name:yJ("name"),version:yJ("version"),chainId:function(t){let e=Q(t,"domain.chainId");return A(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ea(e)},verifyingContract:function(t){try{return ke(t).toLowerCase()}catch{}A(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=he(t,"domain.salt");return A(e.length===32,'invalid domain value "salt"',"domain.salt",t),G(e)}};function aR(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);A(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let i=ns(vce,r?n-1:n),a=r?(i+_J)*yce:SJ;return function(o){let s=Q(o,"value");return A(s>=a&&s<=i,`value out-of-bounds for ${t}`,"value",s),en(r?yg(s,256):s,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return A(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let i=he(n);return A(i.length===r,`invalid length for ${t}`,"value",n),bce(n)}}}switch(t){case"address":return function(e){return Cn(ke(e),32)};case"bool":return function(e){return e?Sce:_ce};case"bytes":return function(e){return Ze(e)};case"string":return function(e){return Wi(e)}}return null}function vJ(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function Yb(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var lr=class{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let r=new Map,n=new Map,i=new Map,a={};Object.keys(e).forEach(u=>{a[u]=e[u].map(({name:l,type:c})=>{let{base:d,index:f}=Yb(c);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(f||"")}}),r.set(u,new Set),n.set(u,[]),i.set(u,new Set)}),this.#e=JSON.stringify(a);for(let u in a){let l=new Set;for(let c of a[u]){A(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(u)}`,"types",e),l.add(c.name);let d=Yb(c.type).base;A(d!==u,`circular type reference to ${JSON.stringify(d)}`,"types",e),!aR(d)&&(A(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(u),r.get(u).add(d))}}let o=Array.from(n.keys()).filter(u=>n.get(u).length===0);A(o.length!==0,"missing primary type","types",e),A(o.length===1,`ambiguous primary types or unused types: ${o.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),Y(this,{primaryType:o[0]});function s(u,l){A(!l.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),l.add(u);for(let c of r.get(u))if(n.has(c)){s(c,l);for(let d of l)i.get(d).add(c)}l.delete(u)}s(this.primaryType,new Set);for(let[u,l]of i){let c=Array.from(l);c.sort(),this.#t.set(u,vJ(u,a[u])+c.map(d=>vJ(d,a[d])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{let i=aR(e);if(i)return i}let r=Yb(e).array;if(r){let i=r.prefix,a=this.getEncoder(i);return o=>{A(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let s=o.map(a);return this.#t.has(i)&&(s=s.map(Ze)),Ze(Ge(s))}}let n=this.types[e];if(n){let i=Wi(this.#t.get(e));return a=>{let o=n.map(({name:s,type:u})=>{let l=this.getEncoder(u)(a[s]);return this.#t.has(u)?Ze(l):l});return o.unshift(i),Ge(o)}}A(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let r=this.#t.get(e);return A(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ze(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(aR(e))return n(e,r);let i=Yb(e).array;if(i)return A(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(o=>this._visit(i.prefix,o,n));let a=this.types[e];if(a)return a.reduce((o,{name:s,type:u})=>(o[s]=this._visit(u,r[s],n),o),{});A(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new lr(e)}static getPrimaryType(e){return lr.from(e).primaryType}static hashStruct(e,r,n){return lr.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let i=gJ[n];A(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>iR.indexOf(n.name)-iR.indexOf(i.name)),lr.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ge(["0x1901",lr.hashDomain(e),lr.from(r).hash(n)])}static hash(e,r,n){return Ze(lr.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(let s in e)e[s]==null&&delete e[s];let a={};e.verifyingContract&&!Ne(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let o=lr.from(r);o.visit(n,(s,u)=>(s==="address"&&!Ne(u,20)&&(a[u]="0x"),u));for(let s in a)a[s]=await i(s);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=o.visit(n,(s,u)=>s==="address"&&a[u]?a[u]:u),{domain:e,value:n}}static getPayload(e,r,n){lr.hashDomain(e);let i={},a=[];iR.forEach(u=>{let l=e[u];l!=null&&(i[u]=Ece[u](l),a.push({name:u,type:gJ[u]}))});let o=lr.from(r);r=o.types;let s=Object.assign({},r);return A(s.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,l)=>{if(u.match(/^bytes(\d*)/))return G(he(l));if(u.match(/^u?int/))return Q(l).toString();switch(u){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return A(typeof l=="string","invalid string","value",l),l}A(!1,"unsupported type","type",u)})}}};function Jr(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}var Tce="external public payable override",Ace=Jr(Tce.split(" ")),wJ="constant external internal payable private public pure view override",Cce=Jr(wJ.split(" ")),PJ="constructor error event fallback function receive struct",xJ=Jr(PJ.split(" ")),BJ="calldata memory storage payable indexed",kce=Jr(BJ.split(" ")),Ice="tuple returns",Oce=[PJ,BJ,Ice,wJ].join(" "),Nce=Jr(Oce.split(" ")),Rce={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},wce=new RegExp("^(\\s*)"),Pce=new RegExp("^([0-9]+)"),xce=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),DJ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),MJ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),an=class{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new an(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new an(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let r=this.#e;r<this.#t.length;r++){let n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};function hs(t){let e=[],r=o=>{let s=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error(`invalid token ${s} at ${a}: ${o}`)},n=[],i=[],a=0;for(;a<t.length;){let o=t.substring(a),s=o.match(wce);s&&(a+=s[1].length,o=t.substring(a));let u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(u);let l=Rce[o[0]]||"";if(l){if(u.type=l,u.text=o[0],a++,l==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),u.match=n.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1;else if(l==="COMMA")u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")u.type="BRACKET";else if(l==="CLOSE_BRACKET"){let c=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;c=d+c,e[e.length-1].value=Se(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=c}continue}if(s=o.match(xce),s){if(u.text=s[1],a+=u.text.length,Nce.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(MJ)){u.type="TYPE";continue}u.type="ID";continue}if(s=o.match(Pce),s){u.text=s[1],u.type="NUMBER",a+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`)}return new an(e.map(o=>Object.freeze(o)))}function EJ(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function $b(t,e){if(e.peekKeyword(xJ)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function so(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function LJ(t){let e=so(t,Cce);return EJ(e,Jr("constant payable nonpayable".split(" "))),EJ(e,Jr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function oo(t,e){return t.popParams().map(r=>He.from(r,e))}function FJ(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Q(t.pop().text);throw new Error("invalid gas")}return null}function Ju(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var Bce=new RegExp(/^(.*)\[([0-9]*)\]$/);function TJ(t){let e=t.match(MJ);if(A(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);A(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);A(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var bt={},on=Symbol.for("_ethers_internal"),AJ="_ParamTypeInternal",CJ="_ErrorInternal",kJ="_EventInternal",IJ="_ConstructorInternal",OJ="_FallbackInternal",NJ="_FunctionInternal",RJ="_StructInternal",He=class{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,i,a,o,s,u){if(rs(e,bt,"ParamType"),Object.defineProperty(this,on,{value:AJ}),o&&(o=Object.freeze(o.slice())),i==="array"){if(s==null||u==null)throw new Error("")}else if(s!=null||u!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Y(this,{name:r,type:n,baseType:i,indexed:a,components:o,arrayLength:s,arrayChildren:u})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let a=JSON.parse(this.arrayChildren.format("json"));return a.name=n,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((i,a)=>n.components[a].walk(i,r))}return r(this.type,e)}#e(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,s=r.slice();s.forEach((u,l)=>{o.#e(e,u,n,c=>{s[l]=c})}),i(s);return}if(this.isTuple()){let o=this.components,s;if(Array.isArray(r))s=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");s=o.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in r))throw new Error(`missing value for component ${u.name}`);return r[u.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");s.forEach((u,l)=>{o[l].#e(e,u,n,c=>{s[l]=c})}),i(s);return}let a=n(this.type,r);a.then?e.push(async function(){i(await a)}()):i(a)}async walkAsync(e,r){let n=[],i=[e];return this.#e(n,e,r,a=>{i[0]=a}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(He.isParamType(e))return e;if(typeof e=="string")try{return He.from(hs(e),r)}catch{A(!1,"invalid param type","obj",e)}else if(e instanceof an){let s="",u="",l=null;so(e,Jr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",l=e.popParams().map(m=>He.from(m)),s=`tuple(${l.map(m=>m.format()).join(",")})`):(s=TJ(e.popType("TYPE")),u=s);let c=null,d=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();c=new He(bt,"",s,u,null,l,d,c),d=m.value,s+=m.text,u="array",l=null}let f=null;if(so(e,kce).has("indexed")){if(!r)throw new Error("");f=!0}let g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new He(bt,g,s,u,f,l,d,c)}let n=e.name;A(!n||typeof n=="string"&&n.match(DJ),"invalid name","obj.name",n);let i=e.indexed;i==!0?(A(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!0):i=!1;let a=e.type,o=a.match(Bce);if(o){let s=parseInt(o[2]||"-1"),u=He.from({type:o[1],components:e.components});return new He(bt,n||"",a,"array",i,null,s,u)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){let s=e.components!=null?e.components.map(l=>He.from(l)):null;return new He(bt,n||"",a,"tuple",i,s,null,null)}return a=TJ(e.type),new He(bt,n||"",a,a,i,null,null,null)}static isParamType(e){return e&&e[on]===AJ}},Gi=class{type;inputs;constructor(e,r,n){rs(e,bt,"Fragment"),n=Object.freeze(n.slice()),Y(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Gi.from(JSON.parse(e))}catch{}return Gi.from(hs(e))}if(e instanceof an)switch(e.peekKeyword(xJ)){case"constructor":return Nn.from(e);case"error":return er.from(e);case"event":return rn.from(e);case"fallback":case"receive":return Xn.from(e);case"function":return nn.from(e);case"struct":return Aa.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Nn.from(e);case"error":return er.from(e);case"event":return rn.from(e);case"fallback":case"receive":return Xn.from(e);case"function":return nn.from(e);case"struct":return Aa.from(e)}B(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}A(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Nn.isFragment(e)}static isError(e){return er.isFragment(e)}static isEvent(e){return rn.isFragment(e)}static isFunction(e){return nn.isFragment(e)}static isStruct(e){return Aa.isFragment(e)}},Wu=class extends Gi{name;constructor(e,r,n,i){super(e,r,i),A(typeof n=="string"&&n.match(DJ),"invalid identifier","name",n),i=Object.freeze(i.slice()),Y(this,{name:n})}};function xg(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var er=class extends Wu{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,on,{value:CJ})}get selector(){return Wi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+xg(e,this.inputs)),r.join(" ")}static from(e){if(er.isFragment(e))return e;if(typeof e=="string")return er.from(hs(e));if(e instanceof an){let r=$b("error",e),n=oo(e);return Ju(e),new er(bt,r,n)}return new er(bt,e.name,e.inputs?e.inputs.map(He.from):[])}static isFragment(e){return e&&e[on]===CJ}},rn=class extends Wu{anonymous;constructor(e,r,n,i){super(e,"event",r,n),Object.defineProperty(this,on,{value:kJ}),Y(this,{anonymous:i})}get topicHash(){return Wi(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+xg(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>He.from(i)),new rn(bt,e,r,!1).topicHash}static from(e){if(rn.isFragment(e))return e;if(typeof e=="string")try{return rn.from(hs(e))}catch{A(!1,"invalid event fragment","obj",e)}else if(e instanceof an){let r=$b("event",e),n=oo(e,!0),i=!!so(e,Jr(["anonymous"])).has("anonymous");return Ju(e),new rn(bt,r,n,i)}return new rn(bt,e.name,e.inputs?e.inputs.map(r=>He.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[on]===kJ}},Nn=class extends Gi{payable;gas;constructor(e,r,n,i,a){super(e,r,n),Object.defineProperty(this,on,{value:IJ}),Y(this,{payable:i,gas:a})}format(e){if(B(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[`constructor${xg(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(Nn.isFragment(e))return e;if(typeof e=="string")try{return Nn.from(hs(e))}catch{A(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof an){so(e,Jr(["constructor"]));let r=oo(e),n=!!so(e,Ace).has("payable"),i=FJ(e);return Ju(e),new Nn(bt,"constructor",r,n,i)}return new Nn(bt,"constructor",e.inputs?e.inputs.map(He.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[on]===IJ}},Xn=class extends Gi{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,on,{value:OJ}),Y(this,{payable:n})}format(e){let r=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(Xn.isFragment(e))return e;if(typeof e=="string")try{return Xn.from(hs(e))}catch{A(!1,"invalid fallback fragment","obj",e)}else if(e instanceof an){let r=e.toString(),n=e.peekKeyword(Jr(["fallback","receive"]));if(A(n,"type must be fallback or receive","obj",r),e.popKeyword(Jr(["fallback","receive"]))==="receive"){let s=oo(e);return A(s.length===0,"receive cannot have arguments","obj.inputs",s),so(e,Jr(["payable"])),Ju(e),new Xn(bt,[],!0)}let a=oo(e);a.length?A(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(s=>s.format("minimal")).join(", ")):a=[He.from("bytes")];let o=LJ(e);if(A(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),so(e,Jr(["returns"])).has("returns")){let s=oo(e);A(s.length===1&&s[0].type==="bytes","invalid fallback outputs","obj.outputs",s.map(u=>u.format("minimal")).join(", "))}return Ju(e),new Xn(bt,a,o==="payable")}if(e.type==="receive")return new Xn(bt,[],!0);if(e.type==="fallback"){let r=[He.from("bytes")],n=e.stateMutability==="payable";return new Xn(bt,r,n)}A(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[on]===OJ}},nn=class extends Wu{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,i,a,o){super(e,"function",r,i),Object.defineProperty(this,on,{value:NJ}),a=Object.freeze(a.slice()),Y(this,{constant:n==="view"||n==="pure",gas:o,outputs:a,payable:n==="payable",stateMutability:n})}get selector(){return Wi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+xg(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(xg(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>He.from(i)),new nn(bt,e,"view",r,[],null).selector}static from(e){if(nn.isFragment(e))return e;if(typeof e=="string")try{return nn.from(hs(e))}catch{A(!1,"invalid function fragment","obj",e)}else if(e instanceof an){let n=$b("function",e),i=oo(e),a=LJ(e),o=[];so(e,Jr(["returns"])).has("returns")&&(o=oo(e));let s=FJ(e);return Ju(e),new nn(bt,n,a,i,o,s)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new nn(bt,e.name,r,e.inputs?e.inputs.map(He.from):[],e.outputs?e.outputs.map(He.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[on]===NJ}},Aa=class extends Wu{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,on,{value:RJ})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Aa.from(hs(e))}catch{A(!1,"invalid struct fragment","obj",e)}else if(e instanceof an){let r=$b("struct",e),n=oo(e);return Ju(e),new Aa(bt,r,n)}return new Aa(bt,e.name,e.inputs?e.inputs.map(He.from):[])}static isFragment(e){return e&&e[on]===RJ}};var Hi=new Map;Hi.set(0,"GENERIC_PANIC");Hi.set(1,"ASSERT_FALSE");Hi.set(17,"OVERFLOW");Hi.set(18,"DIVIDE_BY_ZERO");Hi.set(33,"ENUM_RANGE_ERROR");Hi.set(34,"BAD_STORAGE_DATA");Hi.set(49,"STACK_UNDERFLOW");Hi.set(50,"ARRAY_RANGE_ERROR");Hi.set(65,"OUT_OF_MEMORY");Hi.set(81,"UNINITIALIZED_FUNCTION_CALL");var Dce=new RegExp(/^bytes([0-9]*)$/),Mce=new RegExp(/^(u?int)([0-9]*)$/),oR=null,qJ=1024;function Lce(t,e,r,n){let i="missing revert data",a=null,o=null,s=null;if(r){i="execution reverted";let l=he(r);if(r=G(r),l.length===0)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(G(l.slice(0,4))==="0x08c379a0")try{a=n.decode(["string"],l.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(G(l.slice(0,4))==="0x4e487b71")try{let c=Number(n.decode(["uint256"],l.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[c]},a=`Panic due to ${Hi.get(c)||"UNKNOWN"}(${c})`,i+=`: ${a}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let u={to:e.to?ke(e.to):null,data:e.data||"0x"};return e.from&&(u.from=ke(e.from)),Ke(i,"CALL_EXCEPTION",{action:t,data:r,reason:a,transaction:u,invocation:o,revert:s})}var Yn=class{#e(e){if(e.isArray())return new Mb(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new qu(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new Bb(e.name);case"bool":return new Lb(e.name);case"string":return new Jb(e.name);case"bytes":return new Fb(e.name);case"":return new Ub(e.name)}let r=e.type.match(Mce);if(r){let n=parseInt(r[2]||"256");return A(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new Vb(n/8,r[1]==="int",e.name)}if(r=e.type.match(Dce),r){let n=parseInt(r[1]);return A(n!==0&&n<=32,"invalid bytes length","param",e),new qb(n,e.name)}A(!1,"invalid type","type",e.type)}getDefaultValue(e){let r=e.map(i=>this.#e(He.from(i)));return new qu(r,"_").defaultValue()}encode(e,r){gg(r.length,e.length,"types/values length mismatch");let n=e.map(o=>this.#e(He.from(o))),i=new qu(n,"_"),a=new Bu;return i.encode(a,r),a.data}decode(e,r,n){let i=e.map(o=>this.#e(He.from(o)));return new qu(i,"_").decode(new Vf(r,n,qJ))}static _setDefaultMaxInflation(e){A(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),qJ=e}static defaultAbiCoder(){return oR==null&&(oR=new Yn),oR}static getBuiltinCallException(e,r,n){return Lce(e,r,n,Yn.defaultAbiCoder())}};var Bg=class{fragment;name;signature;topic;args;constructor(e,r,n){let i=e.name,a=e.format();Y(this,{fragment:e,name:i,signature:a,topic:r,args:n})}},Dg=class{fragment;name;args;signature;selector;value;constructor(e,r,n,i){let a=e.name,o=e.format();Y(this,{fragment:e,name:a,args:n,signature:o,selector:r,value:i})}},Mg=class{fragment;name;args;signature;selector;constructor(e,r,n){let i=e.name,a=e.format();Y(this,{fragment:e,name:i,args:n,signature:a,selector:r})}},Xf=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Y(this,{hash:e,_isIndexed:!0})}},UJ={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},VJ={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&UJ[t.toString()]&&(e=UJ[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},sn=class{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let o of r)try{n.push(Gi.from(o))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,s.message)}Y(this,{fragments:Object.freeze(n)});let i=null,a=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((o,s)=>{let u;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Y(this,{deploy:o});return;case"fallback":o.inputs.length===0?a=!0:(A(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${s}]`,o),i=o,a=i.payable);return;case"function":u=this.#r;break;case"event":u=this.#t;break;case"error":u=this.#e;break;default:return}let l=o.format();u.has(l)||u.set(l,o)}),this.deploy||Y(this,{deploy:Nn.from("constructor()")}),Y(this,{fallback:i,receive:a})}format(e){let r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Yn.defaultAbiCoder()}#a(e,r,n){if(Ne(e)){let a=e.toLowerCase();for(let o of this.#r.values())if(a===o.selector)return o;return null}if(e.indexOf("(")===-1){let a=[];for(let[o,s]of this.#r)o.split("(")[0]===e&&a.push(s);if(r){let o=r.length>0?r[r.length-1]:null,s=r.length,u=!0;Re.isTyped(o)&&o.type==="overrides"&&(u=!1,s--);for(let l=a.length-1;l>=0;l--){let c=a[l].inputs.length;c!==s&&(!u||c!==s-1)&&a.splice(l,1)}for(let l=a.length-1;l>=0;l--){let c=a[l].inputs;for(let d=0;d<r.length;d++)if(Re.isTyped(r[d])){if(d>=c.length){if(r[d].type==="overrides")continue;a.splice(l,1);break}if(r[d].type!==c[d].baseType){a.splice(l,1);break}}}}if(a.length===1&&r&&r.length!==a[0].inputs.length){let o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&n){let o=a.map(s=>JSON.stringify(s.format())).join(", ");A(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return a[0]}let i=this.#r.get(nn.from(e).format());return i||null}getFunctionName(e){let r=this.#a(e,null,!1);return A(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#a(e,null,!1)}getFunction(e,r){return this.#a(e,r||null,!0)}forEachFunction(e){let r=Array.from(this.#r.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#r.get(i),n)}}#s(e,r,n){if(Ne(e)){let a=e.toLowerCase();for(let o of this.#t.values())if(a===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let a=[];for(let[o,s]of this.#t)o.split("(")[0]===e&&a.push(s);if(r){for(let o=a.length-1;o>=0;o--)a[o].inputs.length<r.length&&a.splice(o,1);for(let o=a.length-1;o>=0;o--){let s=a[o].inputs;for(let u=0;u<r.length;u++)if(Re.isTyped(r[u])&&r[u].type!==s[u].baseType){a.splice(o,1);break}}}if(a.length===0)return null;if(a.length>1&&n){let o=a.map(s=>JSON.stringify(s.format())).join(", ");A(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return a[0]}let i=this.#t.get(rn.from(e).format());return i||null}getEventName(e){let r=this.#s(e,null,!1);return A(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,r){return this.#s(e,r||null,!0)}forEachEvent(e){let r=Array.from(this.#t.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#t.get(i),n)}}getError(e,r){if(Ne(e)){let i=e.toLowerCase();if(VJ[i])return er.from(VJ[i].signature);for(let a of this.#e.values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){let i=[];for(let[a,o]of this.#e)a.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?er.from("error Error(string)"):e==="Panic"?er.from("error Panic(uint256)"):null;if(i.length>1){let a=i.map(o=>JSON.stringify(o.format())).join(", ");A(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return i[0]}if(e=er.from(e).format(),e==="Error(string)")return er.from("error Error(string)");if(e==="Panic(uint256)")return er.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let r=Array.from(this.#e.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#e.get(i),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);A(n,"unknown error","fragment",e),e=n}return A(ct(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,ct(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);A(n,"unknown error","fragment",e),e=n}return Ge([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);A(n,"unknown function","fragment",e),e=n}return A(ct(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,ct(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);A(n,"unknown function","fragment",e),e=n}return Ge([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let a=this.getFunction(e);A(a,"unknown function","fragment",e),e=a}let n="invalid length for result data",i=vt(r);if(i.length%32===0)try{return this.#n.decode(e.outputs,i)}catch{n="could not decode result data"}B(!1,n,"BAD_DATA",{value:G(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=he(e,"data"),i=Yn.getBuiltinCallException("call",r,n),a="execution reverted (unknown custom error)";if(i.message.startsWith(a)){let s=G(n.slice(0,4)),u=this.getError(s);if(u)try{let l=this.#n.decode(u.inputs,n.slice(4));i.revert={name:u.name,signature:u.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(r);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);A(n,"unknown function","fragment",e),e=n}return G(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let a=this.getEvent(e);A(a,"unknown event","eventFragment",e),e=a}B(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let i=(a,o)=>a.type==="string"?Wi(o):a.type==="bytes"?Ze(G(o)):(a.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":a.type.match(/^u?int/)?o=en(o):a.type.match(/^bytes/)?o=m2(o,32):a.type==="address"&&this.#n.encode(["address"],[o]),Cn(G(o),32));for(r.forEach((a,o)=>{let s=e.inputs[o];if(!s.indexed){A(a==null,"cannot filter non-indexed parameters; must be null","contract."+s.name,a);return}a==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?A(!1,"filtering with tuples or arrays not supported","contract."+s.name,a):Array.isArray(a)?n.push(a.map(u=>i(s,u))):n.push(i(s,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let o=this.getEvent(e);A(o,"unknown event","eventFragment",e),e=o}let n=[],i=[],a=[];return e.anonymous||n.push(e.topicHash),A(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,s)=>{let u=r[s];if(o.indexed)if(o.type==="string")n.push(Wi(u));else if(o.type==="bytes")n.push(Ze(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([o.type],[u]))}else i.push(o),a.push(u)}),{data:this.#n.encode(i,a),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let p=this.getEvent(e);A(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){let p=e.topicHash;A(Ne(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let i=[],a=[],o=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(He.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(a.push(p),o.push(!1))});let s=n!=null?this.#n.decode(i,Ge(n)):null,u=this.#n.decode(a,r,!0),l=[],c=[],d=0,f=0;return e.inputs.forEach((p,g)=>{let m=null;if(p.indexed)if(s==null)m=new Xf(null);else if(o[g])m=new Xf(s[f++]);else try{m=s[f++]}catch(b){m=b}else try{m=u[d++]}catch(b){m=b}l.push(m),c.push(p.name||null)}),Ur.fromItems(l,c)}parseTransaction(e){let r=he(e.data,"tx.data"),n=Q(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(G(r.slice(0,4)));if(!i)return null;let a=this.#n.decode(i.inputs,r.slice(4));return new Dg(i,i.selector,a,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Bg(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=G(e),n=this.getError(ct(r,0,4));if(!n)return null;let i=this.#n.decode(n.inputs,ct(r,4));return new Mg(n,n.selector,i)}static from(e){return e instanceof sn?e:typeof e=="string"?new sn(JSON.parse(e)):typeof e.formatJson=="function"?new sn(e.formatJson()):typeof e.format=="function"?new sn(e.format("json")):new sn(e)}};var WJ=BigInt(0);function Yf(t){return t??null}function Mt(t){return t==null?null:t.toString()}var $f=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){Y(this,{gasPrice:Yf(e),maxFeePerGas:Yf(r),maxPriorityFeePerGas:Yf(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Mt(e),maxFeePerGas:Mt(r),maxPriorityFeePerGas:Mt(n)}}};function ps(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=G(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of r)!(i in t)||t[i]==null||(e[i]=Q(t[i],`request.${i}`));let n="type,nonce".split(/,/);for(let i of n)!(i in t)||t[i]==null||(e[i]=Se(t[i],`request.${i}`));return t.accessList&&(e.accessList=On(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>wu(i)?G(i):Object.assign({},i))),e}var Lg=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new Ca(n,r):n),Y(this,{provider:r,hash:Yf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Yf(e.prevRandao),extraData:e.extraData,baseFeePerGas:Yf(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(B(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:a,hash:o,miner:s,prevRandao:u,nonce:l,number:c,parentHash:d,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,timestamp:m,transactions:b}=this;return{_type:"Block",baseFeePerGas:Mt(e),difficulty:Mt(r),extraData:n,gasLimit:Mt(i),gasUsed:Mt(a),blobGasUsed:Mt(this.blobGasUsed),excessBlobGas:Mt(this.excessBlobGas),hash:o,miner:s,prevRandao:u,nonce:l,number:c,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,transactions:b}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=this.#e[e];else{let n=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash===n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;A(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Fce(this)}},zi=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;let n=Object.freeze(e.topics.slice());Y(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:i,index:a,removed:o,topics:s,transactionHash:u,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:a,removed:o,topics:s,transactionHash:u,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return B(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return B(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return B(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return qce(this)}},Gu=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(i=>new zi(i,r)));let n=WJ;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Y(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:r,contractAddress:n,hash:i,index:a,blockHash:o,blockNumber:s,logsBloom:u,logs:l,status:c,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:s,contractAddress:n,cumulativeGasUsed:Mt(this.cumulativeGasUsed),from:r,gasPrice:Mt(this.gasPrice),blobGasUsed:Mt(this.blobGasUsed),blobGasPrice:Mt(this.blobGasPrice),gasUsed:Mt(this.gasUsed),hash:i,index:a,logs:l,logsBloom:u,root:d,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return HJ(this)}reorderedEvent(e){return B(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),GJ(this,e)}},Ca=class{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:i,type:a,to:o,from:s,nonce:u,data:l,signature:c,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:Mt(this.chainId),data:l,from:s,gasLimit:Mt(this.gasLimit),gasPrice:Mt(this.gasPrice),hash:i,maxFeePerGas:Mt(this.maxFeePerGas),maxPriorityFeePerGas:Mt(this.maxPriorityFeePerGas),maxFeePerBlobGas:Mt(this.maxFeePerBlobGas),nonce:u,signature:c,to:o,index:n,type:a,value:Mt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=await Bt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){let n=e??1,i=r??0,a=this.#e,o=-1,s=a===-1,u=async()=>{if(s)return null;let{blockNumber:f,nonce:p}=await Bt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){a=f;return}if(s)return null;let g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=a-3,o<this.#e&&(o=this.#e));o<=f;){if(s)return null;let m=await this.provider.getBlock(o,!0);if(m==null)return;for(let b of m)if(b===this.hash)return;for(let b=0;b<m.length;b++){let v=await m.getTransaction(b);if(v.from===this.from&&v.nonce===this.nonce){if(s)return null;let E=await this.provider.getTransactionReceipt(v.hash);if(E==null||f-E.blockNumber+1<n)return;let k="replaced";v.data===this.data&&v.to===this.to&&v.value===this.value?k="repriced":v.data==="0x"&&v.from===v.to&&v.value===WJ&&(k="cancelled"),B(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:v.replaceableTransaction(a),hash:v.hash,receipt:E})}}o++}},l=f=>{if(f==null||f.status!==0)return f;B(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},c=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(c);if(c){if(await c.confirmations()>=n)return l(c)}else if(await u(),n===0)return null;return await new Promise((f,p)=>{let g=[],m=()=>{g.forEach(v=>v())};if(g.push(()=>{s=!0}),i>0){let v=setTimeout(()=>{m(),p(Ke("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(v)})}let b=async v=>{if(await v.confirmations()>=n){m();try{f(l(v))}catch(E){p(E)}}};if(g.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),a>=0){let v=async()=>{try{await u()}catch(E){if(pt(E,"TRANSACTION_REPLACED")){m(),p(E);return}}s||this.provider.once("block",v)};g.push(()=>{this.provider.off("block",v)}),this.provider.once("block",v)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),HJ(this)}reorderedEvent(e){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),B(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),GJ(this,e)}replaceableTransaction(e){A(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new Ca(this,this.provider);return r.#e=e,r}};function Fce(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function GJ(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function HJ(t){return{orphan:"drop-transaction",tx:t}}function qce(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var jf=class extends zi{interface;fragment;args;constructor(e,r,n){super(e,e.provider);let i=r.decodeEventLog(n,e.data,e.topics);Y(this,{args:i,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Fg=class extends zi{error;constructor(e,r){super(e,e.provider),Y(this,{error:r})}},sR=class extends Gu{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{let r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new jf(e,this.#e,r)}catch(n){return new Fg(e,n)}return e})}},eh=class extends Ca{#e;constructor(e,r,n){super(n,r),this.#e=e}async wait(e,r){let n=await super.wait(e,r);return n==null?null:new sR(this.#e,this.provider,n)}},qg=class extends Pu{log;constructor(e,r,n,i){super(e,r,n),Y(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},jb=class extends qg{constructor(e,r,n,i,a){super(e,r,n,new jf(a,e.interface,i));let o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Y(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var zJ=BigInt(0);function KJ(t){return t&&typeof t.call=="function"}function ZJ(t){return t&&typeof t.estimateGas=="function"}function rS(t){return t&&typeof t.resolveName=="function"}function XJ(t){return t&&typeof t.sendTransaction=="function"}function YJ(t){if(t!=null){if(rS(t))return t;if(t.provider)return t.provider}}var uR=class{#e;fragment;constructor(e,r,n){if(Y(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let i=zu(e.runner,"resolveName"),a=rS(i)?i:null;this.#e=async function(){let o=await Promise.all(r.inputs.map((s,u)=>n[u]==null?null:s.walkAsync(n[u],(c,d)=>c==="address"?Array.isArray(d)?Promise.all(d.map(f=>Vt(f,a))):Vt(d,a):d)));return e.interface.encodeFilterTopics(r,o)}()}getTopicFilter(){return this.#e}};function zu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Hu(t){return t==null?null:t.provider||null}async function $J(t,e){let r=Re.dereference(t,"overrides");A(typeof r=="object","invalid overrides parameter","overrides",t);let n=ps(r);return A(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),A(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Uce(t,e,r){let n=zu(t,"resolveName"),i=rS(n)?n:null;return await Promise.all(e.map((a,o)=>a.walkAsync(r[o],(s,u)=>(u=Re.dereference(u,s),s==="address"?Vt(u,i):u))))}function Vce(t){let e=async function(o){let s=await $J(o,["data"]);s.to=await t.getAddress(),s.from&&(s.from=await Vt(s.from,YJ(t.runner)));let u=t.interface,l=Q(s.value||zJ,"overrides.value")===zJ,c=(s.data||"0x")==="0x";u.fallback&&!u.fallback.payable&&u.receive&&!c&&!l&&A(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),A(u.fallback||c,"cannot send data to receive-only contract","overrides.data",s.data);let d=u.receive||u.fallback&&u.fallback.payable;return A(d||l,"cannot send value to non-payable fallback","overrides.value",s.value),A(u.fallback||c,"cannot send data to receive-only contract","overrides.data",s.data),s},r=async function(o){let s=zu(t.runner,"call");B(KJ(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let u=await e(o);try{return await s.call(u)}catch(l){throw Lf(l)&&l.data?t.interface.makeError(l.data,u):l}},n=async function(o){let s=t.runner;B(XJ(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let u=await s.sendTransaction(await e(o)),l=Hu(t.runner);return new eh(t.interface,l,u)},i=async function(o){let s=zu(t.runner,"estimateGas");return B(ZJ(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(o))},a=async o=>await n(o);return Y(a,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),a}function Jce(t,e){let r=function(...l){let c=t.interface.getFunction(e,l);return B(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),c},n=async function(...l){let c=r(...l),d={};if(c.inputs.length+1===l.length&&(d=await $J(l.pop()),d.from&&(d.from=await Vt(d.from,YJ(t.runner)))),c.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let f=await Uce(t.runner,c.inputs,l);return Object.assign({},d,await Bt({to:t.getAddress(),data:t.interface.encodeFunctionData(c,f)}))},i=async function(...l){let c=await s(...l);return c.length===1?c[0]:c},a=async function(...l){let c=t.runner;B(XJ(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await c.sendTransaction(await n(...l)),f=Hu(t.runner);return new eh(t.interface,f,d)},o=async function(...l){let c=zu(t.runner,"estimateGas");return B(ZJ(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await n(...l))},s=async function(...l){let c=zu(t.runner,"call");B(KJ(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d;try{d=await n(...l)}catch(g){let m=l.at(-1).blockTag;throw m&&(g.blockNumber=m),g}let f="0x";try{f=await c.call(d)}catch(g){throw Lf(g)&&g.data?t.interface.makeError(g.data,d):g}let p=r(...l);return t.interface.decodeFunctionResult(p,f)},u=async(...l)=>r(...l).constant?await i(...l):await a(...l);return Y(u,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:a,staticCall:i,staticCallResult:s}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return B(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),u}function Wce(t,e){let r=function(...i){let a=t.interface.getEvent(e,i);return B(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),a},n=function(...i){return new uR(t,r(...i),i)};return Y(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=t.interface.getEvent(e);return B(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}var tS=Symbol.for("_ethersInternal_contract"),jJ=new WeakMap;function Gce(t,e){jJ.set(t[tS],e)}function Rn(t){return jJ.get(t[tS])}function Hce(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function dR(t,e){let r,n=null;if(Array.isArray(e)){let a=function(o){if(Ne(o,32))return o;let s=t.interface.getEvent(o);return A(s,"unknown fragment","name",o),s.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(a):a(o))}else e==="*"?r=[null]:typeof e=="string"?Ne(e,32)?r=[e]:(n=t.interface.getEvent(e),A(n,"unknown fragment","event",e),r=[n.topicHash]):Hce(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):A(!1,"unknown event name","event",e);r=r.map(a=>{if(a==null)return null;if(Array.isArray(a)){let o=Array.from(new Set(a.map(s=>s.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return a.toLowerCase()});let i=r.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:n,tag:i,topics:r}}async function Ug(t,e){let{subs:r}=Rn(t);return r.get((await dR(t,e)).tag)||null}async function QJ(t,e,r){let n=Hu(t.runner);B(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:a,topics:o}=await dR(t,r),{addr:s,subs:u}=Rn(t),l=u.get(a);if(!l){let d={address:s||t,topics:o},f=b=>{let v=i;if(v==null)try{v=t.interface.getEvent(b.topics[0])}catch{}if(v){let E=v,k=i?t.interface.decodeEventLog(i,b.data,b.topics):[];cR(t,r,k,O=>new jb(t,O,r,E,b))}else cR(t,r,[],E=>new qg(t,E,r,b))},p=[];l={tag:a,listeners:[],start:()=>{p.length||p.push(n.on(d,f))},stop:async()=>{if(p.length==0)return;let b=p;p=[],await Promise.all(b),n.off(d,f)}},u.set(a,l)}return l}var lR=Promise.resolve();async function zce(t,e,r,n){await lR;let i=await Ug(t,e);if(!i)return!1;let a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:s})=>{let u=Array.from(r);n&&u.push(n(s?null:o));try{o.call(t,...u)}catch{}return!s}),i.listeners.length===0&&(i.stop(),Rn(t).subs.delete(i.tag)),a>0}async function cR(t,e,r,n){try{await lR}catch{}let i=zce(t,e,r,n);return lR=i,await i}var eS=["then"],ms=class{target;interface;runner;filters;[tS];fallback;constructor(e,r,n,i){A(typeof e=="string"||xb(e),"invalid value for Contract target","target",e),n==null&&(n=null);let a=sn.from(r);Y(this,{target:e,runner:n,interface:a}),Object.defineProperty(this,tS,{value:{}});let o,s=null,u=null;if(i){let d=Hu(n);u=new eh(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(Ne(e))s=e,o=Promise.resolve(e);else{let d=zu(n,"resolveName");if(!rS(d))throw Ke("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw Ke("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Rn(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Rn(this).addr=d,d});Gce(this,{addrPromise:o,addr:s,deployTx:u,subs:l});let c=new Proxy({},{get:(d,f,p)=>{if(typeof f=="symbol"||eS.indexOf(f)>=0)return Reflect.get(d,f,p);try{return this.getEvent(f)}catch(g){if(!pt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>eS.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return Y(this,{filters:c}),Y(this,{fallback:a.receive||a.fallback?Vce(this):null}),new Proxy(this,{get:(d,f,p)=>{if(typeof f=="symbol"||f in d||eS.indexOf(f)>=0)return Reflect.get(d,f,p);try{return d.getFunction(f)}catch(g){if(!pt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>typeof f=="symbol"||f in d||eS.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new ms(this.target,this.interface,e)}attach(e){return new ms(e,this.interface,this.runner)}async getAddress(){return await Rn(this).addrPromise}async getDeployedCode(){let e=Hu(this.runner);B(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=Hu(this.runner);return B(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,a)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(s){a(s)}};o()})}deploymentTransaction(){return Rn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Jce(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Wce(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");let{addr:i,addrPromise:a}=Rn(this),o=i||await a,{fragment:s,topics:u}=await dR(this,e),l={address:o,topics:u,fromBlock:r,toBlock:n},c=Hu(this.runner);return B(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(d=>{let f=s;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new jf(d,this.interface,f)}catch(p){return new Fg(d,p)}return new zi(d,c)})}async on(e,r){let n=await QJ(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){let n=await QJ(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await cR(this,e,r,null)}async listenerCount(e){if(e){let i=await Ug(this,e);return i?i.listeners.length:0}let{subs:r}=Rn(this),n=0;for(let{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){let i=await Ug(this,e);return i?i.listeners.map(({listener:a})=>a):[]}let{subs:r}=Rn(this),n=[];for(let{listeners:i}of r.values())n=n.concat(i.map(({listener:a})=>a));return n}async off(e,r){let n=await Ug(this,e);if(!n)return this;if(r){let i=n.listeners.map(({listener:a})=>a).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Rn(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let r=await Ug(this,e);if(!r)return this;r.stop(),Rn(this).subs.delete(r.tag)}else{let{subs:r}=Rn(this);for(let{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends ms{constructor(i,a=null){super(i,e,a)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};function Qce(){return ms}var ka=class extends Qce(){};function fR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):A(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var nS=class{name;constructor(e){Y(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}};var tW=new RegExp("^(ipfs)://(.*)$","i"),eW=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),tW,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],gs,Qu,ys,th,iS,rW,Vg=class{constructor(e,r,n){js(this,ys);Yi(this,"provider");Yi(this,"address");Yi(this,"name");js(this,gs,void 0);js(this,Qu,void 0);Y(this,{provider:e,address:r,name:n}),bo(this,gs,null),bo(this,Qu,new ka(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return vo(this,gs)==null&&bo(this,gs,(async()=>{try{return await vo(this,Qu).supportsInterface("0x9061b923")}catch(e){if(pt(e,"CALL_EXCEPTION"))return!1;throw bo(this,gs,null),e}})()),await vo(this,gs)}async getAddress(e){if(e==null&&(e=60),e===60)try{let a=await eu(this,ys,th).call(this,"addr(bytes32)");return a==null||a===ao?null:a}catch(a){if(pt(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648,o=await eu(this,ys,th).call(this,"addr(bytes32,uint)",[a]);if(Ne(o,20))return ke(o)}let r=null;for(let a of this.provider.plugins)if(a instanceof nS&&a.supportsCoinType(e)){r=a;break}if(r==null)return null;let n=await eu(this,ys,th).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let i=await r.decodeAddress(e,n);if(i!=null)return i;B(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let r=await eu(this,ys,th).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){let e=await eu(this,ys,th).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let i=r[1]==="e3010170"?"ipfs":"ipns",a=parseInt(r[4],16);if(r[5].length===a*2)return`${i}://${v2("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;B(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<eW.length;n++){let i=r.match(eW[n]);if(i==null)continue;let a=i[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let o=fR(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:r});let s=await this.getAddress();if(s==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let u=(i[2]||"").split("/");if(u.length!==2)return e.push({type:`!${a}caip`,value:i[2]||""}),{url:null,linkage:e};let l=u[1],c=new ka(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){let m=await c.ownerOf(l);if(s!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(a==="erc1155"){let m=await c.balanceOf(s,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await c[o](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),a==="erc1155"&&(d=d.replace("{id}",en(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=fR(d)),e.push({type:"metadata-url",value:d});let f={},p=await new Cr(d).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let v=p.body;return v&&e.push({type:"!metadata",value:G(v)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(tW)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=fR(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return B(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let a=await eu(i=Vg,iS,rW).call(i,e,n);if(a!=null){let o=new Vg(e,a,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}},Ku=Vg;gs=new WeakMap,Qu=new WeakMap,ys=new WeakSet,th=async function(e,r){r=(r||[]).slice();let n=vo(this,Qu).interface;r.unshift(Zf(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),B(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[$2(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let a=await vo(this,Qu)[e](...r);return i?n.decodeFunctionResult(i,a)[0]:a}catch(a){if(!pt(a,"CALL_EXCEPTION"))throw a}return null},iS=new WeakSet,rW=async function(e,r){let n=await Vg.getEnsAddress(e);try{let a=await new ka(n,["function resolver(bytes32) view returns (address)"],e).resolver(Zf(r),{enableCcipRead:!0});return a===ao?null:a}catch(i){throw i}return null},js(Ku,iS);var nW=BigInt(0);function Be(t,e){return function(r){return r==null?e:t(r)}}function aS(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function Jg(t,e){return r=>{let n={};for(let i in t){let a=i;if(e&&i in e&&!(a in r)){for(let o of e[i])if(o in r){a=o;break}}try{let o=t[i](r[a]);o!==void 0&&(n[i]=o)}catch(o){let s=o instanceof Error?o.message:"not-an-error";B(!1,`invalid value for value.${i} (${s})`,"BAD_DATA",{value:r})}}return n}}function Kce(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}A(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function rh(t){return A(Ne(t,!0),"invalid data","value",t),t}function cr(t){return A(Ne(t,32),"invalid hash","value",t),t}var Zce=Jg({address:ke,blockHash:cr,blockNumber:Se,data:rh,index:Se,removed:Be(Kce,!1),topics:aS(cr),transactionHash:cr,transactionIndex:Se},{index:["logIndex"]});function iW(t){return Zce(t)}var Xce=Jg({hash:Be(cr),parentHash:cr,parentBeaconBlockRoot:Be(cr,null),number:Se,timestamp:Se,nonce:Be(rh),difficulty:Q,gasLimit:Q,gasUsed:Q,stateRoot:Be(cr,null),receiptsRoot:Be(cr,null),blobGasUsed:Be(Q,null),excessBlobGas:Be(Q,null),miner:Be(ke),prevRandao:Be(cr,null),extraData:rh,baseFeePerGas:Be(Q)},{prevRandao:["mixHash"]});function aW(t){let e=Xce(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:hR(r)),e}var Yce=Jg({transactionIndex:Se,blockNumber:Se,transactionHash:cr,address:ke,topics:aS(cr),data:rh,index:Se,blockHash:cr},{index:["logIndex"]});function $ce(t){return Yce(t)}var jce=Jg({to:Be(ke,null),from:Be(ke,null),contractAddress:Be(ke,null),index:Se,root:Be(G),gasUsed:Q,blobGasUsed:Be(Q,null),logsBloom:Be(rh),blockHash:cr,hash:cr,logs:aS($ce),blockNumber:Se,cumulativeGasUsed:Q,effectiveGasPrice:Be(Q),blobGasPrice:Be(Q,null),status:Be(Se),type:Be(Se,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function oW(t){return jce(t)}function hR(t){t.to&&Q(t.to)===nW&&(t.to="0x0000000000000000000000000000000000000000");let e=Jg({hash:cr,index:Be(Se,void 0),type:r=>r==="0x"||r==null?0:Se(r),accessList:Be(On,null),blobVersionedHashes:Be(aS(cr,!0),null),blockHash:Be(cr,null),blockNumber:Be(Se,null),transactionIndex:Be(Se,null),from:ke,gasPrice:Be(Q),maxPriorityFeePerGas:Be(Q),maxFeePerGas:Be(Q),maxFeePerBlobGas:Be(Q,null),gasLimit:Q,to:Be(ke,null),value:Q,nonce:Se,data:rh,creates:Be(ke,null),chainId:Be(Q,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=F2(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=dt.from(t.signature):e.signature=dt.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Q(e.blockHash)===nW&&(e.blockHash=null),e}var ede="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",vs=class{name;constructor(e){Y(this,{name:e})}clone(){return new vs(this.name)}},bs=class extends vs{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function i(a,o){let s=(r||{})[a];s==null&&(s=o),A(typeof s=="number",`invalud value for ${a}`,"costs",r),n[a]=s}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Y(this,n)}clone(){return new bs(this.effectiveBlock,this)}},Ss=class extends vs{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),Y(this,{address:e||ede,targetNetwork:r??1})}clone(){return new Ss(this.address,this.targetNetwork)}};var Wg=class extends vs{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}};var pR=new Map,Tt=class{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=Q(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Q(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Q(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Q(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Q(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new Tt(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new bs,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let i=On(e.accessList);for(let a in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[a].storageKeys.length}return n}static from(e){if(tde(),e==null)return Tt.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=pR.get(e);if(r)return r();if(typeof e=="bigint")return new Tt("unknown",e);A(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){A(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new Tt(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Ss(e.ensAddress,e.ensNetwork)),r}A(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=pR.get(e);n&&A(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),pR.set(e,r)}};function sW(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function uW(t){return new Wg(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{let[a,o]=await Promise.all([n.send(),e()]);i=a;let s=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:sW(s.maxFee,9),maxPriorityFeePerGas:sW(s.maxPriorityFee,9)}}catch(a){B(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:a})}})}var lW=!1;function tde(){if(lW)return;lW=!0;function t(e,r,n){let i=function(){let a=new Tt(e,r);return n.ensNetwork!=null&&a.attachPlugin(new Ss(null,n.ensNetwork)),a.attachPlugin(new bs),(n.plugins||[]).forEach(o=>{a.attachPlugin(o)}),a};Tt.register(e,i),Tt.register(r,i),n.altNames&&n.altNames.forEach(a=>{Tt.register(a,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[uW("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[uW("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function mR(t){return JSON.parse(JSON.stringify(t))}var oS=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#a(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;await this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#a.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#a.bind(this),this.#r),this.#a())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},Gg=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}async _poll(e,r){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},sS=class extends Gg{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,r){let n=await r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))}},uS=class extends Gg{#e;constructor(e,r){super(e),this.#e=mR(r)}async _poll(e,r){throw new Error("@TODO")}},lS=class extends Gg{#e;constructor(e,r){super(e),this.#e=r}async _poll(e,r){let n=await r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)}},_s=class{#e;#t;#r;#n;#a;constructor(e,r){this.#e=e,this.#t=mR(r),this.#r=this.#s.bind(this),this.#n=!1,this.#a=-2}async#s(e){if(this.#a===-2)return;let r=mR(this.#t);r.fromBlock=this.#a+1,r.toBlock=e;let n=await this.#e.getLogs(r);if(n.length===0){this.#a<e-60&&(this.#a=e-60);return}for(let i of n)this.#e.emit(this.#t,i),this.#a=i.blockNumber}start(){this.#n||(this.#n=!0,this.#a===-2&&this.#e.getBlockNumber().then(e=>{this.#a=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#a=-2)}resume(){this.start()}};var rde=BigInt(2),nde=10;function cS(t){return t&&typeof t.then=="function"}function dS(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n);return i.sort(),i.reduce((a,o)=>(a[o]=n[o],a),{})}return n})}var nh=class{name;constructor(e){Y(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function ide(t){return JSON.parse(JSON.stringify(t))}function vR(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function gR(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ne(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:dS("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:dS("orphan",r),filter:ide(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?vR(i.map(a=>a.toLowerCase())):i.toLowerCase())};if(r.address){let i=[],a=[],o=s=>{Ne(s)?i.push(s):a.push((async()=>{i.push(await Vt(s,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),a.length&&await Promise.all(a),n.address=vR(i.map(s=>s.toLowerCase()))}return{filter:n,tag:dS("event",n),type:"event"}}A(!1,"unknown ProviderEvent","event",t)}function yR(){return new Date().getTime()}var ade={cacheTimeout:250,pollingInterval:4e3},Hg=class{#e;#t;#r;#n;#a;#s;#i;#d;#l;#u;#o;#p;constructor(e,r){if(this.#p=Object.assign({},ade,r||{}),e==="any")this.#s=!0,this.#a=null;else if(e){let n=Tt.from(e);this.#s=!1,this.#a=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#s=!1,this.#a=null;this.#d=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#l=1,this.#u=new Map,this.#o=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#o}set disableCcipRead(e){this.#o=!!e}async#c(e){let r=this.#p.cacheTimeout;if(r<0)return await this._perform(e);let n=dS(e.method,e),i=this.#i.get(n);return i||(i=this._perform(e),this.#i.set(n,i),setTimeout(()=>{this.#i.get(n)===i&&this.#i.delete(n)},r)),await i}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let i=e.to.toLowerCase(),a=r.toLowerCase(),o=[];for(let s=0;s<n.length;s++){let u=n[s],l=u.replace("{sender}",i).replace("{data}",a),c=new Cr(l);u.indexOf("{data}")===-1&&(c.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:s,urls:n});let d="unknown error",f=await c.send();try{let p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:p})}catch{}B(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:d}}),o.push(d)}B(!1,`error encountered during CCIP fetch: ${o.map(s=>JSON.stringify(s)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new Lg(aW(e),this)}_wrapLog(e,r){return new zi(iW(e),this)}_wrapTransactionReceipt(e,r){return new Gu(oW(e),this)}_wrapTransactionResponse(e,r){return new Ca(hR(e),this)}_detectNetwork(){B(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){B(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=Se(await this.#c({method:"getBlockNumber"}),"%response");return this.#d>=0&&(this.#d=e),e}_getAddress(e){return Vt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ne(e))return Ne(e,32)?e:Ea(e);if(typeof e=="bigint"&&(e=Se(e,"blockTag")),typeof e=="number")return e>=0?Ea(e):this.#d>=0?Ea(this.#d+e):this.getBlockNumber().then(r=>Ea(r+e));A(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?vR(u.map(l=>l.toLowerCase())):u.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(u,l,c)=>{let d;switch(u.length){case 0:break;case 1:d=u[0];break;default:u.sort(),d=u}if(n&&(l!=null||c!=null))throw new Error("invalid filter");let f={};return d&&(f.address=d),r.length&&(f.topics=r),l&&(f.fromBlock=l),c&&(f.toBlock=c),n&&(f.blockHash=n),f},a=[];if(e.address)if(Array.isArray(e.address))for(let u of e.address)a.push(this._getAddress(u));else a.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let s;return"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),a.filter(u=>typeof u!="string").length||o!=null&&typeof o!="string"||s!=null&&typeof s!="string"?Promise.all([Promise.all(a),o,s]).then(u=>i(u[0],u[1],u[2])):i(a,o,s)}_getTransactionRequest(e){let r=ps(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;let a=Vt(r[i],this);cS(a)?n.push(async function(){r[i]=await a}()):r[i]=a}),r.blockTag!=null){let i=this._getBlockTag(r.blockTag);cS(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(this.#a==null){let i=(async()=>{try{let a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw this.#a===i&&(this.#a=null),a}})();return this.#a=i,(await i).clone()}let e=this.#a,[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#s?(this.emit("network",n,r),this.#a===e&&(this.#a=Promise.resolve(n))):B(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){let e=await this.getNetwork(),r=async()=>{let{_block:i,gasPrice:a,priorityFee:o}=await Bt({_block:this.#g("latest",!1),gasPrice:(async()=>{try{let c=await this.#c({method:"getGasPrice"});return Q(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let c=await this.#c({method:"getPriorityFee"});return Q(c,"%response")}catch{}return null})()}),s=null,u=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(u=o??BigInt("1000000000"),s=l.baseFeePerGas*rde+u),new $f(a,s,u)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let i=new Cr(n.url),a=await n.processFunc(r,this,i);return new $f(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return cS(r)&&(r=await r),Q(await this.#c({method:"estimateGas",transaction:r}),"%response")}async#f(e,r,n){B(n<nde,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let i=ps(e);try{return G(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(a){if(!this.disableCcipRead&&Lf(a)&&a.data&&n>=0&&r==="latest"&&i.to!=null&&ct(a.data,0,4)==="0x556f1830"){let o=a.data,s=await Vt(i.to,this),u;try{u=cde(ct(a.data,4))}catch(d){B(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}B(u.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});let l=await this.ccipReadFetch(i,u.calldata,u.urls);B(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:a.data,errorArgs:u.errorArgs}});let c={to:s,data:Ge([u.selector,lde([l,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{let d=await this.#f(c,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:d}),d}}throw a}}async#h(e){let{value:r}=await Bt({network:this.getNetwork(),value:e});return r}async call(e){let{tx:r,blockTag:n}=await Bt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#h(this.#f(r,n,e.enableCcipRead?0:-1))}async#m(e,r,n){let i=this._getAddress(r),a=this._getBlockTag(n);return(typeof i!="string"||typeof a!="string")&&([i,a]=await Promise.all([i,a])),await this.#h(this.#c(Object.assign(e,{address:i,blockTag:a})))}async getBalance(e,r){return Q(await this.#m({method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Se(await this.#m({method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return G(await this.#m({method:"getCode"},e,r))}async getStorage(e,r,n){let i=Q(r,"position");return G(await this.#m({method:"getStorage",position:i},e,n))}async broadcastTransaction(e){let{blockNumber:r,hash:n,network:i}=await Bt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=Vr.from(e);if(a.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,i).replaceableTransaction(r)}async#g(e,r){if(Ne(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:r})}async getBlock(e,r){let{network:n,params:i}=await Bt({network:this.getNetwork(),params:this.#g(e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){let{network:r,params:n}=await Bt({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){let{network:r,params:n}=await Bt({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){let{result:r}=await Bt({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:G(r)}async getLogs(e){let r=this._getFilter(e);cS(r)&&(r=await r);let{network:n,params:i}=await Bt({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return i.map(a=>this._wrapLog(a,n))}_getProvider(e){B(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ku.fromName(this,e)}async getAvatar(e){let r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){let r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=ke(e);let r=Zf(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await Ku.getEnsAddress(this),a=await new ka(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(a==null||a===ao)return null;let s=await new ka(a,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(s)!==e?null:s}catch(n){if(pt(n,"BAD_DATA")&&n.value==="0x"||pt(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){let i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(a,o)=>{let s=null,u=async l=>{try{let c=await this.getTransactionReceipt(e);if(c!=null&&l-c.blockNumber+1>=i){a(c),s&&(clearTimeout(s),s=null);return}}catch(c){console.log("EEE",c)}this.once("block",u)};n!=null&&(s=setTimeout(()=>{s!=null&&(s=null,this.off("block",u),o(Ke("timeout","TIMEOUT",{reason:"timeout"})))},n)),u(await this.getBlockNumber())})}async waitForBlock(e){B(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let r=this.#u.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#u.delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=this.#l++,i=()=>{this.#u.delete(n),e()};if(this.paused)this.#u.set(n,{timer:null,func:i,time:r});else{let a=setTimeout(i,r);this.#u.set(n,{timer:a,func:i,time:yR()})}return n}_forEachSubscriber(e){for(let r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new nh(e.type);case"block":{let r=new oS(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new sS(this,e.type);case"event":return new _s(this,e.filter);case"transaction":return new lS(this,e.hash);case"orphan":return new uS(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}async#b(e,r){let n=await gR(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await gR({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null}async#S(e){let r=await gR(e,this),n=r.tag,i=this.#e.get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,i)),i}async on(e,r){let n=await this.#S(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,r){let n=await this.#S(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...r){let n=await this.#b(e,r);if(!n||n.listeners.length===0)return!1;let i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:a,once:o})=>{let s=new Pu(this,o?null:a,e);try{a.call(this,...r,s)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),i>0}async listenerCount(e){if(e){let n=await this.#b(e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of this.#e.values())r+=n.length;return r}async listeners(e){if(e){let n=await this.#b(e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(let{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){let n=await this.#b(e);if(!n)return this;if(r){let i=n.listeners.map(({listener:a})=>a).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:r,started:n,subscriber:i}=await this.#S(e);n&&i.stop(),this.#e.delete(r)}else for(let[r,{started:n,subscriber:i}]of this.#e)n&&i.stop(),this.#e.delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#u.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#d=-1,this.#r!=null){if(this.#r==!!e)return;B(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(let r of this.#u.values())r.timer&&clearTimeout(r.timer),r.time=yR()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#u.values()){let r=e.time;r<0&&(r=0),e.time=yR(),setTimeout(e.func,r)}}}};function ode(t,e){try{let r=bR(t,e);if(r)return is(r)}catch{}return null}function bR(t,e){if(t==="0x")return null;try{let r=Se(ct(t,e,e+32)),n=Se(ct(t,r,r+32));return ct(t,r+32,r+32+n)}catch{}return null}function cW(t){let e=qt(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function sde(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var ude=new Uint8Array([]);function lde(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(ude),r+=32;for(let n=0;n<t.length;n++){let i=he(t[n]);e[n]=cW(r),e.push(cW(i.length)),e.push(sde(i)),r+=32+Math.ceil(i.length/32)*32}return Ge(e)}var dW="0x0000000000000000000000000000000000000000000000000000000000000000";function cde(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};B(_a(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=ct(t,0,32);B(ct(r,0,12)===ct(dW,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ct(r,12);try{let n=[],i=Se(ct(t,32,64)),a=Se(ct(t,i,i+32)),o=ct(t,i+32);for(let s=0;s<a;s++){let u=ode(o,s*32);if(u==null)throw new Error("abort");n.push(u)}e.urls=n}catch{B(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=bR(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{B(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}B(ct(t,100,128)===ct(dW,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ct(t,96,100);try{let n=bR(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{B(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function ih(t,e){if(t.provider)return t.provider;B(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function fW(t,e){let r=ps(e);if(r.to!=null&&(r.to=Vt(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),Vt(n,t)]).then(([i,a])=>(A(i.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),i))}else r.from=t.getAddress();return await Bt(r)}var zg=class{provider;constructor(e){Y(this,{provider:e||null})}async getNonce(e){return ih(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await fW(this,e)}async populateTransaction(e){let r=ih(this,"populateTransaction"),n=await fW(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let i=await this.provider.getNetwork();if(n.chainId!=null){let o=Q(n.chainId);A(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;let a=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||a)?A(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&a&&A(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await r.getFeeData();B(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){let s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(B(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):B(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Bt(n)}async estimateGas(e){return ih(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ih(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ih(this,"resolveName").resolveName(e)}async sendTransaction(e){let r=ih(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let i=Vr.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}};function dde(t){return JSON.parse(JSON.stringify(t))}var fS=class{#e;#t;#r;#n;#a;#s;constructor(e){this.#e=e,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#a=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=await this.#t}catch(a){if(!pt(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=await this.#e.getNetwork();if(this.#a||(this.#a=n),this.#a.chainId!==n.chainId)throw new Error("chaid changed");if(this.#s)return;let i=await this.#e.send("eth_getFilterChanges",[r]);await this._emitResults(this.#e,i)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)}#d(){let e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#s=!0,this.#d(),this.#e.off("block",this.#r))}pause(e){e&&this.#d(),this.#e.off("block",this.#r)}resume(){this.start()}},hS=class extends fS{#e;constructor(e,r){super(e),this.#e=dde(r)}_recover(e){return new _s(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,r){for(let n of r)e.emit(this.#e,e._wrapLog(n,e._network))}},pS=class extends fS{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(let n of r)e.emit("pending",n)}};var fde="bigint,boolean,function,number,string,symbol".split(/,/g);function mS(t){if(t==null||fde.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(mS);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function hde(t){return new Promise(e=>{setTimeout(e,t)})}function ah(t){return t&&t.toLowerCase()}function hW(t){return t&&typeof t.pollingInterval=="number"}var pW={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Zu=class extends zg{address;constructor(e,r){super(e),r=ke(r),Y(this,{address:r})}connect(e){B(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let r=mS(e),n=[];if(r.from){let a=r.from;n.push((async()=>{let o=await Vt(a,this.provider);A(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){let a=r.to;n.push((async()=>{r.to=await Vt(a,this.provider)})())}n.length&&await Promise.all(n);let i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let r=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((i,a)=>{let o=[1e3,100],s=0,u=async()=>{try{let l=await this.provider.getTransaction(n);if(l!=null){i(l.replaceableTransaction(r));return}}catch(l){if(pt(l,"CANCELLED")||pt(l,"BAD_DATA")||pt(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,a(l);return}if(pt(l,"INVALID_ARGUMENT")&&(s++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,s>10)){a(l);return}this.provider.emit("error",Ke("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(e){let r=mS(e);if(r.from){let i=await Vt(r.from,this.provider);A(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;let n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){let r=typeof e=="string"?qr(e):e;return await this.provider.send("personal_sign",[G(r),this.address.toLowerCase()])}async signTypedData(e,r,n){let i=mS(n),a=await lr.resolveNames(e,r,i,async o=>{let s=await Vt(o);return A(s!=null,"TypedData does not support null address","value",o),s});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lr.getPayload(a.domain,r,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let r=typeof e=="string"?qr(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),G(r)])}},Qg=class extends Hg{#e;#t;#r;#n;#a;#s;#i;#d(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let r=this.#r;for(this.#r=[];r.length;){let n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(a=>a.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}(async()=>{let i=n.length===1?n[0].payload:n.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(let{resolve:o,reject:s,payload:u}of n){if(this.destroyed){s(Ke("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}let l=a.filter(c=>c.id===u.id)[0];if(l==null){let c=Ke("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",c),s(c);continue}if("error"in l){s(this.getRpcError(u,l));continue}o(l.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(let{reject:o}of n)o(a)}})()}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},pW,r||{}),this.#r=[],this.#n=null,this.#s=null,this.#i=null;{let i=null,a=new Promise(o=>{i=o});this.#a={promise:a,resolve:i}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(A(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#s=Tt.from(e))):n&&(A(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#s=n)}_getOption(e){return this.#e[e]}get _network(){return B(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&Q(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{let r=Tt.from(Q(await this.send("eth_chainId",[])));return this.#i=null,r}catch(r){throw this.#i=null,r}})(),await this.#i):(this.#i=(async()=>{let r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(await this._send(r))[0],this.#i=null}catch(i){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Tt.from(Q(n.result));throw this.getRpcError(r,n)})(),await this.#i)}_start(){this.#a==null||this.#a.resolve==null||(this.#a.resolve(),this.#a=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ke("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await hde(1e3)}this.#d()})())}async _waitUntilReady(){if(this.#a!=null)return await this.#a.promise}_getSubscriber(e){return e.type==="pending"?new pS(this):e.type==="event"?this._getOption("polling")?new _s(this,e.filter):new hS(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new nh("orphan"):super._getSubscriber(e)}get ready(){return this.#a==null}getRpcTransaction(e){let r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),r[i]=Ea(Q(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=G(e[n]))}),e.accessList&&(r.accessList=On(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ah(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ah(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[ah(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ah(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(ah):e.filter.address=ah(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){let{method:n}=e,{error:i,headers:a}=r;if(n==="eth_estimateGas"&&i.message){let u=i.message;if(!u.match(/revert/i)&&u.match(/insufficient funds/i))return Ke("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){let u=_R(i),l=Yn.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],u?u.data:null);return l.info={error:i,payload:e,headers:a},l}let o=JSON.stringify(pde(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Ke("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let u=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ke("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ke("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ke("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:i}});if(o.match(/only replay-protected/i))return Ke("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:u,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Ke("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Ke("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Ke("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,i=new Promise((a,o)=>{this.#r.push({resolve:a,reject:o,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#d(),i}async getSigner(e){e==null&&(e=0);let r=this.send("eth_accounts",[]);if(typeof e=="number"){let i=await r;if(e>=i.length)throw new Error("no such account");return new Zu(this,i[e])}let{accounts:n}=await Bt({network:this.getNetwork(),accounts:r});e=ke(e);for(let i of n)if(ke(i)===e)return new Zu(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Zu(this,r))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:r}of this.#r)r(Ke("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},SR=class extends Qg{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=pW.pollingInterval),this.#e=n}_getSubscriber(e){let r=super._getSubscriber(e);return hW(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{hW(r)&&(r.pollingInterval=this.#e)})}},Xu=class extends SR{#e;constructor(e,r,n){e==null&&(e="http://localhost:8545"),super(r,n),typeof e=="string"?this.#e=new Cr(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){let r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");let n=await r.send();n.assertOk();let i=n.bodyJson;return Array.isArray(i)||(i=[i]),i.forEach(a=>{if("error"in a){a.headers={};for(let[o,s]of Object.entries(n.headers))o.toLowerCase().includes("sentio")&&(a.headers[o]=s)}}),i}};function _R(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ne(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=_R(t[e]);if(r)return r}return null}if(typeof t=="string")try{return _R(JSON.parse(t))}catch{}return null}function ER(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)ER(t[r],e);if(typeof t=="string")try{return ER(JSON.parse(t),e)}catch{}}}function pde(t){let e=[];return ER(t,e),e}var AR=tr(gW(),1);var Zg=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},CR=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},yW=t=>globalThis.DOMException===void 0?new CR(t):new DOMException(t),vW=t=>{let e=t.reason===void 0?yW("This operation was aborted."):t.reason;return e instanceof Error?e:yW(e)};function kR(t,e){let{milliseconds:r,fallback:n,message:i,customTimers:a={setTimeout,clearTimeout}}=e,o,u=new Promise((l,c)=>{if(typeof r!="number"||Math.sign(r)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${r}\``);if(e.signal){let{signal:f}=e;f.aborted&&c(vW(f)),f.addEventListener("abort",()=>{c(vW(f))})}if(r===Number.POSITIVE_INFINITY){t.then(l,c);return}let d=new Zg;o=a.setTimeout.call(void 0,()=>{if(n){try{l(n())}catch(f){c(f)}return}typeof t.cancel=="function"&&t.cancel(),i===!1?l():i instanceof Error?c(i):(d.message=i??`Promise timed out after ${r} milliseconds`,c(d))},r),(async()=>{try{l(await t)}catch(f){c(f)}})()}).finally(()=>{u.clear()});return u.clear=()=>{a.clearTimeout.call(void 0,o),o=void 0},u}function IR(t,e,r){let n=0,i=t.length;for(;i>0;){let a=Math.trunc(i/2),o=n+a;r(t[o],e)<=0?(n=++o,i-=a+1):i=a}return n}var Xg=class{#e=[];enqueue(e,r){r={priority:0,...r};let n={priority:r.priority,run:e};if(this.size&&this.#e[this.size-1].priority>=r.priority){this.#e.push(n);return}let i=IR(this.#e,n,(a,o)=>o.priority-a.priority);this.#e.splice(i,0,n)}dequeue(){return this.#e.shift()?.run}filter(e){return this.#e.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this.#e.length}};var Yg=class extends AR.default{#e;#t;#r=0;#n;#a;#s=0;#i;#d;#l;#u;#o=0;#p;#c;#f;timeout;constructor(e){if(super(),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Xg,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#e=e.carryoverConcurrencyCount,this.#t=e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,this.#n=e.intervalCap,this.#a=e.interval,this.#l=new e.queueClass,this.#u=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#f=e.throwOnTimeout===!0,this.#c=e.autoStart===!1}get#h(){return this.#t||this.#r<this.#n}get#m(){return this.#o<this.#p}#g(){this.#o--,this.#_(),this.emit("next")}#b(){this.#A(),this.#E(),this.#d=void 0}get#S(){let e=Date.now();if(this.#i===void 0){let r=this.#s-e;if(r<0)this.#r=this.#e?this.#o:0;else return this.#d===void 0&&(this.#d=setTimeout(()=>{this.#b()},r)),!0}return!1}#_(){if(this.#l.size===0)return this.#i&&clearInterval(this.#i),this.#i=void 0,this.emit("empty"),this.#o===0&&this.emit("idle"),!1;if(!this.#c){let e=!this.#S;if(this.#h&&this.#m){let r=this.#l.dequeue();return r?(this.emit("active"),r(),e&&this.#E(),!0):!1}}return!1}#E(){this.#t||this.#i!==void 0||(this.#i=setInterval(()=>{this.#A()},this.#a),this.#s=Date.now()+this.#a)}#A(){this.#r===0&&this.#o===0&&this.#i&&(clearInterval(this.#i),this.#i=void 0),this.#r=this.#e?this.#o:0,this.#v()}#v(){for(;this.#_(););}get concurrency(){return this.#p}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#p=e,this.#v()}async#R(e){return new Promise((r,n)=>{e.addEventListener("abort",()=>{n(e.reason)},{once:!0})})}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:this.#f,...r},new Promise((n,i)=>{this.#l.enqueue(async()=>{this.#o++,this.#r++;try{r.signal?.throwIfAborted();let a=e({signal:r.signal});r.timeout&&(a=kR(Promise.resolve(a),{milliseconds:r.timeout})),r.signal&&(a=Promise.race([a,this.#R(r.signal)]));let o=await a;n(o),this.emit("completed",o)}catch(a){if(a instanceof Zg&&!r.throwOnTimeout){n();return}i(a),this.emit("error",a)}finally{this.#g()}},r),this.emit("add"),this.#_()})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this.#c?(this.#c=!1,this.#v(),this):this}pause(){this.#c=!0}clear(){this.#l=new this.#u}async onEmpty(){this.#l.size!==0&&await this.#C("empty")}async onSizeLessThan(e){this.#l.size<e||await this.#C("next",()=>this.#l.size<e)}async onIdle(){this.#o===0&&this.#l.size===0||await this.#C("idle")}async#C(e,r){return new Promise(n=>{let i=()=>{r&&!r()||(this.off(e,i),n())};this.on(e,i)})}get size(){return this.#l.size}sizeBy(e){return this.#l.filter(e).length}get pending(){return this.#o}get isPaused(){return this.#c}};var OW=tr(EW(),1);var oh=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,AW=new Set,FR=typeof process=="object"&&process?process:{},CW=(t,e,r,n)=>{typeof FR.emitWarning=="function"?FR.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},bS=globalThis.AbortController,TW=globalThis.AbortSignal;if(typeof bS>"u"){TW=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},bS=class{constructor(){e()}signal=new TW;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=FR.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,CW("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Pde=t=>!AW.has(t),v5e=Symbol("type"),Es=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),kW=t=>Es(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?uh:null:null,uh=class extends Array{constructor(e){super(e),this.fill(0)}},lh,sh=class{heap;length;static create(e){let r=kW(e);if(!r)return[];bo(sh,lh,!0);let n=new sh(e,r);return bo(sh,lh,!1),n}constructor(e,r){if(!vo(sh,lh))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},vS=sh;lh=new WeakMap,js(vS,lh,!1);var ju=class{#e;#t;#r;#n;#a;#s;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#d;#l;#u;#o;#p;#c;#f;#h;#m;#g;#b;#S;#_;#E;#A;#v;static unsafeExposeInternals(e){return{starts:e.#S,ttls:e.#_,sizes:e.#b,keyMap:e.#l,keyList:e.#u,valList:e.#o,next:e.#p,prev:e.#c,get head(){return e.#f},get tail(){return e.#h},free:e.#m,isBackgroundFetch:r=>e.#y(r),backgroundFetch:(r,n,i,a)=>e.#D(r,n,i,a),moveToTail:r=>e.#P(r),indexes:r=>e.#k(r),rindexes:r=>e.#I(r),isStale:r=>e.#T(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#d}get size(){return this.#i}get fetchMethod(){return this.#a}get memoMethod(){return this.#s}get dispose(){return this.#r}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:o,updateAgeOnHas:s,allowStale:u,dispose:l,disposeAfter:c,noDisposeOnSet:d,noUpdateTTL:f,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:m,fetchMethod:b,memoMethod:v,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:k,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:M,ignoreFetchAbort:P}=e;if(r!==0&&!Es(r))throw new TypeError("max option must be a nonnegative integer");let q=r?kW(r):Array;if(!q)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=p,this.maxEntrySize=g||this.#t,this.sizeCalculation=m,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#s=v,b!==void 0&&typeof b!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#a=b,this.#A=!!b,this.#l=new Map,this.#u=new Array(r).fill(void 0),this.#o=new Array(r).fill(void 0),this.#p=new q(r),this.#c=new q(r),this.#f=0,this.#h=0,this.#m=vS.create(r),this.#i=0,this.#d=0,typeof l=="function"&&(this.#r=l),typeof c=="function"?(this.#n=c,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#E=!!this.#r,this.#v=!!this.#n,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!O,this.allowStaleOnFetchAbort=!!M,this.ignoreFetchAbort=!!P,this.maxEntrySize!==0){if(this.#t!==0&&!Es(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Es(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#V()}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!s,this.ttlResolution=Es(i)||i===0?i:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!Es(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let z="LRU_CACHE_UNBOUNDED";Pde(z)&&(AW.add(z),CW("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",z,ju))}}getRemainingTTL(e){return this.#l.has(e)?1/0:0}#R(){let e=new uh(this.#e),r=new uh(this.#e);this.#_=e,this.#S=r,this.#M=(a,o,s=oh.now())=>{if(r[a]=o!==0?s:0,e[a]=o,o!==0&&this.ttlAutopurge){let u=setTimeout(()=>{this.#T(a)&&this.#O(this.#u[a],"expire")},o+1);u.unref&&u.unref()}},this.#C=a=>{r[a]=e[a]!==0?oh.now():0},this.#N=(a,o)=>{if(e[o]){let s=e[o],u=r[o];if(!s||!u)return;a.ttl=s,a.start=u,a.now=n||i();let l=a.now-u;a.remainingTTL=s-l}};let n=0,i=()=>{let a=oh.now();if(this.ttlResolution>0){n=a;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return a};this.getRemainingTTL=a=>{let o=this.#l.get(a);if(o===void 0)return 0;let s=e[o],u=r[o];if(!s||!u)return 1/0;let l=(n||i())-u;return s-l},this.#T=a=>{let o=r[a],s=e[a];return!!s&&!!o&&(n||i())-o>s}}#C=()=>{};#N=()=>{};#M=()=>{};#T=()=>!1;#V(){let e=new uh(this.#e);this.#d=0,this.#b=e,this.#w=r=>{this.#d-=e[r],e[r]=0},this.#L=(r,n,i,a)=>{if(this.#y(n))return 0;if(!Es(i))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(i=a(n,r),!Es(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#x=(r,n,i)=>{if(e[r]=n,this.#t){let a=this.#t-e[r];for(;this.#d>a;)this.#B(!0)}this.#d+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#d)}}#w=e=>{};#x=(e,r,n)=>{};#L=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#k({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#h;!(!this.#F(r)||((e||!this.#T(r))&&(yield r),r===this.#f));)r=this.#c[r]}*#I({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#f;!(!this.#F(r)||((e||!this.#T(r))&&(yield r),r===this.#h));)r=this.#p[r]}#F(e){return e!==void 0&&this.#l.get(this.#u[e])===e}*entries(){for(let e of this.#k())this.#o[e]!==void 0&&this.#u[e]!==void 0&&!this.#y(this.#o[e])&&(yield[this.#u[e],this.#o[e]])}*rentries(){for(let e of this.#I())this.#o[e]!==void 0&&this.#u[e]!==void 0&&!this.#y(this.#o[e])&&(yield[this.#u[e],this.#o[e]])}*keys(){for(let e of this.#k()){let r=this.#u[e];r!==void 0&&!this.#y(this.#o[e])&&(yield r)}}*rkeys(){for(let e of this.#I()){let r=this.#u[e];r!==void 0&&!this.#y(this.#o[e])&&(yield r)}}*values(){for(let e of this.#k())this.#o[e]!==void 0&&!this.#y(this.#o[e])&&(yield this.#o[e])}*rvalues(){for(let e of this.#I())this.#o[e]!==void 0&&!this.#y(this.#o[e])&&(yield this.#o[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#k()){let i=this.#o[n],a=this.#y(i)?i.__staleWhileFetching:i;if(a!==void 0&&e(a,this.#u[n],this))return this.get(this.#u[n],r)}}forEach(e,r=this){for(let n of this.#k()){let i=this.#o[n],a=this.#y(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#u[n],this)}}rforEach(e,r=this){for(let n of this.#I()){let i=this.#o[n],a=this.#y(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#u[n],this)}}purgeStale(){let e=!1;for(let r of this.#I({allowStale:!0}))this.#T(r)&&(this.#O(this.#u[r],"expire"),e=!0);return e}info(e){let r=this.#l.get(e);if(r===void 0)return;let n=this.#o[r],i=this.#y(n)?n.__staleWhileFetching:n;if(i===void 0)return;let a={value:i};if(this.#_&&this.#S){let o=this.#_[r],s=this.#S[r];if(o&&s){let u=o-(oh.now()-s);a.ttl=u,a.start=Date.now()}}return this.#b&&(a.size=this.#b[r]),a}dump(){let e=[];for(let r of this.#k({allowStale:!0})){let n=this.#u[r],i=this.#o[r],a=this.#y(i)?i.__staleWhileFetching:i;if(a===void 0||n===void 0)continue;let o={value:a};if(this.#_&&this.#S){o.ttl=this.#_[r];let s=oh.now()-this.#S[r];o.start=Math.floor(Date.now()-s)}this.#b&&(o.size=this.#b[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=oh.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:a,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:u}=n,{noUpdateTTL:l=this.noUpdateTTL}=n,c=this.#L(e,r,n.size||0,s);if(this.maxEntrySize&&c>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.#O(e,"set"),this;let d=this.#i===0?void 0:this.#l.get(e);if(d===void 0)d=this.#i===0?this.#h:this.#m.length!==0?this.#m.pop():this.#i===this.#e?this.#B(!1):this.#i,this.#u[d]=e,this.#o[d]=r,this.#l.set(e,d),this.#p[this.#h]=d,this.#c[d]=this.#h,this.#h=d,this.#i++,this.#x(d,c,u),u&&(u.set="add"),l=!1;else{this.#P(d);let f=this.#o[d];if(r!==f){if(this.#A&&this.#y(f)){f.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:p}=f;p!==void 0&&!o&&(this.#E&&this.#r?.(p,e,"set"),this.#v&&this.#g?.push([p,e,"set"]))}else o||(this.#E&&this.#r?.(f,e,"set"),this.#v&&this.#g?.push([f,e,"set"]));if(this.#w(d),this.#x(d,c,u),this.#o[d]=r,u){u.set="replace";let p=f&&this.#y(f)?f.__staleWhileFetching:f;p!==void 0&&(u.oldValue=p)}}else u&&(u.set="update")}if(i!==0&&!this.#_&&this.#R(),this.#_&&(l||this.#M(d,i,a),u&&this.#N(u,d)),!o&&this.#v&&this.#g){let f=this.#g,p;for(;p=f?.shift();)this.#n?.(...p)}return this}pop(){try{for(;this.#i;){let e=this.#o[this.#f];if(this.#B(!0),this.#y(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#v&&this.#g){let e=this.#g,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#f,n=this.#u[r],i=this.#o[r];return this.#A&&this.#y(i)?i.__abortController.abort(new Error("evicted")):(this.#E||this.#v)&&(this.#E&&this.#r?.(i,n,"evict"),this.#v&&this.#g?.push([i,n,"evict"])),this.#w(r),e&&(this.#u[r]=void 0,this.#o[r]=void 0,this.#m.push(r)),this.#i===1?(this.#f=this.#h=0,this.#m.length=0):this.#f=this.#p[r],this.#l.delete(n),this.#i--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,a=this.#l.get(e);if(a!==void 0){let o=this.#o[a];if(this.#y(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#T(a))i&&(i.has="stale",this.#N(i,a));else return n&&this.#C(a),i&&(i.has="hit",this.#N(i,a)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#l.get(e);if(i===void 0||!n&&this.#T(i))return;let a=this.#o[i];return this.#y(a)?a.__staleWhileFetching:a}#D(e,r,n,i){let a=r===void 0?void 0:this.#o[r];if(this.#y(a))return a;let o=new bS,{signal:s}=n;s?.addEventListener("abort",()=>o.abort(s.reason),{signal:o.signal});let u={signal:o.signal,options:n,context:i},l=(m,b=!1)=>{let{aborted:v}=o.signal,E=n.ignoreFetchAbort&&m!==void 0;if(n.status&&(v&&!b?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,E&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!E&&!b)return d(o.signal.reason);let k=p;return this.#o[r]===p&&(m===void 0?k.__staleWhileFetching?this.#o[r]=k.__staleWhileFetching:this.#O(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,m,u.options))),m},c=m=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=m),d(m)),d=m=>{let{aborted:b}=o.signal,v=b&&n.allowStaleOnFetchAbort,E=v||n.allowStaleOnFetchRejection,k=E||n.noDeleteOnFetchRejection,O=p;if(this.#o[r]===p&&(!k||O.__staleWhileFetching===void 0?this.#O(e,"fetch"):v||(this.#o[r]=O.__staleWhileFetching)),E)return n.status&&O.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),O.__staleWhileFetching;if(O.__returned===O)throw m},f=(m,b)=>{let v=this.#a?.(e,a,u);v&&v instanceof Promise&&v.then(E=>m(E===void 0?void 0:E),b),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(m(void 0),n.allowStaleOnFetchAbort&&(m=E=>l(E,!0)))})};n.status&&(n.status.fetchDispatched=!0);let p=new Promise(f).then(l,c),g=Object.assign(p,{__abortController:o,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(e,g,{...u.options,status:void 0}),r=this.#l.get(e)):this.#o[r]=g,g}#y(e){if(!this.#A)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof bS}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:u=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:m,forceRefresh:b=!1,status:v,signal:E}=r;if(!this.#A)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,status:v});let k={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,ttl:o,noDisposeOnSet:s,size:u,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:E},O=this.#l.get(e);if(O===void 0){v&&(v.fetch="miss");let M=this.#D(e,O,k,m);return M.__returned=M}else{let M=this.#o[O];if(this.#y(M)){let ne=n&&M.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",ne&&(v.returnedStale=!0)),ne?M.__staleWhileFetching:M.__returned=M}let P=this.#T(O);if(!b&&!P)return v&&(v.fetch="hit"),this.#P(O),i&&this.#C(O),v&&this.#N(v,O),M;let q=this.#D(e,O,k,m),me=q.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=P?"stale":"refresh",me&&P&&(v.returnedStale=!0)),me?q.__staleWhileFetching:q.__returned=q}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#s;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:a,...o}=r,s=this.get(e,o);if(!a&&s!==void 0)return s;let u=n(e,s,{options:o,context:i});return this.set(e,u,o),u}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:o}=r,s=this.#l.get(e);if(s!==void 0){let u=this.#o[s],l=this.#y(u);return o&&this.#N(o,s),this.#T(s)?(o&&(o.get="stale"),l?(o&&n&&u.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?u.__staleWhileFetching:void 0):(a||this.#O(e,"expire"),o&&n&&(o.returnedStale=!0),n?u:void 0)):(o&&(o.get="hit"),l?u.__staleWhileFetching:(this.#P(s),i&&this.#C(s),u))}else o&&(o.get="miss")}#q(e,r){this.#c[r]=e,this.#p[e]=r}#P(e){e!==this.#h&&(e===this.#f?this.#f=this.#p[e]:this.#q(this.#c[e],this.#p[e]),this.#q(this.#h,e),this.#h=e)}delete(e){return this.#O(e,"delete")}#O(e,r){let n=!1;if(this.#i!==0){let i=this.#l.get(e);if(i!==void 0)if(n=!0,this.#i===1)this.#U(r);else{this.#w(i);let a=this.#o[i];if(this.#y(a)?a.__abortController.abort(new Error("deleted")):(this.#E||this.#v)&&(this.#E&&this.#r?.(a,e,r),this.#v&&this.#g?.push([a,e,r])),this.#l.delete(e),this.#u[i]=void 0,this.#o[i]=void 0,i===this.#h)this.#h=this.#c[i];else if(i===this.#f)this.#f=this.#p[i];else{let o=this.#c[i];this.#p[o]=this.#p[i];let s=this.#p[i];this.#c[s]=this.#c[i]}this.#i--,this.#m.push(i)}}if(this.#v&&this.#g?.length){let i=this.#g,a;for(;a=i?.shift();)this.#n?.(...a)}return n}clear(){return this.#U("delete")}#U(e){for(let r of this.#I({allowStale:!0})){let n=this.#o[r];if(this.#y(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#u[r];this.#E&&this.#r?.(n,i,e),this.#v&&this.#g?.push([n,i,e])}}if(this.#l.clear(),this.#o.fill(void 0),this.#u.fill(void 0),this.#_&&this.#S&&(this.#_.fill(0),this.#S.fill(0)),this.#b&&this.#b.fill(0),this.#f=0,this.#h=0,this.#m.length=0,this.#d=0,this.#i=0,this.#v&&this.#g){let r=this.#g,n;for(;n=r?.shift();)this.#n?.(...n)}}};var{miss_count:xde,hit_count:Bde,total_duration:Dde,total_queued:Mde,queue_size:Lde}=lb,O5e=new Xu("",Tt.from(1)),IW=new Map;function NW(t){t||(t=OW.EthChainId.ETHEREUM);let e=Tt.from(parseInt(t)),r=Co.INSTANCE.chainServer.get(t),n=e.chainId.toString()+"-"+r,i=IW.get(n);if(i)return i;if(r===void 0)throw Error("Provider not found for chain "+e.chainId+", configured chains: "+[...Co.INSTANCE.chainServer.keys()].join(" "));return i=new qR(r,e,Co.INSTANCE.concurrency,Co.INSTANCE.batchCount),IW.set(n,i),i}function Fde(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n);return i.sort(),i.reduce((a,o)=>(a[o]=n[o],a),{})}return n})}var qR=class extends Xu{executor;#e=new ju({max:3e5,maxSize:500*1024*1024});#t=new ju({max:3e5});constructor(e,r,n,i=1){super(e,r,{staticNetwork:r,batchMaxCount:i}),this.executor=new Yg({concurrency:n})}async send(e,r){if(e!=="eth_call")return await this.executor.add(()=>super.send(e,r));let n=Fde(e,r),i=r[r.length-1],a=this.#e.get(n);if(a)Bde.add(1);else{xde.add(1);let s=Date.now();a=this.executor.add(()=>{let u=Date.now();return Mde.add(u-s),super.send(e,r).finally(()=>{Dde.add(Date.now()-u)})}),Lde.record(this.executor.size),this.#e.set(n,a,{size:n.length}),i==="latest"&&setTimeout(()=>{this.#e.get(n)===a&&this.#e.delete(n)},60*1e3)}let o;try{o=await a}catch(s){if(this.#e.get(n)===a&&this.#e.delete(n),s.code==="TIMEOUT"){let u=this.#t.get(n);if(Pf.execution.rpcRetryTimes&&u===void 0&&(u=Pf.execution.rpcRetryTimes),u)return this.#t.set(n,u-1),this.send(e,r)}throw s}if(!o)throw Error("Unexpected null response");return o}};process.stdout.write("");var Or=tr(C4(),1),am=tr(Y4(),1),Kw=tr(nG(),1),Zw=tr(UH(),1);var Xw=tr(hZ(),1);var cBe=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3[]",name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3Value[]",name:"calls",type:"tuple[]"}],name:"aggregate3Value",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBasefee",outputs:[{internalType:"uint256",name:"basefee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"chainid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],dBe=[{name:"Mainnet",chainId:1,url:"https://etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Kovan",chainId:42,url:"https://kovan.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Rinkeby",chainId:4,url:"https://rinkeby.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"G\xF6rli",chainId:5,url:"https://goerli.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Ropsten",chainId:3,url:"https://ropsten.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Sepolia",chainId:11155111,url:"https://sepolia.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Holesky",chainId:17e3,url:"https://holesky.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Xterio Chain",chainId:112358,url:"https://xterscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Xterio Testnet",chainId:1637450,url:"https://testnet.xterscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Optimism",chainId:10,url:"https://optimistic.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Optimism Kovan",chainId:69,url:"https://kovan-optimistic.etherscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Optimism G\xF6rli",chainId:420,url:"https://blockscout.com/optimism/goerli/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Optimism Sepolia",chainId:11155420,url:"https://optimism-sepolia.blockscout.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Arbitrum",chainId:42161,url:"https://arbiscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Arbitrum Nova",chainId:42170,url:"https://nova.arbiscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Arbitrum G\xF6rli",chainId:421613,url:"https://goerli-rollup-explorer.arbitrum.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Arbitrum Sepolia",chainId:421614,url:"https://sepolia-explorer.arbitrum.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Arbitrum Rinkeby",chainId:421611,url:"https://testnet.arbiscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Stylus Testnet",chainId:23011913,url:"https://stylus-testnet-explorer.arbitrum.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Polygon",chainId:137,url:"https://polygonscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Mumbai",chainId:80001,url:"https://mumbai.polygonscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Amoy",chainId:80002,url:"https://amoy.polygonscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Polygon zkEVM",chainId:1101,url:"https://zkevm.polygonscan.com/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Polygon zkEVM Testnet",chainId:1442,url:"https://testnet-zkevm.polygonscan.com/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Cardona zkEVM Testnet",chainId:2442,url:"https://cardona-zkevm.polygonscan.com/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Gnosis Chain (xDai)",chainId:100,url:"https://blockscout.com/xdai/mainnet/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Chiado (Gnosis Chain Testnet)",chainId:10200,url:"https://blockscout.chiadochain.net/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Avalanche",chainId:43114,url:"https://snowtrace.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Avalanche Fuji",chainId:43113,url:"https://testnet.snowtrace.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Fantom Testnet",chainId:4002,url:"https://testnet.ftmscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Fantom Opera",chainId:250,url:"https://ftmscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Fantom Sonic",chainId:64240,url:"https://public-sonic.fantom.network/address/0xca11bde05977b3631167028862be2a173976ca11"},{name:"BNB Smart Chain",chainId:56,url:"https://bscscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"BNB Smart Chain Testnet",chainId:97,url:"https://testnet.bscscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"opBNB Testnet",chainId:5611,url:"https://opbnbscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?p=1&tab=Contract"},{name:"opBNB Mainnet",chainId:204,url:"https://mainnet.opbnbscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?p=1&tab=Contract"},{name:"Moonbeam",chainId:1284,url:"https://moonscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Moonriver",chainId:1285,url:"https://moonriver.moonscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Moonbase Alpha Testnet",chainId:1287,url:"https://moonbase.moonscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Palm",chainId:11297108109,url:"https://palm.chainlens.com/contracts/0xca11bde05977b3631167028862be2a173976ca11/sources"},{name:"Palm Testnet",chainId:11297108099,url:"https://testnet.palm.chainlens.com/contracts/0xca11bde05977b3631167028862be2a173976ca11/sources"},{name:"Harmony",chainId:16666e5,url:"https://explorer.harmony.one/address/0xcA11bde05977b3631167028862bE2a173976CA11?activeTab=7"},{name:"Cronos",chainId:25,url:"https://cronoscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Cronos Testnet",chainId:338,url:"https://cronos.org/explorer/testnet3/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Fuse",chainId:122,url:"https://explorer.fuse.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Flare Mainnet",chainId:14,url:"https://flare-explorer.flare.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Songbird Canary Network",chainId:19,url:"https://songbird-explorer.flare.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Coston Testnet",chainId:16,url:"https://coston-explorer.flare.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Coston2 Testnet",chainId:114,url:"https://coston2-explorer.flare.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Boba",chainId:288,url:"https://blockexplorer.boba.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Aurora",chainId:1313161554,url:"https://explorer.mainnet.aurora.dev/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Astar",chainId:592,url:"https://blockscout.com/astar/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Astar zKyoto Testnet",chainId:6038361,url:"https://zkyoto.explorer.startale.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Astar zkEVM",chainId:3776,url:"https://astar-zkevm.explorer.startale.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"OKC",chainId:66,url:"https://www.oklink.com/en/okc/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Heco Chain",chainId:128,url:"https://hecoinfo.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Metis Andromeda",chainId:1088,url:"https://andromeda-explorer.metis.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Metis Goerli",chainId:599,url:"https://goerli.explorer.metisdevops.link/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Metis Sepolia",chainId:59902,url:"https://sepolia-explorer.metisdevops.link/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"RSK",chainId:30,url:"https://explorer.rsk.co/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"RSK Testnet",chainId:31,url:"https://explorer.testnet.rsk.co/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Evmos",chainId:9001,url:"https://evm.evmos.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Evmos Testnet",chainId:9e3,url:"https://evm.evmos.dev/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Thundercore",chainId:108,url:"https://viewblock.io/thundercore/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=code"},{name:"Thundercore Testnet",chainId:18,url:"https://explorer-testnet.thundercore.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Oasis",chainId:42262,url:"https://explorer.emerald.oasis.dev/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Oasis Sapphire",chainId:23294,url:"https://explorer.sapphire.oasis.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Celo",chainId:42220,url:"https://explorer.celo.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Celo Alfajores Testnet",chainId:44787,url:"https://explorer.celo.org/alfajores/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Godwoken",chainId:71402,url:"https://v1.gwscan.com/account/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Godwoken Testnet",chainId:71401,url:"https://gw-explorer.nervosdao.community/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Klaytn",chainId:8217,url:"https://scope.klaytn.com/account/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Klaytn Testnet (Baobab)",chainId:1001,url:"https://baobab.klaytnscope.com/account/0xca11bde05977b3631167028862be2a173976ca11?tabId=contractCode"},{name:"Milkomeda",chainId:2001,url:"https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"KCC",chainId:321,url:"https://explorer.kcc.io/en/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Velas",chainId:106,url:"https://evmexplorer.velas.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Telos",chainId:40,url:"https://www.teloscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#contract"},{name:"Step Network",chainId:1234,url:"https://stepscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Canto",chainId:7700,url:"https://tuber.build/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Canto Testnet",chainId:7701,url:"https://testnet.tuber.build/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Iotex",chainId:4689,url:"https://iotexscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#transactions"},{name:"Bitgert",chainId:32520,url:"https://brisescan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Kava",chainId:2222,url:"https://explorer.kava.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Mantle Sepolia Testnet",chainId:5003,url:"https://explorer.sepolia.mantle.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Mantle Testnet",chainId:5001,url:"https://explorer.testnet.mantle.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Mantle",chainId:5e3,url:"https://explorer.mantle.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Shardeum Sphinx",chainId:8082,url:"https://explorer.testnet.mantle.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Base Testnet (Goerli)",chainId:84531,url:"https://goerli.basescan.org/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Base Testnet (Sepolia)",chainId:84532,url:"https://base-sepolia.blockscout.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Base",chainId:8453,url:"https://basescan.org/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Kroma Testnet (Sepolia)",chainId:2358,url:"https://sepolia.kromascan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"DeFiChain EVM Mainnet",chainId:1130,url:"https://meta.defiscan.live/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"DeFiChain EVM Testnet",chainId:1131,url:"https://meta.defiscan.live/address/0xcA11bde05977b3631167028862bE2a173976CA11?network=TestNet"},{name:"Defi Oracle Meta Mainnet",chainId:138,url:"https://blockscout.defi-oracle.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"DFK Chain Test",chainId:335,url:"https://subnets-test.avax.network/defi-kingdoms/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"DFK Chain",chainId:53935,url:"https://subnets.avax.network/defi-kingdoms/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Neon EVM DevNet",chainId:245022926,url:"https://devnet.neonscan.org/address/0xcA11bde05977b3631167028862bE2a173976CA11#contract"},{name:"Linea Sepolia Testnet",chainId:59141,url:"https://sepolia.lineascan.build/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Linea Goerli Testnet",chainId:59140,url:"https://explorer.goerli.linea.build/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Linea Mainnet",chainId:59144,url:"https://lineascan.build/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Hashbit",chainId:11119,url:"https://explorer.hashbit.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Syscoin",chainId:57,url:"https://explorer.syscoin.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Syscoin Rollux Mainnet",chainId:570,url:"https://explorer.rollux.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Syscoin Tannebaum Testnet",chainId:5700,url:"https://tanenbaum.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Syscoin Tannebaum Rollux",chainId:57e3,url:"https://rollux.tanenbaum.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Pulsechain v4 Testnet",chainId:943,url:"https://scan.v4.testnet.pulsechain.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Pulsechain Mainnet",chainId:369,url:"https://scan.pulsechain.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Zora Goerli Testnet",chainId:999,url:"https://testnet.explorer.zora.co/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Zora",chainId:7777777,url:"https://explorer.zora.co/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Zora Sepolia Testnet",chainId:999999999,url:"https://sepolia.explorer.zora.energy/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Darwinia Crab Network",chainId:44,url:"https://crab.subscan.io/account/0xca11bde05977b3631167028862be2a173976ca11"},{name:"Darwinia Network",chainId:46,url:"https://darwinia.subscan.io/account/0xca11bde05977b3631167028862be2a173976ca11"},{name:"Chain Verse Mainnet",chainId:5555,url:"https://explorer.chainverse.info/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Scroll Alpha Testnet",chainId:534353,url:"https://blockscout.scroll.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Scroll Sepolia Testnet",chainId:534351,url:"https://sepolia.scrollscan.dev/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Scroll",chainId:534352,url:"https://scrollscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Xodex",chainId:2415,url:"https://explorer.xo-dex.com/contracts/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"EOS EVM Testnet",chainId:15557,url:"https://explorer.testnet.evm.eosnetwork.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"EOS EVM",chainId:17777,url:"https://explorer.evm.eosnetwork.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Crossbell",chainId:3737,url:"https://scan.crossbell.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Dogechain",chainId:2e3,url:"https://explorer.dogechain.dog/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"MEVerse Chain Testnet",chainId:4759,url:"https://testnet.meversescan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"MEVerse Chain Mainnet",chainId:7518,url:"https://meversescan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"SKALE Calypso Testnet",chainId:974399131,url:"https://giant-half-dual-testnet.explorer.testnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Europa Testnet",chainId:1444673419,url:"https://juicy-low-small-testnet.explorer.testnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Nebula Testnet",chainId:37084624,url:"https://lanky-ill-funny-testnet.explorer.testnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Titan Testnet",chainId:1020352220,url:"https://aware-fake-trim-testnet.explorer.testnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Calypso Hub",chainId:1564830818,url:"https://honorable-steel-rasalhague.explorer.mainnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Europa Liquidity Hub",chainId:2046399126,url:"https://elated-tan-skat.explorer.mainnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Nebula Gaming Hub",chainId:1482601649,url:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"SKALE Titan AI Hub",chainId:1350216234,url:"https://parallel-stormy-spica.explorer.mainnet.skalenodes.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Ronin Saigon Testnet",chainId:2021,url:"https://saigon-app.roninchain.com/address/ronin:ca11bde05977b3631167028862be2a173976ca11?t=contract"},{name:"Ronin Mainnet",chainId:2020,url:"https://app.roninchain.com/address/ronin:ca11bde05977b3631167028862be2a173976ca11"},{name:"Qitmeer Testnet",chainId:8131,url:"https://testnet-qng.qitmeer.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Qitmeer QNG Mainnet",chainId:813,url:"https://qng.meerscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Q Testnet",chainId:35443,url:"https://explorer.qtestnet.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Q Devnet",chainId:35442,url:"https://explorer.qdevnet.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Q Mainnet",chainId:35441,url:"https://explorer.q.org/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Neon Mainnet",chainId:245022934,url:"https://neonscan.org/address/0xca11bde05977b3631167028862be2a173976ca11#contract"},{name:"LUKSO Testnet",chainId:4201,url:"https://explorer.execution.testnet.lukso.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"LUKSO Mainnet",chainId:42,url:"https://explorer.execution.mainnet.lukso.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Edgeware EdgeEVM",chainId:2021,url:"https://edgscan.live/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts"},{name:"Meter Testnet",chainId:83,url:"https://scan-warringstakes.meter.io/address/0xca11bde05977b3631167028862be2a173976ca11?tab=0&p=1"},{name:"Meter",chainId:82,url:"https://scan.meter.io/address/0xca11bde05977b3631167028862be2a173976ca11?tab=0&p=1"},{name:"Sepolia PGN (Public Goods Network) Testnet",chainId:58008,url:"https://explorer.sepolia.publicgoods.network/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"PGN (Public Goods Network)",chainId:424,url:"https://explorer.publicgoods.network/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"ShimmerEVM",chainId:148,url:"https://explorer.evm.shimmer.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Highbury EVM",chainId:710,url:"https://explorer.furya.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Arthera Testnet",chainId:10243,url:"https://explorer-test.arthera.net/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Arthera Mainnet",chainId:10242,url:"https://explorer.arthera.net/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Manta Pacific Mainnet",chainId:169,url:"https://pacific-explorer.manta.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Jolnir (Taiko Testnet)",chainId:167007,url:"https://explorer.jolnir.taiko.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Katla (Taiko A6 Testnet)",chainId:167008,url:"https://explorer.katla.taiko.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Filecoin Mainnet",chainId:314,url:"https://filfox.info/en/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Filecoin Calibration Testnet",chainId:314159,url:"https://calibration.filscan.io/en/tx/0xdbfa261cd7d17bb40479a0493ad6c0fee435859e37aae73aa7e803f3122cc465/"},{name:"Fusion",chainId:32659,url:"https://fsnscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#contract"},{name:"Fusion Testnet",chainId:46688,url:"https://testnet.fsnscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#contract"},{name:"Xai Testnet",chainId:47279324479,url:"https://testnet-explorer.xai-chain.net/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"JFIN Chain",chainId:3501,url:"https://jfinscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"JFIN Chain Testnet",chainId:3502,url:"https://testnet.jfinscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Chiliz Chain",chainId:88888,url:"https://scan.chiliz.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Chiliz Spicy Testnet",chainId:88882,url:"https://testnet.chiliscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11/contract/88882/code"},{name:"CORE",chainId:1116,url:"https://scan.coredao.org/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Core Testnet",chainId:1115,url:"https://scan.test.btcs.network/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Ethereum Classic",chainId:61,url:"https://etc.blockscout.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Frame Testnet",chainId:68840142,url:"https://explorer.testnet.frame.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Etherlink Mainnet",chainId:42793,url:"https://explorer.etherlink.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Etherlink Testnet",chainId:128123,url:"https://testnet-explorer.etherlink.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"ZetaChain Athens 3 Testnet",chainId:7001,url:"https://explorer.zetachain.com/address/0xca11bde05977b3631167028862be2a173976ca11"},{name:"ZetaChain ",chainId:7e3,url:"https://explorer.zetachain.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"X1 Testnet",chainId:195,url:"https://www.oklink.com/x1-test/address/0xca11bde05977b3631167028862be2a173976ca11/contract"},{name:"Lumiterra Layer3",chainId:94168,url:"https://scan.layerlumi.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"BitTorrent Chain Mainnet",chainId:199,url:"https://bttcscan.com/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"BTT Chain Testnet",chainId:1029,url:"https://testnet.bttcscan.com/address/0xca11bde05977b3631167028862be2a173976ca11"},{name:"Callisto Mainnet",chainId:820,url:"https://explorer.callisto.network/address/0xcA11bde05977b3631167028862bE2a173976CA11/transactions"},{name:"Areon Network Testnet",chainId:462,url:"https://areonscan.com/contracts/0xca11bde05977b3631167028862be2a173976ca11?page=0"},{name:"Areon Network Mainnet",chainId:463,url:"https://areonscan.com/contracts/0xca11bde05977b3631167028862be2a173976ca11"},{name:"zkFair Mainnet",chainId:42766,url:"https://scan.zkfair.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"Mode Mainnet",chainId:34443,url:"https://explorer.mode.network/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Blast Sepolia",chainId:168587773,url:"https://testnet.blastscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11/contract/168587773/code"},{name:"Blast",chainId:81457,url:"https://blastscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Xai",chainId:660279,url:"https://explorer.xai-chain.net/address/0xcA11bde05977b3631167028862bE2a173976CA11/contracts#address-tabs"},{name:"DOS Chain",chainId:7979,url:"https://doscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"DOS Chain Testnet",chainId:3939,url:"https://test.doscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Tron",chainId:728126428,url:"https://tronscan.org/#/contract/TEazPvZwDjDtFeJupyo7QunvnrnUjPH8ED/code",address:"TEazPvZwDjDtFeJupyo7QunvnrnUjPH8ED"},{name:"zkSync Era",chainId:324,url:"https://explorer.zksync.io/address/0xF9cda624FBC7e059355ce98a31693d299FACd963#contract",address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},{name:"zkSync Era Goerli Testnet",chainId:280,url:"https://goerli.explorer.zksync.io/address/0xF9cda624FBC7e059355ce98a31693d299FACd963#contract",address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},{name:"zkSync Era Sepolia Testnet",chainId:300,url:"https://sepolia.explorer.zksync.io/address/0xF9cda624FBC7e059355ce98a31693d299FACd963#contract",address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},{name:"PlayFi Albireo Testnet",chainId:1612127,url:"https://albireo-explorer.playfi.ai/address/0xF9cda624FBC7e059355ce98a31693d299FACd963#contract",address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},{name:"Fraxtal Mainnet",chainId:252,url:"https://fraxscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Fraxtal Holesky Testnet",chainId:2522,url:"https://holesky.fraxscan.com/address/0xcA11bde05977b3631167028862bE2a173976CA11#code"},{name:"Omax Mainnet",chainId:311,url:"https://omaxray.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Syndicate Frame Chain",chainId:5101,url:"https://explorer-frame.syndicate.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Dela Sepolia",chainId:9393,url:"https://sepolia-delascan.deperp.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"NeoX Testnet",chainId:12227330,url:"https://xt2scan.ngd.network/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Sanko Testnet",chainId:1992,url:"https://testnet.sankoscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Berachain Testnet (Artio)",chainId:80085,url:"https://artio.beratrail.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Shibarium",chainId:109,url:"https://www.shibariumscan.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Immutable zkEVM Mainnet",chainId:13371,url:"https://explorer.immutable.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Immutable zkEVM Testnet",chainId:13473,url:"https://explorer.testnet.immutable.com/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"RSS3 VSL Mainnet",chainId:12553,url:"https://scan.rss3.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"RSS3 VSL Sepolia Testnet",chainId:2331,url:"https://scan.testnet.rss3.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Morph Sepolia Testnet",chainId:2710,url:"https://explorer-testnet.morphl2.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"JIBCHAIN L1",chainId:8899,url:"https://exp-l1.jibchain.net/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Haqq Mainnet",chainId:11235,url:"https://explorer.haqq.network/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Zircuit Sepolia Testnet",chainId:48899,url:"https://explorer.zircuit.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?activeTab=3"},{name:"re.al",chainId:111188,url:"https://explorer.re.al/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Merlin Testnet",chainId:686868,url:"https://testnet-scan.merlinchain.io/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"IOTA EVM",chainId:8822,url:"https://iota-evm.blockscout.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Planq",chainId:7070,url:"https://evm.planq.network/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Cyber Testnet",chainId:111557560,url:"https://testnet.cyberscan.co/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Unit Zero Stagenet",chainId:88819,url:"https://explorer-stagenet.unit0.dev/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Unit Zero Testnet",chainId:88817,url:"https://explorer-testnet.unit0.dev/address/0xcA11bde05977b3631167028862bE2a173976CA11"},{name:"Sei EVM Devnet",chainId:713715,url:"https://seitrace.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Sei EVM Mainnet",chainId:1329,url:"https://seitrace.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?chain=pacific-1&tab=contract"},{name:"Hekla (Taiko A7 Testnet)",chainId:167009,url:"https://explorer.hekla.taiko.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Taiko Mainnet",chainId:167e3,url:"https://taikoscan.io/address/0xca11bde05977b3631167028862be2a173976ca11#code"},{name:"Cyber Mainnet",chainId:7560,url:"https://cyberscan.co/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"DreyerX Mainnet",chainId:23451,url:"https://scan.dreyerx.com/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Sahara Testnet",chainId:313313,url:"https://explorer.saharaa.info/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"BOX Chain",chainId:42299,url:"https://explorerl2new-boxchain-t4zoh9y5dr.t.conduit.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"OX Chain",chainId:6699,url:"https://explorer-ox-chain-2s86s7wp21.t.conduit.xyz/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Conflux Espace",chainId:1030,url:"https://evm.confluxscan.net/address/0xca11bde05977b3631167028862be2a173976ca11?tab=contract-viewer"},{name:"BEVM Testnet",chainId:11503,url:"https://scan-testnet.bevm.io/address/0xcA11bde05977b3631167028862bE2a173976CA11?tab=contract"},{name:"Aura Mainnet",chainId:6322,url:"https://aurascan.io/evm-contracts/0xca11bde05977b3631167028862be2a173976ca11"},{name:"Superposition Testnet",chainId:98985,url:"https://testnet-explorer.superposition.so/address/0xcA11bde05977b3631167028862bE2a173976CA11"}],fBe=Object.fromEntries(dBe.map(t=>{let e=t.url.indexOf("0x"),r=e>-1?t.url.slice(e,e+42):"0x"+t.url.slice(-40);return[t.chainId.toString(),r]})),pZ=new sn(cBe);function mZ(t){return pZ.encodeFunctionData("aggregate",[t])}function gZ(t){return pZ.decodeFunctionResult("aggregate",t).toObject()}function yZ(t){return fBe[t]}process.stdout.write("");var{process_binding_count:hBe,process_binding_time:pBe,process_binding_error:mBe}=cb;BigInt.prototype.toJSON=function(){return this.toString()};var vZ=class{started=!1;unhandled;loader;shutdownHandler;enablePreprocess;preparedData;constructor(e,r){this.loader=e,this.shutdownHandler=r,this.enablePreprocess=process.env.ENABLE_PREPROCESS?process.env.ENABLE_PREPROCESS.toLowerCase()=="true":!1}async getConfig(e,r){if(!this.started)throw new Or.ServerError(Or.Status.UNAVAILABLE,"Service Not started.");let n=JC.fromPartial({});return await La.INSTANCE.configure(n),n}async start(e,r){if(this.started)return{};$4();try{await this.loader()}catch(n){throw new Or.ServerError(Or.Status.INVALID_ARGUMENT,"Failed to load processor: "+L0(n))}return await La.INSTANCE.start(e),this.started=!0,{}}async stop(e,r){return console.log("Server Shutting down in 5 seconds"),this.shutdownHandler&&setTimeout(this.shutdownHandler,5e3),{}}async processBindings(e,r){let n=this.enablePreprocess?await this.preprocessBindings(e.bindings,{},void 0,r):{ethCallResults:{}},i=[];for(let s of e.bindings){let u=this.processBinding(s,n);Pf.execution.sequential&&await u,i.push(u)}let a;try{a=await Promise.all(i),cb.process_binding_count.add(e.bindings.length)}catch(s){throw cb.process_binding_error.add(e.bindings.length),s}return{result:bL(a)}}async preprocessBindings(e,r,n,i){let a=[];for(let g of e)a.push(this.preprocessBinding(g,r,n,i));let o;try{o=await Promise.all(a)}catch(g){throw g}let s=new Map,u=new Map;for(let g of o)for(let m of g.ethCallParams){let{chainId:b,blockTag:v}=m.context;u.has(b)||u.set(b,NW(b));let E=[b,v].join("|");s.has(E)||s.set(E,[]),s.get(E).push(m)}let l=Date.now(),c=1,d=[],f=[];for(let g of s.values()){let{chainId:m,blockTag:b}=g[0].context,v=yZ(m);if(g.length<=c||!v){for(let k of g)d.push(u.get(m).call({to:k.context.address,data:k.calldata,blockTag:b}).then(O=>[$C(k),O]));continue}let E=128;for(let k=0;k<g.length;k+=E){let O=g.slice(k,k+E),M=O.map(q=>({target:q.context.address,callData:q.calldata})),P=mZ(M);f.push(u.get(m).call({to:v,data:P,blockTag:b}).then(q=>{let z=gZ(q).returnData;if(z.length!=O.length)throw new Error(`multicall result length mismatch, params: ${O.length}, result: ${z.length}`);let me=[];for(let ne=0;ne<O.length;ne++)me.push([$C(O[ne]),z[ne]]);return me}))}}let p={};try{p=Object.fromEntries(await Promise.all(d));for(let g of await Promise.all(f))p={...p,...Object.fromEntries(g)}}catch(g){console.error(`eth call error: ${g}`)}return{ethCallResults:p}}async preprocessBinding(e,r,n,i){if(!this.started)throw new Or.ServerError(Or.Status.UNAVAILABLE,"Service Not started.");if(this.unhandled)throw new am.RichServerError(Or.Status.UNAVAILABLE,"Unhandled exception/rejection in previous request: "+L0(this.unhandled),[am.DebugInfo.fromPartial({detail:this.unhandled.message,stackEntries:this.unhandled.stack?.split(`
`)})]);return await La.INSTANCE.preprocessBinding(e,r,n)}async processBinding(e,r,n){if(!this.started)throw new Or.ServerError(Or.Status.UNAVAILABLE,"Service Not started.");if(this.unhandled)throw new am.RichServerError(Or.Status.UNAVAILABLE,"Unhandled exception/rejection in previous request: "+L0(this.unhandled),[am.DebugInfo.fromPartial({detail:this.unhandled.message,stackEntries:this.unhandled.stack?.split(`
`)})]);let i=await La.INSTANCE.processBinding(e,r);return bZ(i,e.handlerType),i}async*processBindingsStream(e,r){if(!this.started)throw new Or.ServerError(Or.Status.UNAVAILABLE,"Service Not started.");let n=new Xw.Subject;this.handleRequests(e,n).then(()=>{this.preparedData&&(this.preparedData={ethCallResults:{}}),n.complete()}).catch(i=>{console.error(i),n.error(i)}),yield*(0,Kw.from)(n).pipe((0,Zw.withAbort)(r.signal))}async handlePreprocessRequests(e,r){let n=new pC,i={};for await(let a of e)try{if(a.bindings){let o=a.bindings.bindings,s=n.new(a.processId,r),u=Date.now();this.preprocessBindings(o,i,s,void 0).then(l=>{this.preparedData={ethCallResults:{...this.preparedData?.ethCallResults,...l.ethCallResults}},r.next({processId:a.processId})}).catch(l=>{console.debug(l),s.error(a.processId,l)}).finally(()=>{let l=Date.now()-u;console.debug("preprocessBinding",a.processId," took",l,"ms"),n.delete(a.processId)})}a.dbResult&&n.get(a.processId)?.result(a.dbResult)}catch(o){console.error("unexpect error during handle loop",o)}}async*preprocessBindingsStream(e,r){if(!this.started)throw new Or.ServerError(Or.Status.UNAVAILABLE,"Service Not started.");let n=new Xw.Subject;this.handlePreprocessRequests(e,n).then(()=>{n.complete()}).catch(i=>{console.error(i),n.error(i)}),yield*(0,Kw.from)(n).pipe((0,Zw.withAbort)(r.signal))}async handleRequests(e,r){let n=new pC;for await(let i of e)try{if(i.binding){hBe.add(1);let a=i.binding,o=n.new(i.processId,r),s=Date.now();La.INSTANCE.processBinding(a,this.preparedData,o).then(async u=>{await o.awaitPendings(),r.next({result:u,processId:i.processId}),bZ(u,a.handlerType)}).catch(u=>{console.debug(u),o.error(i.processId,u),mBe.add(1)}).finally(()=>{let u=Date.now()-s;console.debug("processBinding",i.processId," took",u,"ms"),pBe.add(u),n.delete(i.processId),console.debug("db stats",JSON.stringify(ub.stats())),console.debug("provider stats",JSON.stringify(lb.stats()))})}if(i.dbResult){let a=n.get(i.processId);try{a?.result(i.dbResult)}catch{r.error(new Error("db result error, process should stop"))}}}catch(a){console.error("unexpect error during handle loop",a)}}};function bZ(t,e){for(let r of[t.gauges,t.counters,t.events,t.exports])r.forEach(n=>{n.runtimeInfo={from:e}})}var pC=class{contexts=new Map;get(e){return this.contexts.get(e)}new(e,r){let n=new mg(r,e);return this.contexts.set(e,n),n}delete(e){this.get(e)?.close(),this.contexts.delete(e)}};process.stdout.write("");export{Ve as a,ae as b,h as c,vl as d,tr as e,Hr as f,Yi as g,Rr as h,KB as i,La as j,Ec as k,kDe as l,bL as m,L0 as n,NDe as o,$C as p,Co as q,Mr as r,S6 as s,Xo as t,Yo as u,$o as v,C4 as w,Y4 as x,Pf as y,sr as z,g7 as A,xf as B,y7 as C,b7 as D,Qv as E,Bf as F,Xv as G,YN as H,$N as I,Df as J,hg as K,ib as L,ab as M,ob as N,i2 as O,a2 as P,pg as Q,c2 as R,f2 as S,tue as T,s8 as U,p8 as V,mg as W,O5e as X,NW as Y,qR as Z,vZ as _};
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-6XTFFVM5.js.map